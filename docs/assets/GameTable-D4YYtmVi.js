import{Q as C,S as v,r as d,j as e,I as y,ab as E,H as k,O as G}from"./index-Dfhkglqi.js";import{p as $}from"./PlayerMenu-BADgfZDm.js";import{A as K}from"./Add-cPr48IYg.js";import{R as P}from"./Remove-BR4n7Ae5.js";import{T as p,I as M}from"./Header-BCU4WgNm.js";import{C as D}from"./Card-BVAY4v6w.js";import{b as N}from"./blueGrey-DU_9M4pp.js";import{B as _}from"./Button-DkBRJ6n7.js";const q={player:0,hand:0},ht=C("turnAtom",q),z=(n,i)=>n.weight-i.weight,T=[{name:"2",weight:2,suit:"♣"},{name:"3",weight:3,suit:"♣"},{name:"4",weight:4,suit:"♣"},{name:"5",weight:5,suit:"♣"},{name:"6",weight:6,suit:"♣"},{name:"7",weight:7,suit:"♣"},{name:"8",weight:8,suit:"♣"},{name:"9",weight:9,suit:"♣"},{name:"10",weight:10,suit:"♣"},{name:"J",weight:11,suit:"♣"},{name:"Q",weight:12,suit:"♣"},{name:"K",weight:13,suit:"♣"},{name:"A",weight:14,suit:"♣"},{name:"2",weight:2,suit:"♦"},{name:"3",weight:3,suit:"♦"},{name:"4",weight:4,suit:"♦"},{name:"5",weight:5,suit:"♦"},{name:"6",weight:6,suit:"♦"},{name:"7",weight:7,suit:"♦"},{name:"8",weight:8,suit:"♦"},{name:"9",weight:9,suit:"♦"},{name:"10",weight:10,suit:"♦"},{name:"J",weight:11,suit:"♦"},{name:"Q",weight:12,suit:"♦"},{name:"K",weight:13,suit:"♦"},{name:"A",weight:14,suit:"♦"},{name:"2",weight:2,suit:"♥"},{name:"3",weight:3,suit:"♥"},{name:"4",weight:4,suit:"♥"},{name:"5",weight:5,suit:"♥"},{name:"6",weight:6,suit:"♥"},{name:"7",weight:7,suit:"♥"},{name:"8",weight:8,suit:"♥"},{name:"9",weight:9,suit:"♥"},{name:"10",weight:10,suit:"♥"},{name:"J",weight:11,suit:"♥"},{name:"Q",weight:12,suit:"♥"},{name:"K",weight:13,suit:"♥"},{name:"A",weight:14,suit:"♥"},{name:"2",weight:2,suit:"♠"},{name:"3",weight:3,suit:"♠"},{name:"4",weight:4,suit:"♠"},{name:"5",weight:5,suit:"♠"},{name:"6",weight:6,suit:"♠"},{name:"7",weight:7,suit:"♠"},{name:"8",weight:8,suit:"♠"},{name:"9",weight:9,suit:"♠"},{name:"10",weight:10,suit:"♠"},{name:"J",weight:11,suit:"♠"},{name:"Q",weight:12,suit:"♠"},{name:"K",weight:13,suit:"♠"},{name:"A",weight:14,suit:"♠"}],A=C("deckAtom",T),rt=v(null,(n,i)=>{const s=[];T.forEach(h=>s.push(h));for(let h=0;h<100;h+=1){const r=Math.floor(Math.random()*s.length),t=Math.floor(Math.random()*s.length),o=s[r];s[r]=s[t],s[t]=o}i(A,s)}),ct=v(null,(n,i,s,h,r=[])=>{const t=n(A),o=[];t.forEach(c=>o.push(c));const a=[];if(s<=o.length)for(let c=0;c<s;c+=1){const w=o.pop();w&&a.push(w)}const l=[...n($)],u=l.findIndex(c=>c.id===h),g=l[u];g.hands[0]={cards:[...r,...a],weight:0,soft:!1},g.hands[0].cards.sort(z),i(A,o),i($,l)}),L={border:0,backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:"0 3px 12px 3px",width:50},O={textAlign:"left"},U={margin:"auto",marginTop:5,textAlign:"center",width:"100%"},j={cardFace:L,cardTitle:O,suit:U},S=d.memo(({dropped:n,suit:i,name:s,cardHandler:h,playerNo:r,handNo:t,cardNo:o})=>{const a=d.useCallback(()=>{h&&h(r,t,o)},[h,o,t,r]),m={color:i==="♣"||i==="♠"?"black":y[500],backgroundColor:n?y[100]:"white"};return e.jsxs("button",{style:{...j.cardFace,...m},onClick:a,children:[e.jsx("div",{style:j.cardTitle,children:s+i}),e.jsx(p,{variant:"h4",style:{...j.suit,...m},children:i})]})});S.displayName="Card";const V={fontWeight:"bold",marginTop:"0.5em"},X={fontWeight:"normal",marginTop:"0.5em"},Y=({cardHandler:n,cardsToDiscard:i,hand:s,handNo:h,isBlackJack:r,isHandTurn:t,isMultiHand:o,isPlayerTurn:a,playerNo:m})=>{const l=d.useMemo(()=>a&&(!o||o&&t)?{...V,color:E[700]}:X,[a,o,t]),u=s.weight||0;return e.jsxs(e.Fragment,{children:[e.jsx(p,{variant:"h4",style:l,children:r&&`${u>21?"Bust":"Hand"}: ${u}`}),s.cards.map((g,c)=>{const w=i.includes(c);return g?e.jsx(S,{cardHandler:n,cardNo:c,dropped:w,handNo:h,name:g.name,playerNo:m,suit:g.suit},g.name+g.suit):null})]})},Z={borderRadius:5,display:"inline-block",margin:10,padding:20},J={player:Z},H=({betHandler:n,cardHandler:i,cardsToDiscard:s,hideHands:h,isBlackJack:r,player:t,playerNo:o,turn:a})=>{const m=!!a&&o===a.player,l=t.hands.length>1,u=!!h&&r&&t.id!==0&&!t.isBot,g=Math.max(Math.min(t.money,5),0),c=Math.max(Math.min(t.money,100),10),w=()=>{n&&n(t.id,t.bet-5)},F=()=>{n&&n(t.id,t.bet+5)},I={fontWeight:m?"bold":"normal"};let x={background:k[900],color:"white"};return t.status==="win"?x={background:G[300],color:"white"}:t.status==="draw"?x={background:N[300],color:"white"}:t.status==="lose"?x={background:y[300],color:"white"}:m&&(x={background:k[300],color:"black"}),e.jsxs(D,{style:{...J.player,...x},children:[e.jsx(p,{variant:"h4",component:"h2",style:{...I},children:`${t.name}: $${t.money}`}),u&&e.jsx(M,{onClick:w,color:"primary",disabled:t.bet<=g,children:e.jsx(P,{})}),t.bet,u&&e.jsx(M,{onClick:F,color:"primary",disabled:t.bet>=c,children:e.jsx(K,{})}),r&&t.id!==0&&e.jsx(p,{variant:"h5",component:"h3",children:`Bet: $${t.bet}`}),t.hands.map((Q,f)=>{const R=!!a&&a.hand===f;return e.jsx("div",{children:!h&&e.jsx(Y,{cardHandler:i,cardsToDiscard:s,hand:Q,handNo:f,isBlackJack:r,isHandTurn:R,isMultiHand:l,isPlayerTurn:m,playerNo:o})},`hand${f}`)})]})},b=({betHandler:n,cardHandler:i,cardsToDiscard:s,hideHands:h,isBlackJack:r,players:t,turn:o})=>e.jsx(e.Fragment,{children:t.map((a,m)=>e.jsx(H,{betHandler:n,cardHandler:i,cardsToDiscard:s,hideHands:h,isBlackJack:r,player:a,playerNo:m,turn:o},`player${m}`))}),W=d.memo(({onClick:n,name:i})=>e.jsx(_,{onClick:()=>n(i),style:{margin:12},variant:"contained",children:i}));W.displayName="Button";const B=({gameFunctions:n,onClick:i})=>e.jsx("div",{children:n.map(s=>e.jsx(W,{onClick:i,name:s},s))}),gt=({betHandler:n,cardClickHandler:i,cardsToDiscard:s=[],gameFunctions:h=[],gameOver:r=!1,hideHands:t=!1,isBlackJack:o=!0,players:a,turn:m,onClick:l})=>{const u=d.useMemo(()=>a.slice(0,m.player+1),[a,m.player]),g=d.useMemo(()=>a.slice(m.player+1),[a,m.player]),c=d.useMemo(()=>!t&&r===!1?a.slice(m.player,m.player+1):a,[t,r,a,m.player]);return o&&!t?e.jsxs(e.Fragment,{children:[e.jsx(b,{players:u,betHandler:n,cardHandler:i,cardsToDiscard:s,hideHands:t,isBlackJack:o,turn:m}),e.jsx(B,{gameFunctions:h,onClick:l}),e.jsx(b,{players:g,betHandler:n,cardHandler:i,cardsToDiscard:s,hideHands:t,isBlackJack:o,turn:{player:-1,hand:-1}})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{players:c,betHandler:n,cardHandler:i,cardsToDiscard:s,hideHands:t,isBlackJack:o,turn:m}),e.jsx(B,{gameFunctions:h,onClick:l})]})};export{gt as G,ct as d,T as n,z as r,rt as s,ht as t};
//# sourceMappingURL=GameTable-D4YYtmVi.js.map
