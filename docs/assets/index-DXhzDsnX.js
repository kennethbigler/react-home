import{j as t,ap as v,ac as $,Q as k,r as D,_ as A,Z as B,X as K,a0 as N,Y as L,d as M,f as P,n as Y,a7 as w}from"./mui-vendor-BMBlDOcZ.js";import{r as y}from"./react-vendor-BtzsouiL.js";import{b as H,u as S}from"./index-DXyKAzIi.js";const C=0,u=1,g=2;var p=(e=>(e[e.EMPTY=0]="EMPTY",e[e.RED=1]="RED",e[e.BLACK=2]="BLACK",e))(p||{});const z=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],f=(e,s)=>(e.push([...s]),e),T=()=>({board:z.reduce(f,[]),winner:void 0,turn:1}),F=H("connect4Atom",T()),j=(e,s,a,n)=>{if(e[s]!==void 0){const r=e[s][a];r!==void 0&&(r===n[C]&&r!==p.EMPTY?(n[u].push([s,a]),n[u].length>n[g].length&&(n[g]=[...n[u]])):(n[C]=r,n[u]=[[s,a]]))}},I=e=>{switch(e){case 0:return;case 1:return D[500];case 2:return"black";default:return k[600]}},b=y.memo(({ariaLabel:e,piece:s,enabled:a=!1,onClick:n})=>{const d={backgroundColor:I(s)};return a?t.jsx(v,{size:"small",onClick:n,style:d,role:"button","aria-label":e,children:t.jsx($,{style:{color:"white"}})}):t.jsx(v,{disabled:!0,size:"small",style:d,"aria-label":"disabled column input",children:t.jsx("div",{})})});b.displayName="Piece";const R={padding:1,textAlign:"center"},X=({board:e,turn:s,insert:a})=>{const n=e.map((d,m)=>{const c=d.map((i,l)=>t.jsx(A,{style:R,children:t.jsx(b,{piece:i})},`c4c${m},${l}`));return t.jsx(B,{children:c},`c4r${m}`)}).reverse(),r=e[e.length-1].map((d,m)=>t.jsx(A,{style:R,children:t.jsx(b,{enabled:!d,onClick:()=>a(m),piece:d?0:s,ariaLabel:`insert piece into column ${m}`})},`c4h${m}`));return t.jsxs(K,{children:[t.jsx(N,{children:t.jsx(B,{children:r})}),t.jsx(L,{children:n})]})},G=y.memo(({winner:e,turn:s,newGame:a})=>t.jsx(M,{children:t.jsxs("div",{className:"flex-container",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(P,{style:{marginRight:10},variant:"h4",component:"h2",children:e?"Winner:":"Turn:"}),t.jsx(b,{piece:e||s})]}),t.jsx(Y,{onClick:a,variant:"contained",children:"Reset Game"})]})}));G.displayName="Header";const _=({board:e,insert:s,winner:a,turn:n,newGame:r})=>t.jsxs(w,{elevation:2,style:{maxWidth:900,minWidth:300,display:"block",margin:"auto",paddingBottom:5},children:[t.jsx(G,{newGame:r,turn:n,winner:a}),t.jsx(X,{board:e,insert:s,turn:n})]}),O=y.memo(()=>{const[{turn:e,board:s,winner:a},n]=S(F),r=()=>{n(T())},d=(c,i,l)=>{const h=[];for(let o=0;o<4;o+=1){const x=[],W=[];h.push([0,x,W])}for(let o=-3;o<=3;o+=1)j(l,c+o,i,h[0]),j(l,c,i+o,h[1]),j(l,c+o,i+o,h[2]),j(l,c-o,i+o,h[3]);const E=l.reduce(f,[]);h.forEach(o=>{o[g].length>=4&&(o[g].forEach(x=>{E[x[0]][x[1]]=3}),n({turn:e,winner:e,board:E}))})},m=c=>{if(!a&&!s[s.length-1][c]){let i=0;for(;s[i][c]!==0;)i+=1;const l=s.reduce(f,[]);l[i][c]=e,n({winner:a,turn:e===p.RED?p.BLACK:p.RED,board:l}),d(i,c,l)}};return t.jsxs(t.Fragment,{children:[t.jsx(P,{variant:"h2",component:"h1",gutterBottom:!0,children:"Welcome to Ken's Connect4 Game"}),t.jsx(_,{board:s,insert:m,newGame:r,turn:e,winner:a})]})});O.displayName="Connect4";export{O as default};
//# sourceMappingURL=index-DXhzDsnX.js.map
