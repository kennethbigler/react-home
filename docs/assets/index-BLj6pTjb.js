import{b as N,g as $,s as G,t as W,h as C,m as w,r as z,e as D,j as a,c as k,f as V,q as H,Q as L,G as K,A as _}from"./index-CJa5tPCC.js";import{B as O,c as U,n as Y,l as J,T as P,P as q}from"./Header-ssPiv48r.js";import{l as Q}from"./lightGreen-Czsbt-f6.js";import{c as B,b as S,T as X,a as Z}from"./TableRow-YchMbI48.js";import{T as ee}from"./TableHead-_jUkOBrM.js";import{B as se}from"./Button-B4srmQpF.js";function te(e){return N("MuiFab",e)}const E=$("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),ae=e=>{const{color:s,variant:t,classes:o,size:r}=e,p={root:["root",t,`size${C(r)}`,s==="inherit"?"colorInherit":s]},d=V(p,te,o);return{...o,...d}},oe=G(O,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>W(e)||e==="classes",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,s[t.variant],s[`size${C(t.size)}`],t.color==="inherit"&&s.colorInherit,s[C(t.size)],s[t.color]]}})(w(({theme:e})=>{var s,t;return{...e.typography.button,minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(t=(s=e.palette).getContrastText)==null?void 0:t.call(s,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${E.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),w(({theme:e})=>({variants:[...Object.entries(e.palette).filter(H(["dark","contrastText"])).map(([s])=>({props:{color:s},style:{color:(e.vars||e).palette[s].contrastText,backgroundColor:(e.vars||e).palette[s].main,"&:hover":{backgroundColor:(e.vars||e).palette[s].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[s].main}}}}))]})),w(({theme:e})=>({[`&.${E.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}))),T=z.forwardRef(function(s,t){const o=D({props:s,name:"MuiFab"}),{children:r,className:p,color:d="default",component:n="button",disabled:c=!1,disableFocusRipple:l=!1,focusVisibleClassName:u,size:g="large",variant:i="circular",...b}=o,m={...o,color:d,component:n,disabled:c,disableFocusRipple:l,size:g,variant:i},j=ae(m);return a.jsx(oe,{className:k(j.root,p),component:n,disabled:c,focusRipple:!l,focusVisibleClassName:k(j.focusVisible,u),ownerState:m,ref:t,...b,classes:j,children:r})}),A=0,x=1,f=2;var h=(e=>(e[e.EMPTY=0]="EMPTY",e[e.RED=1]="RED",e[e.BLACK=2]="BLACK",e))(h||{});const re=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],R=(e,s)=>(e.push([...s]),e),I=()=>({board:re.reduce(R,[]),winner:void 0,turn:1}),ne=L({key:"connect4Atom",default:JSON.parse(localStorage.getItem("connect4-atom")||"null")||I(),effects:[({onSet:e})=>{e(s=>{localStorage.setItem("connect4-atom",JSON.stringify(s))})}]}),v=(e,s,t,o)=>{if(e[s]!==void 0){const r=e[s][t];r!==void 0&&(r===o[A]&&r!==h.EMPTY?(o[x].push([s,t]),o[x].length>o[f].length&&(o[f]=[...o[x]])):(o[A]=r,o[x]=[[s,t]]))}},ie=U(a.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),ce=e=>{switch(e){case 0:return;case 1:return K[500];case 2:return"black";default:return Q[600]}},y=z.memo(e=>{const{ariaLabel:s,piece:t,enabled:o=!1,onClick:r=Y}=e,d={backgroundColor:ce(t)};return o?a.jsx(T,{size:"small",onClick:r,style:d,role:"button","aria-label":s,children:a.jsx(ie,{style:{color:"white"}})}):a.jsx(T,{disabled:!0,size:"small",style:d,"aria-label":"disabled column input",children:a.jsx("div",{})})});y.displayName="Piece";const F={padding:1,textAlign:"center"},le=e=>{const{board:s,turn:t,insert:o}=e,r=s.map((d,n)=>{const c=d.map((l,u)=>a.jsx(B,{style:F,children:a.jsx(y,{piece:l})},`c4c${n},${u}`));return a.jsx(S,{children:c},`c4r${n}`)}).reverse(),p=s[s.length-1].map((d,n)=>a.jsx(B,{style:F,children:a.jsx(y,{enabled:!d,onClick:()=>o(n),piece:d?0:t,ariaLabel:`insert piece into column ${n}`})},`c4h${n}`));return a.jsxs(X,{children:[a.jsx(ee,{children:a.jsx(S,{children:p})}),a.jsx(Z,{children:r})]})},M=z.memo(e=>{const{winner:s,turn:t,newGame:o}=e,r=s?"Winner:":"Turn:",p=s||t;return a.jsx(J,{children:a.jsxs("div",{className:"flex-container",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsx(P,{style:{marginRight:10},variant:"h4",component:"h2",children:r}),a.jsx(y,{piece:p})]}),a.jsx(se,{onClick:o,variant:"contained",children:"Reset Game"})]})})});M.displayName="Header";const de=e=>{const{board:s,insert:t,winner:o,turn:r,newGame:p}=e;return a.jsxs(q,{elevation:2,style:{maxWidth:900,minWidth:300,display:"block",margin:"auto",paddingBottom:5},children:[a.jsx(M,{newGame:p,turn:r,winner:o}),a.jsx(le,{board:s,insert:t,turn:r})]})},xe=()=>{const[{turn:e,board:s,winner:t},o]=_(ne),r=()=>{o(I())},p=(n,c,l)=>{const u=[];for(let i=0;i<4;i+=1){const b=[],m=[];u.push([0,b,m])}for(let i=-3;i<=3;i+=1)v(l,n+i,c,u[0]),v(l,n,c+i,u[1]),v(l,n+i,c+i,u[2]),v(l,n-i,c+i,u[3]);const g=l.reduce(R,[]);u.forEach(i=>{i[f].length>=4&&(i[f].forEach(b=>{g[b[0]][b[1]]=3}),o({turn:e,winner:e,board:g}))})},d=n=>{if(!t&&!s[s.length-1][n]){let c=0;for(;s[c][n]!==0;)c+=1;const l=s.reduce(R,[]);l[c][n]=e,o({winner:t,turn:e===h.RED?h.BLACK:h.RED,board:l}),p(c,n,l)}};return a.jsxs(a.Fragment,{children:[a.jsx(P,{variant:"h2",component:"h1",gutterBottom:!0,children:"Welcome to Ken's Connect4 Game"}),a.jsx(de,{board:s,insert:d,newGame:r,turn:e,winner:t})]})};export{xe as default};
//# sourceMappingURL=index-BLj6pTjb.js.map
