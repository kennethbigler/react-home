{"version":3,"file":"index-CwFnyNbz.js","sources":["../../src/images/bridge_bidding_cheat_sheet_1.jpg","../../src/images/bridge_bidding_cheat_sheet_2.jpg","../../src/images/ken_bridge_betting.jpg","../../src/components/games/bridge/header/bid-dialog/BidDialog.tsx","../../src/components/games/bridge/header/score-dialog/score-helper.tsx","../../src/components/games/bridge/header/score-dialog/ScoringTable.tsx","../../src/components/games/bridge/header/score-dialog/ScoreForm.tsx","../../src/jotai/bridge-atom.ts","../../src/components/games/bridge/header/score-dialog/ScoreSummary.tsx","../../src/components/games/bridge/header/score-dialog/ScoreDialog.tsx","../../src/components/games/bridge/header/Header.tsx","../../src/components/games/bridge/ScoreDisplay.tsx","../../src/components/games/bridge/Bridge.tsx"],"sourcesContent":["export default \"__VITE_ASSET__5Z5VF$KQ__\"","export default \"__VITE_ASSET__D_W64FYE__\"","export default \"__VITE_ASSET__BmgHz06H__\"","import InfoPopup from \"../../../../common/info-popover/InfoPopup\";\nimport bidPage1 from \"../../../../../images/bridge_bidding_cheat_sheet_1.jpg\";\nimport bidPage2 from \"../../../../../images/bridge_bidding_cheat_sheet_2.jpg\";\nimport bidPageK from \"../../../../../images/ken_bridge_betting.jpg\";\n\nconst BidDialog = () => (\n  <InfoPopup title=\"Bid\">\n    <img src={bidPage1} alt=\"Bridge Bidding Cheat Sheet Page 1\" width=\"100%\" />\n    <img src={bidPage2} alt=\"Bridge Bidding Cheat Sheet Page 2\" width=\"100%\" />\n    <img src={bidPageK} alt=\"Ken Bridge Betting\" width=\"100%\" />\n  </InfoPopup>\n);\n\nexport default BidDialog;\n","export const undertrickTable = [\n  [50, 100, 100, 200],\n  [100, 200, 300, 500],\n  [150, 300, 500, 800],\n  [200, 400, 800, 1100],\n  [250, 500, 1100, 1400],\n  [350, 600, 1200, 1700],\n  [400, 700, 1400, 2000],\n  [450, 800, 1600, 2300],\n  [500, 900, 1800, 2700],\n  [550, 1000, 2000, 3000],\n  [600, 1100, 2200, 3300],\n  [650, 1200, 2400, 3600],\n  [700, 1300, 2600, 3900],\n];\n\nconst useBridgeScorer = (\n  declarerTricks: number,\n  contractTricks: number,\n  isWe: boolean,\n  contractSuit: string,\n  isDouble: boolean,\n  isRedouble: boolean,\n  is4Aces: boolean,\n  is4Honours: boolean,\n  is5Honours: boolean,\n) => {\n  // --------------------     Winning Team     -------------------- //\n  const madeBid = declarerTricks >= contractTricks + 6;\n  let winner: \"we\" | \"they\";\n  if (madeBid) {\n    winner = isWe ? \"we\" : \"they\";\n  } else {\n    winner = !isWe ? \"we\" : \"they\";\n  }\n\n  // --------------------     Above the Line     -------------------- //\n  let aboveTheLine: number = 0;\n  if (madeBid) {\n    if (contractSuit === \"‚ô£Ô∏è\" || contractSuit === \"‚ô¶Ô∏è\") {\n      aboveTheLine = contractTricks * 20;\n    } else if (contractSuit === \"‚ô•Ô∏è\" || contractSuit === \"‚ô†Ô∏è\") {\n      aboveTheLine = contractTricks * 30;\n    } else if (contractSuit === \"NT\") {\n      aboveTheLine = 40 + (contractTricks - 1) * 30;\n    }\n  }\n\n  // --------------------     Below the Line     -------------------- //\n  let belowTheLine: number = 0;\n  const isVulnerable = false;\n  if (madeBid) {\n    // check for slams\n    const slamMultiplier = 1 * (isDouble ? 2 : 1) * (isRedouble ? 2 : 1);\n    if (contractTricks === 6) {\n      belowTheLine += slamMultiplier * (isVulnerable ? 500 : 750);\n    } else if (contractTricks === 7) {\n      belowTheLine += slamMultiplier * (isVulnerable ? 1000 : 1500);\n    }\n\n    // check for overtricks\n    if (declarerTricks > contractTricks + 6) {\n      const overtricks = declarerTricks - contractTricks - 6;\n      if (!isDouble) {\n        belowTheLine +=\n          overtricks *\n          (contractSuit === \"‚ô£Ô∏è\" || contractSuit === \"‚ô¶Ô∏è\" ? 20 : 30);\n      } else {\n        const multiplier = 1 * (isVulnerable ? 2 : 1) * (isRedouble ? 2 : 1);\n        belowTheLine += overtricks * 100 * multiplier;\n      }\n    }\n\n    // check for honours\n    if (contractSuit === \"NT\" && is4Aces) {\n      belowTheLine += 150;\n    } else if (contractSuit !== \"NT\") {\n      if (is5Honours) {\n        belowTheLine += 150;\n      } else if (is4Honours) {\n        belowTheLine += 100;\n      }\n    }\n    if (isRedouble) {\n      belowTheLine += 100;\n    } else if (isDouble) {\n      belowTheLine += 50;\n    }\n  } else {\n    // check for undertricks\n    const undertricks = contractTricks + 6 - declarerTricks - 1; // -1 for 0 indexing\n    const lookupIdx = 0 + (isVulnerable ? 1 : 0) + (isDouble ? 2 : 0);\n    const multiplier = isRedouble ? 2 : 1;\n    belowTheLine += undertrickTable[undertricks][lookupIdx] * multiplier;\n  }\n\n  // --------------------     Returns     -------------------- //\n  return {\n    winner,\n    madeBid,\n    aboveTheLine,\n    belowTheLine,\n  };\n};\n\nexport default useBridgeScorer;\n","import {\n  Table,\n  TableBody,\n  TableRow,\n  TableHead,\n  TableCell,\n  Typography,\n  Divider,\n} from \"@mui/material\";\nimport { memo } from \"react\";\nimport { undertrickTable } from \"./score-helper\";\n\nconst ScoringTable = memo(() => {\n  return (\n    <>\n      <Divider sx={{ marginTop: 7, marginBottom: 5 }} />\n      <Table aria-labelledby=\"contracts-trick-values\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={2} align=\"center\">\n              <Typography variant=\"h5\" component=\"h3\">\n                Scoring Table\n              </Typography>\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={2} align=\"center\">\n              <Typography\n                variant=\"h6\"\n                component=\"h4\"\n                id=\"contracts-trick-values\"\n              >\n                Contracts - Trick Values\n              </Typography>\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <TableRow>\n            <TableCell>Minors ‚ô£Ô∏è‚ô¶Ô∏è</TableCell>\n            <TableCell>20</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Majors ‚ô•Ô∏è‚ô†Ô∏è</TableCell>\n            <TableCell>30</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>No Trump ü•á</TableCell>\n            <TableCell>40</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>No Trump ü•à+</TableCell>\n            <TableCell>30</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n\n      <Table aria-labelledby=\"bridge-rubbers\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={2} align=\"center\">\n              <Typography variant=\"h6\" component=\"h4\" id=\"bridge-rubbers\">\n                Rubbers\n              </Typography>\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <TableRow>\n            <TableCell>3 Game Rubber Won</TableCell>\n            <TableCell>500</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>2 Game Rubber Won</TableCell>\n            <TableCell>700</TableCell>\n          </TableRow>\n        </TableBody>\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={2} sx={{ fontWeight: \"bold\" }}>\n              Unfinished Rubbers\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <TableRow>\n            <TableCell>Only partial score - no finished game</TableCell>\n            <TableCell>100</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Won the only game</TableCell>\n            <TableCell>300</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n\n      <Table aria-labelledby=\"bridge-slams\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={3} align=\"center\">\n              <Typography variant=\"h6\" component=\"h4\" id=\"bridge-slams\">\n                Slams\n              </Typography>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell />\n            <TableCell sx={{ textDecoration: \"underline\" }}>Not Vul</TableCell>\n            <TableCell sx={{ textDecoration: \"underline\" }}>Vul</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <TableRow>\n            <TableCell>Small</TableCell>\n            <TableCell>500</TableCell>\n            <TableCell>750</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Grand</TableCell>\n            <TableCell>1000</TableCell>\n            <TableCell>1500</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n\n      <Table aria-labelledby=\"bridge-overtricks\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={3} align=\"center\">\n              <Typography variant=\"h6\" component=\"h4\" id=\"bridge-overtricks\">\n                Overtricks\n              </Typography>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Per Overtrick</TableCell>\n            <TableCell sx={{ textDecoration: \"underline\" }}>Not Vul</TableCell>\n            <TableCell sx={{ textDecoration: \"underline\" }}>Vul</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <TableRow>\n            <TableCell>Not Doubled</TableCell>\n            <TableCell colSpan={2} align=\"center\">\n              Trick Value\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Doubled</TableCell>\n            <TableCell>100</TableCell>\n            <TableCell>200</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Redoubled</TableCell>\n            <TableCell>200</TableCell>\n            <TableCell>400</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n\n      <Table aria-labelledby=\"bridge-undertricks\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={5} align=\"center\">\n              <Typography variant=\"h6\" component=\"h4\" id=\"bridge-undertricks\">\n                Undertricks\n              </Typography>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell />\n            <TableCell colSpan={2} align=\"center\">\n              Not Doubled\n            </TableCell>\n            <TableCell colSpan={2} align=\"center\">\n              Doubled\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell />\n            <TableCell sx={{ textDecoration: \"underline\" }}>NV</TableCell>\n            <TableCell sx={{ textDecoration: \"underline\" }}>Vul</TableCell>\n            <TableCell sx={{ textDecoration: \"underline\" }}>NV</TableCell>\n            <TableCell sx={{ textDecoration: \"underline\" }}>Vul</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {undertrickTable.map((underTrickRow, i) => (\n            <TableRow key={`${i}-undertricks`}>\n              <TableCell>{i + 1}</TableCell>\n              <TableCell>{underTrickRow[0]}</TableCell>\n              <TableCell>{underTrickRow[1]}</TableCell>\n              <TableCell>{underTrickRow[2]}</TableCell>\n              <TableCell>{underTrickRow[3]}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n\n      <Table aria-labelledby=\"extra-bonuses\">\n        <TableHead>\n          <TableRow>\n            <TableCell colSpan={2} align=\"center\">\n              <Typography variant=\"h6\" component=\"h4\" id=\"extra-bonuses\">\n                Extra Bonuses\n              </Typography>\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          <TableRow>\n            <TableCell>Making a doubled contract</TableCell>\n            <TableCell>50</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>Making a redoubled contract</TableCell>\n            <TableCell>100</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>4 trump honours in 1 hand</TableCell>\n            <TableCell>100</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>5 trump honours in 1 hand</TableCell>\n            <TableCell>150</TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell>4 aces in 1 hand in NT</TableCell>\n            <TableCell>150</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </>\n  );\n});\n\nScoringTable.displayName = \"ScoringTable\";\n\nexport default ScoringTable;\n","import { ChangeEvent } from \"react\";\nimport {\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  SelectChangeEvent,\n  FormControlLabel,\n  Switch,\n  FormGroup,\n  Typography,\n  Grid,\n} from \"@mui/material\";\n\nexport type eIn = ChangeEvent<HTMLInputElement>;\n\ninterface ScoreFormProps {\n  contractSuit: string;\n  contractTricks: number;\n  declarerTricks: number;\n  isWe: boolean;\n  isDouble: boolean;\n  isRedouble: boolean;\n  is4Honours: boolean;\n  is5Honours: boolean;\n  is4Aces: boolean;\n  madeBid: boolean;\n  onContractSuitChange: (e: SelectChangeEvent<string>) => void;\n  onContractTricksChange: (e: SelectChangeEvent<number>) => void;\n  onDeclarerTricksChange: (e: SelectChangeEvent<number>) => void;\n  onBidWinnerToggle: (_e: eIn, checked: boolean) => void;\n  onRedoubleToggle: (_e: eIn, checked: boolean) => void;\n  onDoubleToggle: (_e: eIn, checked: boolean) => void;\n  on4AcesToggle: (_e: eIn, checked: boolean) => void;\n  on5HonoursToggle: (_e: eIn, checked: boolean) => void;\n  on4HonoursToggle: (_e: eIn, checked: boolean) => void;\n}\n\nconst CONTRACT_SUIT = \"Contract Suit\";\nconst CONTRACT_TRICKS = \"Contract Tricks\";\nconst DECLARER_TRICKS = \"Declarer Team Tricks\";\n\nconst suitOptions = [\"‚ô£Ô∏è\", \"‚ô¶Ô∏è\", \"‚ô•Ô∏è\", \"‚ô†Ô∏è\", \"NT\"];\nconst bidOptions = [1, 2, 3, 4, 5, 6, 7];\nconst trickOptions = [\n  0,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  \"7 (1)\",\n  \"8 (2)\",\n  \"9 (3)\",\n  \"10 (4)\",\n  \"11 (5)\",\n  \"12 (6)\",\n  \"13 (7)\",\n];\n\nconst ScoreForm = ({\n  contractSuit,\n  contractTricks,\n  declarerTricks,\n  isWe,\n  isDouble,\n  isRedouble,\n  is4Honours,\n  is5Honours,\n  is4Aces,\n  madeBid,\n  onContractSuitChange,\n  onContractTricksChange,\n  onDeclarerTricksChange,\n  onBidWinnerToggle,\n  onRedoubleToggle,\n  onDoubleToggle,\n  on4AcesToggle,\n  on5HonoursToggle,\n  on4HonoursToggle,\n}: ScoreFormProps) => (\n  <FormGroup>\n    <Grid container spacing={1}>\n      <Grid size={12}>\n        <Typography variant=\"h6\">Contract</Typography>\n      </Grid>\n      <Grid size={6}>\n        <FormControl fullWidth>\n          <InputLabel id=\"contract-suit-label\">{CONTRACT_SUIT}</InputLabel>\n          <Select\n            labelId=\"contract-suit-label\"\n            id=\"contract-suit-select\"\n            value={contractSuit}\n            label={CONTRACT_SUIT}\n            name=\"contract-suit-name\"\n            onChange={onContractSuitChange}\n          >\n            {suitOptions.map((suit) => (\n              <MenuItem key={suit} value={suit}>\n                {suit}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid size={6}>\n        <FormControl fullWidth>\n          <InputLabel id=\"contract-tricks-label\">{CONTRACT_TRICKS}</InputLabel>\n          <Select\n            labelId=\"contract-tricks-label\"\n            id=\"contract-tricks-select\"\n            value={contractTricks}\n            label={CONTRACT_TRICKS}\n            name=\"contract-tricks-name\"\n            onChange={onContractTricksChange}\n          >\n            {bidOptions.map((n) => (\n              <MenuItem key={n} value={n}>\n                {n}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid size={6}>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={isDouble}\n              onChange={onDoubleToggle}\n              name=\"doubled\"\n            />\n          }\n          label=\"Doubled?\"\n        />\n      </Grid>\n      <Grid size={6}>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={isRedouble}\n              onChange={onRedoubleToggle}\n              name=\"redoubled\"\n            />\n          }\n          label=\"Redoubled?\"\n        />\n      </Grid>\n\n      <Grid size={6}>\n        <FormControl\n          sx={{\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            margin: \"10px 0\",\n          }}\n        >\n          <Typography>Bid: </Typography>\n          <Switch\n            checked={isWe}\n            onChange={onBidWinnerToggle}\n            name=\"bid-winner\"\n            slotProps={{ input: { \"aria-label\": \"Bid Winner is we\" } }}\n          />\n          <Typography>{isWe ? \"We\" : \"They\"}</Typography>\n        </FormControl>\n      </Grid>\n      <Grid size={6}>\n        <FormControl fullWidth>\n          <InputLabel id=\"declarer-tricks-label\">{DECLARER_TRICKS}</InputLabel>\n          <Select\n            labelId=\"declarer-tricks-label\"\n            id=\"declarer-tricks-select\"\n            value={declarerTricks}\n            label={DECLARER_TRICKS}\n            name=\"declarer-tricks-name\"\n            onChange={onDeclarerTricksChange}\n          >\n            {trickOptions.map((n, i) => (\n              <MenuItem key={n} value={i}>\n                {n}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n\n      {madeBid && (\n        <>\n          <Grid size={12}>\n            <Typography variant=\"h6\">Honours</Typography>\n          </Grid>\n          {contractSuit === \"NT\" ? (\n            <Grid size={12}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={is4Aces}\n                    onChange={on4AcesToggle}\n                    name=\"4-aces\"\n                  />\n                }\n                label=\"4 Aces in 1 hand?\"\n              />\n            </Grid>\n          ) : (\n            <>\n              <Grid size={6}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={is4Honours}\n                      onChange={on4HonoursToggle}\n                      name=\"4-honours\"\n                    />\n                  }\n                  label=\"4 Honours in 1 hand?\"\n                />\n              </Grid>\n              <Grid size={6}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={is5Honours}\n                      onChange={on5HonoursToggle}\n                      name=\"5-honours\"\n                    />\n                  }\n                  label=\"5 Honours in 1 hand?\"\n                />\n              </Grid>\n            </>\n          )}\n        </>\n      )}\n    </Grid>\n  </FormGroup>\n);\n\nexport default ScoreForm;\n","import { atom } from \"jotai\";\nimport { atomWithStorage } from \"jotai/utils\";\n\nexport type AboveScores = [\n  [number[], number[]],\n  [number[], number[]],\n  [number[], number[]],\n];\n\nexport interface BridgeState {\n  aboveScores: AboveScores;\n  bids: string[];\n  weBelow: number[];\n  theyBelow: number[];\n  weRubbers: number;\n  theyRubbers: number;\n}\n\nexport const newBridgeGame: () => Omit<\n  BridgeState,\n  \"weRubbers\" | \"theyRubbers\"\n> = () => ({\n  aboveScores: [\n    [[], []],\n    [[], []],\n    [[], []],\n  ],\n  bids: [],\n  weBelow: [],\n  theyBelow: [],\n});\n\nconst bridgeAtom = atomWithStorage<BridgeState>(\"bridgeAtom\", {\n  ...newBridgeGame(),\n  weRubbers: 0,\n  theyRubbers: 0,\n});\n\nexport const sum = (scores: number[]) => scores.reduce((acc, n) => acc + n, 0);\n\nexport const bridgeRead = atom((get) => {\n  // access state\n  const { aboveScores: aScores, weBelow, theyBelow } = get(bridgeAtom);\n  // track wins\n  let weWins = 0;\n  let theyWins = 0;\n  let gameIdx = 0;\n  let weSum = sum(weBelow);\n  let theySum = sum(theyBelow);\n  // calculate wins\n  aScores.forEach(([we, they]) => {\n    const weScore = sum(we);\n    const theyScore = sum(they);\n    weSum += weScore;\n    theySum += theyScore;\n    if (weScore > theyScore && weScore >= 100) {\n      weWins += 1;\n      gameIdx += 1;\n    } else if (theyScore > weScore && theyScore >= 100) {\n      theyWins += 1;\n      gameIdx += 1;\n    }\n  });\n  // calculate vulnerabilities\n  const weVulnerable = weWins > 0;\n  const theyVulnerable = theyWins > 0;\n\n  return {\n    gameIdx,\n    weSum,\n    weWins,\n    weVulnerable,\n    theySum,\n    theyWins,\n    theyVulnerable,\n  };\n});\n\nexport default bridgeAtom;\n","import { memo } from \"react\";\nimport { Typography } from \"@mui/material\";\n\ninterface ScoreSummaryProps {\n  winner: \"we\" | \"they\";\n  madeBid: boolean;\n  aboveTheLine: number;\n  belowTheLine: number;\n}\n\nconst ScoreSummary = memo(\n  ({ winner, madeBid, aboveTheLine, belowTheLine }: ScoreSummaryProps) => (\n    <div style={{ marginTop: 10 }}>\n      <Typography variant=\"h6\">Score</Typography>\n      {madeBid ? (\n        <Typography>Declarer ({winner}) won the hand!</Typography>\n      ) : (\n        <Typography>Defender ({winner}) successfully defended!</Typography>\n      )}\n      {madeBid && <Typography>Above the line: {aboveTheLine}</Typography>}\n      <Typography>Below the line: {belowTheLine}</Typography>\n    </div>\n  ),\n);\n\nScoreSummary.displayName = \"ScoreSummary\";\n\nexport default ScoreSummary;\n","import { memo, useState } from \"react\";\nimport { useAtom, useAtomValue } from \"jotai\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Divider,\n  SelectChangeEvent,\n} from \"@mui/material\";\nimport ScoringTable from \"./ScoringTable\";\nimport ScoreForm, { eIn } from \"./ScoreForm\";\nimport useBridgeScorer from \"./score-helper\";\nimport bridgeAtom, {\n  AboveScores,\n  bridgeRead,\n  newBridgeGame,\n  sum,\n} from \"../../../../../jotai/bridge-atom\";\nimport ScoreSummary from \"./ScoreSummary\";\n\nconst ScoreDialog = memo(() => {\n  const [\n    { aboveScores, weBelow, theyBelow, weRubbers, theyRubbers, bids, ...other },\n    setBridgeState,\n  ] = useAtom(bridgeAtom);\n  const { gameIdx, weWins, theyWins, weSum, theySum } =\n    useAtomValue(bridgeRead);\n  // modal state\n  const [isOpen, setIsOpen] = useState(false);\n  // form state\n  const [contractSuit, setContractSuit] = useState(\"NT\");\n  const [contractTricks, setContractTricks] = useState(1);\n  const [declarerTricks, setDeclarerTricks] = useState(7);\n  const [isWe, setIsWe] = useState(true);\n  const [isDouble, setIsDouble] = useState(false);\n  const [isRedouble, setIsRedouble] = useState(false);\n  const [is4Honours, setIs4Honours] = useState(false);\n  const [is5Honours, setIs5Honours] = useState(false);\n  const [is4Aces, setIs4Aces] = useState(false);\n\n  // modal handlers\n  const handleOpen = () => setIsOpen(true);\n  const handleClose = () => setIsOpen(false);\n  // form handlers\n  const handleContractSuitChange = (e: SelectChangeEvent<string>) =>\n    setContractSuit(e.target.value);\n  const handleContractTricksChange = (e: SelectChangeEvent<number>) =>\n    setContractTricks(e.target.value);\n  const handleDeclarerTricksChange = (e: SelectChangeEvent<number>) =>\n    setDeclarerTricks(e.target.value);\n  const handleBidWinnerToggle = (_e: eIn, checked: boolean) => setIsWe(checked);\n  // double handlers\n  const handleRedoubleToggle = (_e: eIn, checked: boolean) => {\n    if (checked) {\n      setIsDouble(true);\n    }\n    setIsRedouble(checked);\n  };\n  const handleDoubleToggle = (_e: eIn, checked: boolean) =>\n    setIsDouble(checked);\n  // honours handlers\n  const handle4AcesToggle = (_e: eIn, checked: boolean) => setIs4Aces(checked);\n  const handle5HonoursToggle = (_e: eIn, checked: boolean) => {\n    if (checked) {\n      setIsDouble(true);\n    }\n    setIs5Honours(checked);\n  };\n  const handle4HonoursToggle = (_e: eIn, checked: boolean) =>\n    setIs4Honours(checked);\n\n  // Reset form to defaults\n  const resetForm = () => {\n    setContractSuit(\"NT\");\n    setContractTricks(1);\n    setDeclarerTricks(7);\n    setIsDouble(false);\n    setIsRedouble(false);\n    setIs4Honours(false);\n    setIs5Honours(false);\n    setIs4Aces(false);\n  };\n\n  const { winner, madeBid, aboveTheLine, belowTheLine } = useBridgeScorer(\n    declarerTricks,\n    contractTricks,\n    isWe,\n    contractSuit,\n    isDouble,\n    isRedouble,\n    is4Aces,\n    is4Honours,\n    is5Honours,\n  );\n\n  const handleSave = () => {\n    const [we, they] = aboveScores[gameIdx];\n    const newWe: number[] = [...we];\n    const newThey: number[] = [...they];\n    const newWeBelow: number[] = [...weBelow];\n    const newTheyBelow: number[] = [...theyBelow];\n\n    if (winner === \"we\") {\n      newWe.push(aboveTheLine);\n      newWeBelow.push(belowTheLine);\n      newThey.push(0);\n      newTheyBelow.push(0);\n    } else {\n      newThey.push(aboveTheLine);\n      newTheyBelow.push(belowTheLine);\n      newWe.push(0);\n      newWeBelow.push(0);\n    }\n\n    const newAboveScores: AboveScores = [...aboveScores];\n    newAboveScores[gameIdx] = [newWe, newThey];\n\n    setBridgeState({\n      aboveScores: newAboveScores,\n      weBelow: newWeBelow,\n      theyBelow: newTheyBelow,\n      weRubbers,\n      theyRubbers,\n      bids: [...bids, `${contractTricks}${contractSuit}${madeBid ? \"\" : \"‚ùå\"}`],\n      ...other,\n    });\n\n    resetForm();\n    handleClose();\n  };\n\n  const handleUndo = () => {\n    const [we, they] = aboveScores[gameIdx];\n    const newWe = [...we.slice(0, -1)];\n    const newThey = [...they.slice(0, -1)];\n    const newWeBelow = [...weBelow.slice(0, -1)];\n    const newTheyBelow = [...theyBelow.slice(0, -1)];\n    const newBids = [...bids.slice(0, -1)];\n    const newAboveScores: AboveScores = [...aboveScores];\n    newAboveScores[gameIdx] = [newWe, newThey];\n    setBridgeState({\n      aboveScores: newAboveScores,\n      weBelow: newWeBelow,\n      theyBelow: newTheyBelow,\n      weRubbers,\n      theyRubbers,\n      bids: newBids,\n      ...other,\n    });\n    handleClose();\n  };\n\n  const handleEnd = () => {\n    let newWeRubbers = weRubbers;\n    let newTheyRubbers = theyRubbers;\n    let weTotal = weSum;\n    let theyTotal = theySum;\n    if (weWins > theyWins) {\n      weTotal += 300;\n    } else if (theyWins > weWins) {\n      theyTotal += 300;\n    } else {\n      const [we, they] = aboveScores[gameIdx];\n      const sumWe = sum(we);\n      const sumThey = sum(they);\n      if (sumWe > 0 && sumThey === 0) {\n        weTotal += 100;\n      } else if (sumThey > 0 && sumWe === 0) {\n        theyTotal += 100;\n      }\n    }\n\n    if (weTotal > theyTotal) {\n      newWeRubbers += 1;\n    } else if (theyTotal > weTotal) {\n      newTheyRubbers += 1;\n    }\n\n    setBridgeState({\n      weRubbers: newWeRubbers,\n      theyRubbers: newTheyRubbers,\n      ...newBridgeGame(),\n    });\n    handleClose();\n  };\n\n  return (\n    <>\n      <Button onClick={handleOpen} variant=\"contained\">\n        Score\n      </Button>\n\n      <Dialog\n        title=\"info-popup\"\n        onClose={handleClose}\n        open={isOpen}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>Score</DialogTitle>\n\n        <DialogContent>\n          <ScoreForm\n            contractSuit={contractSuit}\n            contractTricks={contractTricks}\n            declarerTricks={declarerTricks}\n            isWe={isWe}\n            isDouble={isDouble}\n            isRedouble={isRedouble}\n            is4Honours={is4Honours}\n            is5Honours={is5Honours}\n            is4Aces={is4Aces}\n            madeBid={madeBid}\n            onContractSuitChange={handleContractSuitChange}\n            onContractTricksChange={handleContractTricksChange}\n            onDeclarerTricksChange={handleDeclarerTricksChange}\n            onBidWinnerToggle={handleBidWinnerToggle}\n            onRedoubleToggle={handleRedoubleToggle}\n            onDoubleToggle={handleDoubleToggle}\n            on4AcesToggle={handle4AcesToggle}\n            on5HonoursToggle={handle5HonoursToggle}\n            on4HonoursToggle={handle4HonoursToggle}\n          />\n\n          <Divider sx={{ marginTop: 2 }} />\n          <ScoreSummary\n            winner={winner}\n            madeBid={madeBid}\n            aboveTheLine={aboveTheLine}\n            belowTheLine={belowTheLine}\n          />\n          <ScoringTable />\n        </DialogContent>\n\n        <DialogActions>\n          <Button color=\"error\" onClick={handleEnd}>\n            End\n          </Button>\n          <Button color=\"warning\" onClick={handleUndo}>\n            Undo\n          </Button>\n          <Button color=\"primary\" onClick={handleClose}>\n            Close\n          </Button>\n          <Button color=\"secondary\" onClick={handleSave}>\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n});\n\nScoreDialog.displayName = \"ScoreDialog\";\n\nexport default ScoreDialog;\n","import { memo } from \"react\";\nimport { useAtom, useAtomValue } from \"jotai\";\nimport { Button, Typography } from \"@mui/material\";\nimport BidDialog from \"./bid-dialog/BidDialog\";\nimport ScoreDialog from \"./score-dialog/ScoreDialog\";\nimport bridgeAtom, {\n  bridgeRead,\n  newBridgeGame,\n} from \"../../../../jotai/bridge-atom\";\n\nconst Header = memo(() => {\n  const { gameIdx, weWins, theyWins, weSum, theySum } =\n    useAtomValue(bridgeRead);\n  const [{ weRubbers, theyRubbers }, setState] = useAtom(bridgeAtom);\n\n  const handleNewGame = () => {\n    let newWeRubbers = weRubbers;\n    let newTheyRubbers = theyRubbers;\n    const weWon = weWins >= theyWins;\n    let weTotal = weSum;\n    let theyTotal = theySum;\n    if (weWon) {\n      weTotal += theyWins === 0 ? 700 : 500;\n    } else {\n      theyTotal += weWins === 0 ? 700 : 500;\n    }\n\n    if (weTotal > theyTotal) {\n      newWeRubbers += 1;\n    } else if (theyTotal > weTotal) {\n      newTheyRubbers += 1;\n    } else {\n      if (weWon) {\n        newWeRubbers += 1;\n      } else {\n        newTheyRubbers += 1;\n      }\n    }\n    setState({\n      weRubbers: newWeRubbers,\n      theyRubbers: newTheyRubbers,\n      ...newBridgeGame(),\n    });\n  };\n\n  return (\n    <div className=\"flex-container\">\n      <Typography variant=\"h2\" component=\"h1\">\n        üåâ\n      </Typography>\n      <BidDialog />\n      {(gameIdx > 2 || weWins >= 2 || theyWins >= 2) && (\n        <Button variant=\"contained\" color=\"warning\" onClick={handleNewGame}>\n          New Game\n        </Button>\n      )}\n      <ScoreDialog />\n    </div>\n  );\n});\n\nHeader.displayName = \"Header\";\n\nexport default Header;\n","import { useAtomValue } from \"jotai\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@mui/material\";\nimport { grey } from \"@mui/material/colors\";\nimport bridgeAtom, { bridgeRead } from \"../../../jotai/bridge-atom\";\n\nconst border = `4px solid ${grey[700]}`;\n\nconst ScoreDisplay = () => {\n  const { aboveScores, weBelow, theyBelow, weRubbers, theyRubbers, bids } =\n    useAtomValue(bridgeAtom);\n  const { weVulnerable, theyVulnerable, weSum, theySum } =\n    useAtomValue(bridgeRead);\n\n  return (\n    <Table aria-label=\"Bridge Scores\" sx={{ border }}>\n      <TableHead>\n        <TableRow sx={{ borderBottom: border }}>\n          <TableCell align=\"center\" sx={{ borderRight: border }}>\n            We {weVulnerable && \"ü•á\"}\n          </TableCell>\n          <TableCell align=\"center\">They {theyVulnerable && \"ü•á\"}</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {aboveScores\n          .slice()\n          .map(\n            ([we, they], i) =>\n              (we.length > 0 ||\n                they.length > 0 ||\n                (we.length === 0 && they.length === 0 && i === 0)) && (\n                <TableRow key={`game-${i}`}>\n                  <TableCell align=\"center\" sx={{ borderRight: border }}>\n                    {we.map(\n                      (score, i) =>\n                        score !== 0 && (\n                          <Typography key={`we-above-${i}`} component=\"div\">\n                            {`${score} (${bids[i]})`}\n                          </Typography>\n                        ),\n                    )}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {they.map(\n                      (score, i) =>\n                        score !== 0 && (\n                          <Typography key={`they-above-${i}`} component=\"div\">\n                            {`${score} (${bids[i]})`}\n                          </Typography>\n                        ),\n                    )}\n                  </TableCell>\n                </TableRow>\n              ),\n          )\n          .reverse()}\n        <TableRow sx={{ borderTop: border }}>\n          <TableCell align=\"center\" sx={{ borderRight: border }}>\n            {weBelow.map(\n              (score, i) =>\n                score !== 0 && (\n                  <Typography key={`we-below-${i}`} component=\"div\">\n                    {`${score} (${bids[i]})`}\n                  </Typography>\n                ),\n            )}\n          </TableCell>\n          <TableCell align=\"center\">\n            {theyBelow.map(\n              (score, i) =>\n                score !== 0 && (\n                  <Typography key={`they-below-${i}`} component=\"div\">\n                    {`${score} (${bids[i]})`}\n                  </Typography>\n                ),\n            )}\n          </TableCell>\n        </TableRow>\n        <TableRow sx={{ borderBottom: border }}>\n          <TableCell align=\"center\" sx={{ border }}>\n            Total: {weSum}\n          </TableCell>\n          <TableCell align=\"center\" sx={{ border }}>\n            Total: {theySum}\n          </TableCell>\n        </TableRow>\n        <TableRow sx={{ borderBottom: border }}>\n          <TableCell align=\"center\" sx={{ border }}>\n            Wins: {weRubbers}\n          </TableCell>\n          <TableCell align=\"center\" sx={{ border }}>\n            Wins: {theyRubbers}\n          </TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  );\n};\n\nexport default ScoreDisplay;\n","import { memo } from \"react\";\nimport Header from \"./header/Header\";\nimport ScoreDisplay from \"./ScoreDisplay\";\n\nconst Bridge = memo(() => (\n  <>\n    <Header />\n    <ScoreDisplay />\n  </>\n));\n\nBridge.displayName = \"Bridge\";\n\nexport default Bridge;\n"],"names":["bidPage1","bidPage2","bidPageK","BidDialog","jsxs","InfoPopup","jsx","undertrickTable","useBridgeScorer","declarerTricks","contractTricks","isWe","contractSuit","isDouble","isRedouble","is4Aces","is4Honours","is5Honours","madeBid","winner","aboveTheLine","belowTheLine","slamMultiplier","overtricks","multiplier","undertricks","lookupIdx","ScoringTable","memo","Fragment","Divider","Table","TableHead","TableRow","TableCell","Typography","TableBody","underTrickRow","i","CONTRACT_SUIT","CONTRACT_TRICKS","DECLARER_TRICKS","suitOptions","bidOptions","trickOptions","ScoreForm","onContractSuitChange","onContractTricksChange","onDeclarerTricksChange","onBidWinnerToggle","onRedoubleToggle","onDoubleToggle","on4AcesToggle","on5HonoursToggle","on4HonoursToggle","FormGroup","Grid","FormControl","InputLabel","Select","suit","MenuItem","n","FormControlLabel","Switch","newBridgeGame","bridgeAtom","atomWithStorage","sum","scores","acc","bridgeRead","atom","get","aScores","weBelow","theyBelow","weWins","theyWins","gameIdx","weSum","theySum","we","they","weScore","theyScore","weVulnerable","theyVulnerable","ScoreSummary","ScoreDialog","aboveScores","weRubbers","theyRubbers","bids","other","setBridgeState","useAtom","useAtomValue","isOpen","setIsOpen","useState","setContractSuit","setContractTricks","setDeclarerTricks","setIsWe","setIsDouble","setIsRedouble","setIs4Honours","setIs5Honours","setIs4Aces","handleOpen","handleClose","handleContractSuitChange","e","handleContractTricksChange","handleDeclarerTricksChange","handleBidWinnerToggle","_e","checked","handleRedoubleToggle","handleDoubleToggle","handle4AcesToggle","handle5HonoursToggle","handle4HonoursToggle","resetForm","handleSave","newWe","newThey","newWeBelow","newTheyBelow","newAboveScores","handleUndo","newBids","handleEnd","newWeRubbers","newTheyRubbers","weTotal","theyTotal","sumWe","sumThey","Button","Dialog","DialogTitle","DialogContent","DialogActions","Header","setState","handleNewGame","weWon","border","grey","ScoreDisplay","score","Bridge"],"mappings":"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"}