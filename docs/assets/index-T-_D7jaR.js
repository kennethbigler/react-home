import{S as B,Q as M,r as h,j as s,D as H,P as S}from"./index-CosVh3Sb.js";import{p as u,P as L}from"./PlayerMenu-CVZSryQE.js";import{T as j,b as y,c as m,a as E}from"./TableRow-BYLEwVVh.js";import{T as g}from"./TableHead-BmIYYy8E.js";import{T as b}from"./Header-COtRrNxz.js";import{G as x}from"./Grid-CdVfZhoe.js";import{B as _}from"./Button-DtcxNQ2w.js";import"./Select-BEctpKkV.js";import"./isMuiElement-Bm39wPZq.js";import"./useSlotProps-Y-uIL6QN.js";import"./TextField-BvpVucpJ.js";import"./useThemeProps-ew81M0K2.js";var e=(t=>(t.EMPTY="-",t.CHERRY="🍒",t.BAR="🍺",t.DOUBLE_BAR="🍻",t.TRIPLE_BAR="🥃",t.SEVEN="❌",t.JACKPOT="💰",t))(e||{});const w=3,p=[{symbol:"🍒",start:1,stop:2},{symbol:"-",start:3,stop:7},{symbol:"🍺",start:8,stop:12},{symbol:"-",start:13,stop:17},{symbol:"❌",start:18,stop:25},{symbol:"-",start:26,stop:30},{symbol:"🍺",start:31,stop:35},{symbol:"-",start:36,stop:41},{symbol:"🍒",start:42,stop:43},{symbol:"-",start:44,stop:49},{symbol:"🍻",start:50,stop:56},{symbol:"-",start:57,stop:62},{symbol:"🍒",start:63,stop:63},{symbol:"-",start:64,stop:69},{symbol:"🍻",start:70,stop:75},{symbol:"-",start:76,stop:81},{symbol:"🍺",start:82,stop:87},{symbol:"-",start:88,stop:93},{symbol:"🥃",start:94,stop:104},{symbol:"-",start:105,stop:115},{symbol:"💰",start:116,stop:117},{symbol:"-",start:118,stop:128}];function D(){const t=[];return p.forEach((o,n)=>{const r=n-1>0?n-1:p.length-1,l=(n+1)%p.length;for(let a=o.start;a<=o.stop;a+=1)t.push([p[r].symbol,o.symbol,p[l].symbol])}),t}const A=D();function N(){return A[Math.floor(Math.random()*A.length)]}const Y=()=>{const t=[];for(let o=0;o<w;o+=1)t[o]=N();return t},v=(t,o)=>{const n=["🍺","🍻","🥃"],r=t[0][1],l=t[1][1],a=t[2][1],c=[r,l,a];if(r===l&&r===a)switch(r){case"💰":return 1666*o;case"❌":return 300*o;case"🥃":return 100*o;case"🍻":return 50*o;case"🍺":return 25*o;case"🍒":return 12*o;default:return 0}else{if(n.includes(r)&&n.includes(l)&&n.includes(a))return 12*o;if(c.includes("🍒",c.indexOf("🍒")+1))return 6*o;if(c.includes("🍒"))return 3*o}return 0},R={pullHandle:Y,getPayout:v},T=M("slotsAtom",R.pullHandle()),I=B(t=>{const o=t(u),{bet:n,name:r}=o[0];return{bet:n,name:r}}),U=B(t=>{const o=t(T),n=t(u),{money:r}=n[0],{money:l}=n[n.length-1];return{reel:o,money:r,houseMoney:l}},(t,o,{reel:n,money:r,houseMoney:l})=>{o(T,n);const a=t(u),c=a.length-1,i=[...a];i[0]={...a[0],money:r},i[c]={...a[c],money:l},o(u,i)}),V=[{symbol:`${e.JACKPOT} ${e.JACKPOT} ${e.JACKPOT}`,payout:1666},{symbol:`${e.SEVEN} ${e.SEVEN} ${e.SEVEN}`,payout:300},{symbol:`${e.TRIPLE_BAR} ${e.TRIPLE_BAR} ${e.TRIPLE_BAR}`,payout:100},{symbol:`${e.DOUBLE_BAR} ${e.DOUBLE_BAR} ${e.DOUBLE_BAR}`,payout:50},{symbol:`${e.BAR} ${e.BAR} ${e.BAR}`,payout:25},{symbol:`3 of any ${e.BAR} ${e.DOUBLE_BAR} ${e.TRIPLE_BAR}`,payout:12},{symbol:`${e.CHERRY} ${e.CHERRY} ${e.CHERRY}`,payout:12},{symbol:`${e.CHERRY} ${e.CHERRY}`,payout:6},{symbol:e.CHERRY,payout:3}],P=h.memo(()=>s.jsxs(j,{"aria-label":"payout reference table for slot game",children:[s.jsx(g,{children:s.jsxs(y,{children:[s.jsx(m,{children:"Slot Roll"}),s.jsx(m,{children:"Payout"})]})}),s.jsx(E,{children:V.map((t,o)=>s.jsxs(y,{children:[s.jsx(m,{component:"th",scope:"row",children:t.symbol}),s.jsx(m,{children:`${t.payout} : 1`})]},o))})]}));P.displayName="PayoutTable";const C=h.memo(({name:t,money:o,houseMoney:n})=>s.jsxs(j,{"aria-label":"current slot game monetary status",children:[s.jsx(g,{children:s.jsxs(y,{children:[s.jsx(m,{children:"Player"}),s.jsx(m,{children:"Money"})]})}),s.jsxs(E,{children:[s.jsxs(y,{children:[s.jsx(m,{component:"th",scope:"row",children:t}),s.jsx(m,{children:`$${o}`})]}),s.jsxs(y,{children:[s.jsx(m,{component:"th",scope:"row",children:"House"}),s.jsx(m,{children:`$${n}`})]})]})]}));C.displayName="MoneyTable";const J={minHeight:39,fontWeight:900},K=({reel:t})=>{const o=h.useCallback(()=>{const n=[];for(let r=0;r<3;r+=1){const l=t.map((c,i)=>s.jsx(m,{children:s.jsx(b,{variant:"h4",component:"h2",align:"center",style:J,children:c[r]})},`${i},${r}`)),a=s.jsx(y,{children:l},`row${r}`);n.push(a)}return n},[t]);return s.jsx(j,{"aria-label":"slots displayed in a 3 by 3 grid",children:s.jsx(E,{children:o()})})},O=h.memo(()=>{const[{reel:t,money:o,houseMoney:n},r]=H(U),{bet:l,name:a}=S(I),[c,i]=h.useState(0),$=()=>{const f=R.pullHandle(),d=R.getPayout(f,l)-l;i(d),r({reel:f,money:o+d,houseMoney:n-d})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-container",children:[s.jsx(b,{variant:"h2",component:"h1",children:"Casino Slot Machine"}),s.jsx(L,{})]}),s.jsxs(x,{container:!0,spacing:1,style:{marginTop:"2em"},children:[s.jsxs(x,{size:{xs:12,sm:6},children:[s.jsxs("div",{children:[s.jsx(_,{onClick:$,style:{marginBottom:15},variant:"contained",children:"Spin"}),c!==0&&s.jsx(b,{variant:"h4",component:"h2",children:`You ${c>0?"won":"lost"} $${c}`})]}),s.jsx(K,{reel:t}),s.jsx(C,{money:o,name:a,houseMoney:n})]}),s.jsx(x,{size:{xs:12,sm:6},children:s.jsx(P,{})})]})]})});O.displayName="Slots";export{O as default};
//# sourceMappingURL=index-T-_D7jaR.js.map
