import{b as M,g as $,s as W,t as D,h as R,m as w,r as j,e as G,j as t,c as k,f as V,q as H,O as K,G as L,A as O}from"./index-DhVGG_NW.js";import{B as _,c as U,n as Y,l as J,T as P,P as q}from"./Header-_9woOApa.js";import{l as X}from"./lightGreen-Czsbt-f6.js";import{c as B,b as S,T as Q,a as Z}from"./TableRow-DHQ5-GZA.js";import{T as ss}from"./TableHead-KhbECTcR.js";import{B as es}from"./Button-Dj3HxRuo.js";function as(s){return M("MuiFab",s)}const E=$("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),ts=s=>{const{color:e,variant:a,classes:o,size:n}=s,d={root:["root",a,`size${R(n)}`,e==="inherit"?"colorInherit":e]},p=V(d,as,o);return{...o,...p}},os=W(_,{name:"MuiFab",slot:"Root",shouldForwardProp:s=>D(s)||s==="classes",overridesResolver:(s,e)=>{const{ownerState:a}=s;return[e.root,e[a.variant],e[`size${R(a.size)}`],a.color==="inherit"&&e.colorInherit,e[R(a.size)],e[a.color]]}})(w(({theme:s})=>{var e,a;return{...s.typography.button,minHeight:36,transition:s.transitions.create(["background-color","box-shadow","border-color"],{duration:s.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(s.vars||s).zIndex.fab,boxShadow:(s.vars||s).shadows[6],"&:active":{boxShadow:(s.vars||s).shadows[12]},color:s.vars?s.vars.palette.text.primary:(a=(e=s.palette).getContrastText)==null?void 0:a.call(e,s.palette.grey[300]),backgroundColor:(s.vars||s).palette.grey[300],"&:hover":{backgroundColor:(s.vars||s).palette.grey.A100,"@media (hover: none)":{backgroundColor:(s.vars||s).palette.grey[300]},textDecoration:"none"},[`&.${E.focusVisible}`]:{boxShadow:(s.vars||s).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),w(({theme:s})=>({variants:[...Object.entries(s.palette).filter(H(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(s.vars||s).palette[e].contrastText,backgroundColor:(s.vars||s).palette[e].main,"&:hover":{backgroundColor:(s.vars||s).palette[e].dark,"@media (hover: none)":{backgroundColor:(s.vars||s).palette[e].main}}}}))]})),w(({theme:s})=>({[`&.${E.disabled}`]:{color:(s.vars||s).palette.action.disabled,boxShadow:(s.vars||s).shadows[0],backgroundColor:(s.vars||s).palette.action.disabledBackground}}))),T=j.forwardRef(function(e,a){const o=G({props:e,name:"MuiFab"}),{children:n,className:d,color:p="default",component:i="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:m="large",variant:r="circular",...h}=o,g={...o,color:p,component:i,disabled:l,disableFocusRipple:c,size:m,variant:r},C=ts(g);return t.jsx(os,{className:k(C.root,d),component:i,disabled:l,focusRipple:!c,focusVisibleClassName:k(C.focusVisible,u),ownerState:g,ref:a,...h,classes:C,children:n})}),A=0,x=1,f=2;var b=(s=>(s[s.EMPTY=0]="EMPTY",s[s.RED=1]="RED",s[s.BLACK=2]="BLACK",s))(b||{});const rs=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],z=(s,e)=>(s.push([...e]),s),N=()=>({board:rs.reduce(z,[]),winner:void 0,turn:1}),ns=K({key:"connect4Atom",default:JSON.parse(localStorage.getItem("connect4-atom")||"null")||N(),effects:[({onSet:s})=>{s(e=>{localStorage.setItem("connect4-atom",JSON.stringify(e))})}]}),v=(s,e,a,o)=>{if(s[e]!==void 0){const n=s[e][a];n!==void 0&&(n===o[A]&&n!==b.EMPTY?(o[x].push([e,a]),o[x].length>o[f].length&&(o[f]=[...o[x]])):(o[A]=n,o[x]=[[e,a]]))}},is=U(t.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),ls=s=>{switch(s){case 0:return;case 1:return L[500];case 2:return"black";default:return X[600]}},y=j.memo(({ariaLabel:s,piece:e,enabled:a=!1,onClick:o=Y})=>{const d={backgroundColor:ls(e)};return a?t.jsx(T,{size:"small",onClick:o,style:d,role:"button","aria-label":s,children:t.jsx(is,{style:{color:"white"}})}):t.jsx(T,{disabled:!0,size:"small",style:d,"aria-label":"disabled column input",children:t.jsx("div",{})})});y.displayName="Piece";const F={padding:1,textAlign:"center"},cs=({board:s,turn:e,insert:a})=>{const o=s.map((d,p)=>{const i=d.map((l,c)=>t.jsx(B,{style:F,children:t.jsx(y,{piece:l})},`c4c${p},${c}`));return t.jsx(S,{children:i},`c4r${p}`)}).reverse(),n=s[s.length-1].map((d,p)=>t.jsx(B,{style:F,children:t.jsx(y,{enabled:!d,onClick:()=>a(p),piece:d?0:e,ariaLabel:`insert piece into column ${p}`})},`c4h${p}`));return t.jsxs(Q,{children:[t.jsx(ss,{children:t.jsx(S,{children:n})}),t.jsx(Z,{children:o})]})},I=j.memo(({winner:s,turn:e,newGame:a})=>t.jsx(J,{children:t.jsxs("div",{className:"flex-container",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(P,{style:{marginRight:10},variant:"h4",component:"h2",children:s?"Winner:":"Turn:"}),t.jsx(y,{piece:s||e})]}),t.jsx(es,{onClick:a,variant:"contained",children:"Reset Game"})]})}));I.displayName="Header";const ds=({board:s,insert:e,winner:a,turn:o,newGame:n})=>t.jsxs(q,{elevation:2,style:{maxWidth:900,minWidth:300,display:"block",margin:"auto",paddingBottom:5},children:[t.jsx(I,{newGame:n,turn:o,winner:a}),t.jsx(cs,{board:s,insert:e,turn:o})]}),ps=j.memo(()=>{const[{turn:s,board:e,winner:a},o]=O(ns),n=()=>{o(N())},d=(i,l,c)=>{const u=[];for(let r=0;r<4;r+=1){const h=[],g=[];u.push([0,h,g])}for(let r=-3;r<=3;r+=1)v(c,i+r,l,u[0]),v(c,i,l+r,u[1]),v(c,i+r,l+r,u[2]),v(c,i-r,l+r,u[3]);const m=c.reduce(z,[]);u.forEach(r=>{r[f].length>=4&&(r[f].forEach(h=>{m[h[0]][h[1]]=3}),o({turn:s,winner:s,board:m}))})},p=i=>{if(!a&&!e[e.length-1][i]){let l=0;for(;e[l][i]!==0;)l+=1;const c=e.reduce(z,[]);c[l][i]=s,o({winner:a,turn:s===b.RED?b.BLACK:b.RED,board:c}),d(l,i,c)}};return t.jsxs(t.Fragment,{children:[t.jsx(P,{variant:"h2",component:"h1",gutterBottom:!0,children:"Welcome to Ken's Connect4 Game"}),t.jsx(ds,{board:e,insert:p,newGame:n,turn:s,winner:a})]})});ps.displayName="Connect4";export{ps as default};
//# sourceMappingURL=index-CfC4YREH.js.map
