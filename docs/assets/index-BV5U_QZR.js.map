{"version":3,"file":"index-BV5U_QZR.js","sources":["../../src/jotai/stock-atom.ts","../../src/jotai/comp-calculator-atom.ts","../../src/components/resume/comp-calc/CompEntryDialog.tsx","../../src/components/resume/comp-calc/StockDialog.tsx","../../src/apis/usDollar.tsx","../../src/components/resume/comp-calc/StockDisplay.tsx","../../src/components/resume/comp-calc/CompHeader.tsx","../../src/components/resume/comp-calc/graphs/colors.ts","../../src/components/resume/comp-calc/graphs/CompGraph.tsx","../../src/components/resume/comp-calc/graphs/BreakdownGraph.tsx","../../src/components/resume/comp-calc/graphs/Graphs.tsx","../../src/components/resume/comp-calc/CompEntryCard.tsx","../../src/components/resume/comp-calc/CompEntryDisplay.tsx","../../src/components/resume/comp-calc/CompCalculator.tsx"],"sourcesContent":["import { atomWithStorage } from \"jotai/utils\";\n\nexport interface StockState {\n  [key: string]: number;\n}\n\nconst stockAtom = atomWithStorage<StockState>(\"stockAtom\", {});\n\nexport default stockAtom;\n","import { atom } from \"jotai\";\nimport { atomWithStorage } from \"jotai/utils\";\nimport stockAtom from \"./stock-atom\";\nimport dateHelper, { DateObj } from \"../apis/DateHelper\";\n\nexport interface CompEntry {\n  entryDate: string;\n  salary: number;\n  bonus: number;\n  stockTick: string;\n  priceThen: number;\n  grantDuration: number; // YEARS\n  grantQty: number; // STOCKS\n}\n\nexport interface CompCalcEntry {\n  stock: number;\n  stockAdj: number;\n  total: number;\n  totalAdj: number;\n  netDiff: number;\n  grantThen: number;\n  grantNow: number;\n}\n\ninterface PrevStock {\n  grantQty: number;\n  grantDuration: number;\n  exp: DateObj;\n}\n\nexport const compCalcAtom = atomWithStorage<CompEntry[]>(\"compCalcAtom\", []);\n\n/* --------------------     Comp Calc State     -------------------- */\nexport const compCalcRead = atom((get) => {\n  // access state\n  const compEntries = get(compCalcAtom);\n  const stockEntries = get(stockAtom);\n\n  const prevStockAcc: { [key: string]: PrevStock[] } = {};\n\n  const compCalcEntriesNoNet: Omit<CompCalcEntry, \"netDiff\">[] =\n    compEntries.map(\n      ({\n        bonus,\n        entryDate,\n        grantDuration,\n        grantQty,\n        priceThen,\n        salary,\n        stockTick,\n      }) => {\n        const priceNow = stockEntries[stockTick] || 0;\n        let stock = 0;\n        let stockAdj = 0;\n\n        const exp = dateHelper(entryDate);\n        exp.year += grantDuration;\n\n        if (!prevStockAcc[stockTick]) {\n          prevStockAcc[stockTick] = [];\n        }\n        if (grantQty > 0) {\n          prevStockAcc[stockTick].push({ grantQty, grantDuration, exp });\n        }\n        prevStockAcc[stockTick].forEach((s) => {\n          if (dateHelper(entryDate).diff(s.exp, \"days\") < 0) {\n            stock += (priceThen * s.grantQty) / s.grantDuration;\n            stockAdj += (priceNow * s.grantQty) / s.grantDuration;\n          }\n        });\n\n        const total = salary + bonus + stock;\n        const totalAdj = salary + bonus + stockAdj;\n        const grantThen = priceThen * grantQty;\n        const grantNow = priceNow * grantQty;\n\n        return {\n          stock,\n          stockAdj,\n          total,\n          totalAdj,\n          grantThen,\n          grantNow,\n        };\n      },\n    );\n\n  const compCalcEntries: CompCalcEntry[] = compCalcEntriesNoNet.map(\n    ({ totalAdj, ...rest }, i) => {\n      const netDiff =\n        i === 0 ? 0 : totalAdj - compCalcEntriesNoNet[i - 1].totalAdj;\n\n      return { totalAdj, netDiff, ...rest };\n    },\n  );\n\n  return compCalcEntries;\n});\n\nexport default compCalcAtom;\n","import { useState, ChangeEvent } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  TextFieldProps,\n  SelectChangeEvent,\n} from \"@mui/material\";\nimport dateHelper, { months } from \"../../../apis/DateHelper\";\nimport { CompEntry } from \"../../../jotai/comp-calculator-atom\";\n\nconst tfProps: TextFieldProps = {\n  variant: \"standard\",\n  fullWidth: true,\n  margin: \"dense\",\n};\n\nconst currentYear = new Date().getFullYear() - 2000;\nconst years: number[] = [];\nfor (let i = 0; i <= currentYear; i += 1) {\n  years.push(2000 + i);\n}\nyears.reverse();\n\ninterface CompEntryDialogProps {\n  open: boolean;\n  compEntry?: CompEntry;\n  onClose: () => void;\n  addCompEntry: (n: CompEntry) => void;\n}\n\nconst CompEntryDialog = ({\n  open,\n  compEntry,\n  onClose,\n  addCompEntry,\n}: CompEntryDialogProps) => {\n  const [entryDateMonth, setEntryDateMonth] = useState(\n    (compEntry && (dateHelper(compEntry.entryDate).month + 1).toString()) ||\n      \"1\",\n  );\n  const [entryDateYear, setEntryDateYear] = useState(\n    (compEntry && dateHelper(compEntry.entryDate).year.toString()) ||\n      years[0].toString(),\n  );\n  const [salary, setSalary] = useState(compEntry?.salary || 0);\n  const [bonus, setBonus] = useState(compEntry?.bonus || 0);\n  const [stockTick, setStockTick] = useState(compEntry?.stockTick || \"\");\n  const [priceThen, setPriceThen] = useState(compEntry?.priceThen || 0);\n  const [grantDuration, setGrantDuration] = useState(\n    compEntry?.grantDuration || 4,\n  );\n  const [grantQty, setGrantQty] = useState(compEntry?.grantQty || 0);\n\n  const resetState = () => {\n    setEntryDateMonth(\"1\");\n    setEntryDateYear(years[0].toString());\n    setSalary(0);\n    setBonus(0);\n    setStockTick(\"\");\n    setPriceThen(0);\n    setGrantDuration(4);\n    setGrantQty(0);\n  };\n\n  const handleChange =\n    (func: (n: number) => void) => (e: ChangeEvent<HTMLInputElement>) =>\n      func(parseFloat(e.target.value));\n  const handleStockTick = (e: ChangeEvent<HTMLInputElement>) =>\n    setStockTick(e.target.value);\n  const handleSelectMonth = (e: SelectChangeEvent<string>) =>\n    setEntryDateMonth(e.target.value);\n  const handleSelectYear = (e: SelectChangeEvent<string>) =>\n    setEntryDateYear(e.target.value);\n\n  const handleSubmit = () => {\n    addCompEntry({\n      entryDate: `${entryDateYear}-${entryDateMonth.length < 2 ? \"0\" : \"\"}${entryDateMonth}`,\n      salary,\n      bonus,\n      stockTick,\n      priceThen,\n      grantDuration,\n      grantQty,\n    });\n    resetState();\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>{compEntry ? \"Edit\" : \"New\"} Comp Entry</DialogTitle>\n      <DialogContent>\n        <div style={{ display: \"flex\", marginTop: 5 }}>\n          <FormControl fullWidth>\n            <InputLabel id=\"month-select\">Month</InputLabel>\n            <Select\n              labelId=\"month-select\"\n              label=\"Month\"\n              value={entryDateMonth}\n              onChange={handleSelectMonth}\n            >\n              {months.map((month, i) => (\n                <MenuItem value={i + 1} key={i}>\n                  {month}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <FormControl fullWidth>\n            <InputLabel id=\"year-select\">Year</InputLabel>\n            <Select\n              labelId=\"year-select\"\n              label=\"Year\"\n              value={entryDateYear}\n              onChange={handleSelectYear}\n            >\n              {years.map((year) => (\n                <MenuItem value={year} key={year}>\n                  {year}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n        <TextField\n          label=\"Salary\"\n          value={salary}\n          type=\"number\"\n          onChange={handleChange(setSalary)}\n          slotProps={{ input: { startAdornment: \"$\" } }}\n          {...tfProps}\n        />\n        <TextField\n          label=\"Bonus\"\n          value={bonus}\n          type=\"number\"\n          onChange={handleChange(setBonus)}\n          slotProps={{ input: { startAdornment: \"$\" } }}\n          {...tfProps}\n        />\n        <DialogContentText variant=\"h6\" component=\"h4\" sx={{ marginTop: 7 }}>\n          Stock\n        </DialogContentText>\n        <TextField\n          label=\"Stock Ticker\"\n          value={stockTick}\n          onChange={handleStockTick}\n          {...tfProps}\n        />\n        <TextField\n          label=\"Grant Quantity\"\n          value={grantQty}\n          type=\"number\"\n          onChange={handleChange(setGrantQty)}\n          {...tfProps}\n        />\n        <TextField\n          label=\"Grant Duration\"\n          value={grantDuration}\n          type=\"number\"\n          onChange={handleChange(setGrantDuration)}\n          {...tfProps}\n        />\n        <TextField\n          label=\"Stock Price Then\"\n          value={priceThen}\n          type=\"number\"\n          onChange={handleChange(setPriceThen)}\n          slotProps={{ input: { startAdornment: \"$\" } }}\n          {...tfProps}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Cancel</Button>\n        <Button type=\"submit\" onClick={handleSubmit}>\n          {compEntry ? \"Update\" : \"Add\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default CompEntryDialog;\n","import { memo, useState, ChangeEvent } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  TextFieldProps,\n} from \"@mui/material\";\n\nconst tfProps: TextFieldProps = {\n  variant: \"standard\",\n  fullWidth: true,\n  margin: \"dense\",\n};\n\ninterface StockDialogProps {\n  open: boolean;\n  price?: number;\n  stock?: string;\n  onClose: () => void;\n  addStockEntry: (s: string, n: number) => void;\n  removeStockEntry: (s: string) => () => void;\n}\n\nconst StockDialog = memo(\n  ({\n    open,\n    price: exPrice,\n    stock: exStock,\n    onClose,\n    addStockEntry,\n    removeStockEntry,\n  }: StockDialogProps) => {\n    const [price, setPrice] = useState(exPrice || 0);\n    const [stock, setStock] = useState(exStock || \"\");\n\n    const resetState = () => {\n      setPrice(0);\n      setStock(\"\");\n    };\n\n    const handleStockChange = (e: ChangeEvent<HTMLInputElement>) =>\n      setStock(e.target.value);\n\n    const handlePriceChange = (e: ChangeEvent<HTMLInputElement>) =>\n      setPrice(parseFloat(e.target.value));\n\n    const handleSubmit = () => {\n      addStockEntry(stock, price);\n      resetState();\n    };\n\n    return (\n      <Dialog open={open} onClose={onClose}>\n        <DialogTitle>{exStock ? \"Edit\" : \"New\"} Stock Entry</DialogTitle>\n        <DialogContent>\n          <div style={{ marginTop: 5 }}>\n            <TextField\n              label=\"Stock\"\n              value={stock}\n              onChange={handleStockChange}\n              {...tfProps}\n            />\n            <TextField\n              label=\"Price Now\"\n              value={price}\n              type=\"number\"\n              onChange={handlePriceChange}\n              slotProps={{ input: { startAdornment: \"$\" } }}\n              {...tfProps}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={removeStockEntry(stock)} color=\"error\">\n            Delete\n          </Button>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button type=\"submit\" onClick={handleSubmit}>\n            {exStock ? \"Update\" : \"Add\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  },\n);\n\nStockDialog.displayName = \"StockDialog\";\n\nexport default StockDialog;\n","/** use the usDollar.format() function to format a number into a USD string */\nconst usDollar = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n});\n\nexport default usDollar;\n","import { Chip } from \"@mui/material\";\nimport usDollar from \"../../../apis/usDollar\";\nimport { StockState } from \"../../../jotai/stock-atom\";\n\ninterface StockEntryProps {\n  stockEntries: StockState;\n  openStockModal: (s: string) => () => void;\n}\n\nconst StockDisplay = ({ stockEntries, openStockModal }: StockEntryProps) => (\n  <div>\n    {Object.keys(stockEntries).map((stockKey, i) => (\n      <Chip\n        key={`stock-entry-${i}`}\n        color=\"primary\"\n        label={`${stockKey}: ${usDollar.format(stockEntries[stockKey])}`}\n        onClick={openStockModal(stockKey)}\n        sx={{ margin: 0.5, fontWeight: \"bold\" }}\n      />\n    ))}\n  </div>\n);\n\nexport default StockDisplay;\n","import { Dispatch, SetStateAction, useState } from \"react\";\nimport { useAtom } from \"jotai\";\nimport { Button, Typography } from \"@mui/material\";\nimport { CompEntry } from \"../../../jotai/comp-calculator-atom\";\nimport CompEntryDialog from \"./CompEntryDialog\";\nimport StockDialog from \"./StockDialog\";\nimport stockAtom from \"../../../jotai/stock-atom\";\nimport StockDisplay from \"./StockDisplay\";\n\ninterface CompHeaderProps {\n  compEntries: CompEntry[];\n  editEntryIdx: number;\n  openEntry: boolean;\n  setCompEntries: (c: CompEntry[]) => void;\n  setEditEntryIdx: Dispatch<SetStateAction<number>>;\n  setOpenEntry: Dispatch<SetStateAction<boolean>>;\n}\n\nconst CompHeader = ({\n  compEntries,\n  setCompEntries,\n  openEntry,\n  setOpenEntry,\n  editEntryIdx,\n  setEditEntryIdx,\n}: CompHeaderProps) => {\n  const [stockEntries, setStockEntries] = useAtom(stockAtom);\n  const [openStock, setOpenStock] = useState(false);\n  const [editStockTick, setEditStockTick] = useState(\"\");\n\n  // entry open/closers\n  const closeEntryModal = () => setOpenEntry(false);\n  const openNewEntry = () => {\n    setEditEntryIdx(-1);\n    setOpenEntry(true);\n  };\n\n  // stock open/closers\n  const closeStockModal = () => setOpenStock(false);\n  const openNewStock = () => {\n    setEditStockTick(\"\");\n    setOpenStock(true);\n  };\n  const openEditStock = (s: string) => () => {\n    setEditStockTick(s);\n    setOpenStock(true);\n  };\n\n  const addCompEntry = (compEntry: CompEntry) => {\n    const newCompEntries = [...compEntries];\n    if (editEntryIdx === -1) {\n      newCompEntries.push(compEntry);\n    } else {\n      newCompEntries[editEntryIdx] = compEntry;\n    }\n    setCompEntries(newCompEntries);\n    closeEntryModal();\n  };\n\n  const addStockEntry = (stock: string, price: number) => {\n    const newStockEntries = { ...stockEntries };\n    newStockEntries[stock] = price;\n    setStockEntries(newStockEntries);\n    closeStockModal();\n  };\n\n  const removeStockEntry = (stock: string) => () => {\n    const newStockEntries = { ...stockEntries };\n    delete newStockEntries[stock];\n    setStockEntries(newStockEntries);\n    closeStockModal();\n  };\n\n  return (\n    <>\n      <Typography variant=\"h2\" component=\"h1\">\n        Comp Calculator\n      </Typography>\n      <div\n        className=\"flex-container\"\n        style={{ marginTop: 10, marginBottom: 10 }}\n      >\n        <StockDisplay\n          stockEntries={stockEntries}\n          openStockModal={openEditStock}\n        />\n        <div>\n          <Button onClick={openNewStock}>+ Stock</Button>\n          <Button onClick={openNewEntry}>+ Entry</Button>\n        </div>\n      </div>\n      {openStock && (\n        <StockDialog\n          open={openStock}\n          price={editStockTick ? stockEntries[editStockTick] : undefined}\n          stock={editStockTick}\n          onClose={closeStockModal}\n          addStockEntry={addStockEntry}\n          removeStockEntry={removeStockEntry}\n        />\n      )}\n      {openEntry && (\n        <CompEntryDialog\n          open={openEntry}\n          compEntry={\n            editEntryIdx !== -1 ? compEntries[editEntryIdx] : undefined\n          }\n          onClose={closeEntryModal}\n          addCompEntry={addCompEntry}\n        />\n      )}\n    </>\n  );\n};\n\nexport default CompHeader;\n","import { blue, lightGreen, orange } from \"@mui/material/colors\";\n\nconst colors: string[] = [lightGreen[500], orange[500], blue[500], orange[900]];\n\nexport default colors;\n","import { useAtomValue } from \"jotai\";\nimport * as Highcharts from \"highcharts\";\nimport \"highcharts/modules/accessibility\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport themeAtom from \"../../../../jotai/theme-atom\";\nimport {\n  CompCalcEntry,\n  CompEntry,\n} from \"../../../../jotai/comp-calculator-atom\";\nimport dateHelper from \"../../../../apis/DateHelper\";\nimport colors from \"./colors\";\n\nconst STOCK = 0;\nconst BONUS = 1;\nconst SALARY = 2;\nconst TOTAL = 3;\nconst INFL = 4;\n\nconst inflationKey: { [key: number]: number } = {\n  2000: 1.034,\n  2001: 1.028,\n  2002: 1.016,\n  2003: 1.023,\n  2004: 1.027,\n  2005: 1.034,\n  2006: 1.032,\n  2007: 1.028,\n  2008: 1.038,\n  2009: 0.996,\n  2010: 1.016,\n  2011: 1.032,\n  2012: 1.021,\n  2013: 1.015,\n  2014: 1.016,\n  2015: 1.001,\n  2016: 1.013,\n  2017: 1.021,\n  2018: 1.024,\n  2019: 1.018,\n  2020: 1.012,\n  2021: 1.047,\n  2022: 1.08,\n  2023: 1.041,\n  2024: 1.027,\n};\n\nconst staticOptions: Highcharts.Options = {\n  accessibility: { enabled: true },\n  chart: { type: \"area\", backgroundColor: \"transparent\" },\n  credits: { enabled: false },\n  legend: { enabled: false },\n  title: { text: \"Total Comp\" },\n  xAxis: { visible: false },\n  // @ts-expect-error: types are wrong in highcharts-react-official\n  yAxis: { title: { enabled: false } },\n  tooltip: {\n    shared: true,\n    headerFormat: \"<h3>Compensation</h3><br />\",\n    pointFormat:\n      '<span style=\"color:{series.color}\">\\u25CF</span> {series.name}: <b>${point.y:,.2f}</b><br />',\n    footerFormat: \"\\u25CF *Total: $<b>{point.total:,.2f}</b>\",\n  },\n};\n\ninterface CompChartProps {\n  startIdx: number;\n  compCalcEntries: CompCalcEntry[];\n  compEntries: CompEntry[];\n  onClick: (e: Highcharts.SeriesClickEventObject) => void;\n}\n\nconst CompChart = ({\n  startIdx,\n  compCalcEntries,\n  compEntries,\n  onClick,\n}: CompChartProps) => {\n  // process theme\n  const theme = useAtomValue(themeAtom);\n  const color = theme.mode === \"light\" ? \"black\" : \"white\";\n\n  // calculate chart data\n  const compChartData: number[][] = [[], [], [], [], []];\n  if (compEntries.length > 0) {\n    // set start basis for inflation calculation\n    let startYear = dateHelper(compEntries[startIdx].entryDate).year;\n    let startTC =\n      compEntries[startIdx].salary +\n      compEntries[startIdx].bonus +\n      (compCalcEntries[startIdx].stockAdj || compCalcEntries[startIdx].stock);\n\n    // calculate chart data\n    compEntries.forEach(({ bonus, salary, entryDate }, i) => {\n      const { stock, stockAdj } = compCalcEntries[i];\n      compChartData[STOCK].push(stockAdj || stock);\n      compChartData[BONUS].push(bonus);\n      compChartData[SALARY].push(salary);\n      compChartData[TOTAL].push(stock + bonus + salary);\n      // calculate inflation rate from first job (or clicked job)\n      const endYear = dateHelper(entryDate).year;\n      if (endYear >= startYear) {\n        for (; startYear < endYear; startYear += 1) {\n          startTC *= inflationKey[startYear];\n        }\n        compChartData[INFL].push(startTC);\n      } else {\n        compChartData[INFL].push(bonus + salary + (stockAdj || stock));\n      }\n    });\n  }\n\n  // set chart options\n  const options: Highcharts.Options = {\n    ...staticOptions,\n    colors: [...colors, color],\n    title: { ...staticOptions.title, style: { color } },\n    yAxis: { ...staticOptions.yAxis, labels: { style: { color } } },\n    plotOptions: {\n      area: {\n        stacking: \"normal\",\n        lineColor: color,\n        lineWidth: 1,\n        marker: { lineWidth: 1, lineColor: color },\n      },\n      series: { cursor: \"pointer\", events: { click: onClick } },\n    },\n    series: [\n      { type: \"area\", name: \"Stock\", data: [...compChartData[STOCK]] },\n      { type: \"area\", name: \"Bonus\", data: [...compChartData[BONUS]] },\n      { type: \"area\", name: \"Salary\", data: [...compChartData[SALARY]] },\n      { type: \"spline\", name: \"Total\", data: [...compChartData[TOTAL]] },\n      { type: \"spline\", name: \"Inflation\", data: [...compChartData[INFL]] },\n    ],\n  };\n\n  return (\n    <figure style={{ margin: 0, width: \"100%\" }}>\n      <HighchartsReact highcharts={Highcharts} options={options} />\n    </figure>\n  );\n};\n\nexport default CompChart;\n","import { memo } from \"react\";\nimport { useAtomValue } from \"jotai\";\nimport * as Highcharts from \"highcharts\";\nimport \"highcharts/modules/accessibility\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport themeAtom from \"../../../../jotai/theme-atom\";\nimport colors from \"./colors\";\n\ninterface BreakdownChartProps {\n  bonus: number;\n  salary: number;\n  stock: number;\n}\n\nconst staticOptions: Highcharts.Options = {\n  accessibility: { enabled: true },\n  colors,\n  chart: { type: \"pie\", backgroundColor: \"transparent\" },\n  credits: { enabled: false },\n  legend: { enabled: false },\n  title: { text: \"Comp Breakdown\" },\n  tooltip: { pointFormat: \"<b>${point.y:,.2f}</b>\" },\n  plotOptions: {\n    series: {\n      allowPointSelect: true,\n      cursor: \"pointer\",\n      dataLabels: [\n        { enabled: true, format: \"{point.name}\" },\n        {\n          enabled: true,\n          // @ts-expect-error: types are wrong in highcharts-react-official\n          distance: -30,\n          format: \"{point.percentage:.0f}%\",\n          style: { fontSize: \"1em\" },\n        },\n      ],\n    },\n  },\n};\n\nconst BreakdownChart = memo(({ bonus, salary, stock }: BreakdownChartProps) => {\n  const theme = useAtomValue(themeAtom);\n  const color = theme.mode === \"light\" ? \"black\" : \"white\";\n\n  const options: Highcharts.Options = {\n    ...staticOptions,\n    title: { ...staticOptions.title, style: { color } },\n    series: [\n      {\n        data: [\n          { name: \"Stock\", y: stock },\n          { name: \"Bonus\", y: bonus },\n          { name: \"Salary\", y: salary },\n        ],\n        type: \"pie\",\n      },\n    ],\n  };\n\n  return (\n    <figure style={{ margin: 0, width: \"100%\" }}>\n      <HighchartsReact highcharts={Highcharts} options={options} />\n    </figure>\n  );\n});\n\nBreakdownChart.displayName = \"BreakdownChart\";\n\nexport default BreakdownChart;\n","import { useState } from \"react\";\nimport { Grid } from \"@mui/material\";\nimport { SeriesClickEventObject } from \"highcharts\";\nimport CompChart from \"./CompGraph\";\nimport BreakdownChart from \"./BreakdownGraph\";\nimport {\n  CompCalcEntry,\n  CompEntry,\n} from \"../../../../jotai/comp-calculator-atom\";\n\ninterface GraphsProps {\n  compCalcEntries: CompCalcEntry[];\n  compEntries: CompEntry[];\n}\n\nconst Graphs = ({ compEntries, compCalcEntries }: GraphsProps) => {\n  const { stock, stockAdj } = compCalcEntries[compCalcEntries.length - 1];\n  const { bonus, salary } = compEntries[compEntries.length - 1];\n\n  const [startIdx, setStartIdx] = useState(0);\n  const [cStock, setStock] = useState(stockAdj || stock);\n  const [cBonus, setBonus] = useState(bonus);\n  const [cSalary, setSalary] = useState(salary);\n\n  const handleClick = ({ point: { index } }: SeriesClickEventObject) => {\n    const { stock, stockAdj } = compCalcEntries[index];\n    const { bonus, salary } = compEntries[index];\n    setStartIdx(index >= compEntries.length - 1 ? 0 : index);\n    setStock(stockAdj || stock);\n    setBonus(bonus);\n    setSalary(salary);\n  };\n\n  return (\n    <Grid container>\n      <Grid size={{ xs: 12, md: 6, lg: 8, xl: 9 }}>\n        <CompChart\n          startIdx={startIdx}\n          compCalcEntries={compCalcEntries}\n          compEntries={compEntries}\n          onClick={handleClick}\n        />\n      </Grid>\n      <Grid size={{ xs: 12, md: 6, lg: 4, xl: 3 }}>\n        <BreakdownChart stock={cStock} bonus={cBonus} salary={cSalary} />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Graphs;\n","import {\n  Card,\n  CardActionArea,\n  CardContent,\n  CardHeader,\n  Divider,\n  Grid,\n  Typography,\n} from \"@mui/material\";\nimport { CompCalcEntry, CompEntry } from \"../../../jotai/comp-calculator-atom\";\nimport dateObj from \"../../../apis/DateHelper\";\nimport usDollar from \"../../../apis/usDollar\";\n\ninterface CompEntryCardProps {\n  compEntry: CompEntry;\n  compCalcEntry: CompCalcEntry;\n  compEntryCount: number;\n  onClick: () => void;\n}\n\nconst CompEntryCard = ({\n  compEntry: {\n    entryDate,\n    salary,\n    bonus,\n    stockTick,\n    priceThen,\n    grantDuration,\n    grantQty,\n  },\n  compCalcEntry: {\n    stock,\n    stockAdj,\n    total,\n    totalAdj,\n    netDiff,\n    grantThen,\n    grantNow,\n  },\n  compEntryCount,\n  onClick,\n}: CompEntryCardProps) => (\n  <Grid\n    size={{\n      xs: 12,\n      md: 6,\n      lg: 4,\n      xl: 3,\n      xxl: compEntryCount > 4 ? 2 : undefined,\n      xxxl: compEntryCount > 6 ? 1 : undefined,\n    }}\n  >\n    <Card>\n      <CardActionArea onClick={onClick}>\n        <Grid container>\n          <Grid size={stockTick ? 6 : 12}>\n            <CardHeader title=\"Salary\" />\n            <CardContent>\n              <Typography>\n                Date: {dateObj(entryDate).format(\"MMMM Y\")}\n              </Typography>\n              <Typography>Salary: {usDollar.format(salary)}</Typography>\n              <Typography>Bonus: {usDollar.format(bonus)}</Typography>\n              <Divider aria-hidden />\n              <Typography>Stock: {usDollar.format(stock)}</Typography>\n              <Typography>*Stock: {usDollar.format(stockAdj)}</Typography>\n              <Divider aria-hidden />\n              <Typography>Total: {usDollar.format(total)}</Typography>\n              <Typography sx={{ display: \"inline\" }}>*Total:</Typography>\n              <Typography\n                color=\"warning\"\n                fontWeight=\"fontWeightBold\"\n                sx={{ display: \"inline\", marginLeft: 1 }}\n              >\n                {usDollar.format(totalAdj)}\n              </Typography>\n              {netDiff !== 0 && (\n                <>\n                  <Divider aria-hidden />\n                  <Typography sx={{ display: \"inline\" }}>Net:</Typography>\n                  <Typography\n                    color={netDiff > 0 ? \"success\" : \"error\"}\n                    fontWeight=\"fontWeightBold\"\n                    sx={{ display: \"inline\", marginLeft: 1 }}\n                  >\n                    {usDollar.format(netDiff)}\n                  </Typography>\n                </>\n              )}\n            </CardContent>\n          </Grid>\n          {stockTick && (\n            <Grid size={6}>\n              <CardHeader title=\"Stock Grant\" />\n              <CardContent>\n                <Typography sx={{ display: \"inline\" }}>Ticker:</Typography>\n                <Typography\n                  color=\"primary\"\n                  fontWeight=\"fontWeightBold\"\n                  sx={{ display: \"inline\", marginLeft: 1 }}\n                >\n                  {stockTick}\n                </Typography>\n                {grantQty > 0 && (\n                  <>\n                    <Typography>Price: {usDollar.format(priceThen)}</Typography>\n                    <Typography>Grant Qty: {grantQty}</Typography>\n                    <Typography>Duration: {grantDuration} years</Typography>\n                    <Divider aria-hidden />\n                    <Typography>Grant: {usDollar.format(grantThen)}</Typography>\n                    <Typography>*Grant: {usDollar.format(grantNow)}</Typography>\n                  </>\n                )}\n              </CardContent>\n            </Grid>\n          )}\n        </Grid>\n      </CardActionArea>\n    </Card>\n  </Grid>\n);\n\nexport default CompEntryCard;\n","import { Grid, Typography } from \"@mui/material\";\nimport { CompCalcEntry, CompEntry } from \"../../../jotai/comp-calculator-atom\";\nimport CompEntryCard from \"./CompEntryCard\";\n\ninterface CompEntryDisplayProps {\n  compEntries: CompEntry[];\n  compCalcEntries: CompCalcEntry[];\n  onClick: (i: number) => () => void;\n}\n\nconst CompEntryDisplay = ({\n  compEntries,\n  compCalcEntries,\n  onClick,\n}: CompEntryDisplayProps) => (\n  <Grid container spacing={1}>\n    <Grid size={12}>\n      <Typography>*value computed from latest stock price above</Typography>\n    </Grid>\n    {compEntries\n      .map((compEntry, i) => (\n        <CompEntryCard\n          compEntry={compEntry}\n          compCalcEntry={compCalcEntries[i]}\n          compEntryCount={compEntries.length}\n          onClick={onClick(i)}\n          key={`comp-calc-entry-${i}`}\n        />\n      ))\n      .reverse()}\n  </Grid>\n);\n\nexport default CompEntryDisplay;\n","import { useState } from \"react\";\nimport { useAtom, useAtomValue } from \"jotai\";\nimport compCalcState, {\n  compCalcRead,\n} from \"../../../jotai/comp-calculator-atom\";\nimport CompHeader from \"./CompHeader\";\nimport Graphs from \"./graphs/Graphs\";\nimport CompEntryDisplay from \"./CompEntryDisplay\";\n\nconst CompCalculator = () => {\n  const [compEntries, setCompEntries] = useAtom(compCalcState);\n  const compCalcEntries = useAtomValue(compCalcRead);\n\n  const [openEntry, setOpenEntry] = useState(false);\n  const [editEntryIdx, setEditEntryIdx] = useState(-1);\n\n  // entry open/closers\n  const openEditEntry = (i: number) => () => {\n    setEditEntryIdx(i);\n    setOpenEntry(true);\n  };\n\n  return (\n    <>\n      <CompHeader\n        compEntries={compEntries}\n        setCompEntries={setCompEntries}\n        openEntry={openEntry}\n        setOpenEntry={setOpenEntry}\n        editEntryIdx={editEntryIdx}\n        setEditEntryIdx={setEditEntryIdx}\n      />\n      {compEntries.length > 0 && (\n        <>\n          <Graphs compEntries={compEntries} compCalcEntries={compCalcEntries} />\n          <CompEntryDisplay\n            compEntries={compEntries}\n            compCalcEntries={compCalcEntries}\n            onClick={openEditEntry}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default CompCalculator;\n"],"names":["stockAtom","atomWithStorage","compCalcAtom","compCalcRead","atom","get","compEntries","stockEntries","prevStockAcc","compCalcEntriesNoNet","bonus","entryDate","grantDuration","grantQty","priceThen","salary","stockTick","priceNow","stock","stockAdj","exp","dateHelper","s","total","totalAdj","grantThen","grantNow","rest","i","netDiff","tfProps","currentYear","years","CompEntryDialog","open","compEntry","onClose","addCompEntry","entryDateMonth","setEntryDateMonth","useState","entryDateYear","setEntryDateYear","setSalary","setBonus","setStockTick","setPriceThen","setGrantDuration","setGrantQty","resetState","handleChange","func","e","handleStockTick","handleSelectMonth","handleSelectYear","handleSubmit","jsxs","Dialog","DialogTitle","DialogContent","FormControl","jsx","InputLabel","Select","months","month","MenuItem","year","TextField","DialogContentText","DialogActions","Button","StockDialog","memo","exPrice","exStock","addStockEntry","removeStockEntry","price","setPrice","setStock","handleStockChange","handlePriceChange","usDollar","StockDisplay","openStockModal","stockKey","Chip","CompHeader","setCompEntries","openEntry","setOpenEntry","editEntryIdx","setEditEntryIdx","setStockEntries","useAtom","openStock","setOpenStock","editStockTick","setEditStockTick","closeEntryModal","openNewEntry","closeStockModal","openNewStock","openEditStock","newCompEntries","newStockEntries","Fragment","Typography","colors","lightGreen","orange","blue","STOCK","BONUS","SALARY","TOTAL","INFL","inflationKey","staticOptions","CompChart","startIdx","compCalcEntries","onClick","color","useAtomValue","themeAtom","compChartData","startYear","startTC","endYear","options","HighchartsReact","Highcharts","BreakdownChart","Graphs","setStartIdx","cStock","cBonus","cSalary","handleClick","index","Grid","CompEntryCard","compEntryCount","Card","CardActionArea","CardHeader","CardContent","dateObj","Divider","CompEntryDisplay","CompCalculator","compCalcState","openEditEntry"],"mappings":"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"}