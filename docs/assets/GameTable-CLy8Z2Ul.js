import{O as T,P as W,r as w,j as e,G as A,a9 as P,E as k,K as Q}from"./index-CzcMJBPz.js";import{p as C}from"./PlayerMenu-DGmhgOvE.js";import{T as f}from"./Header-CMJT-J8P.js";import{C as R}from"./Card-D3Fstm-Q.js";import{S as D}from"./Slider-d_Jk_fr7.js";import{b as I}from"./blueGrey-BeTiP1I_.js";import{B as N}from"./Button-DwLdL6q5.js";const _={player:0,hand:0},at=T("turnAtom",_),q=(i,n)=>i.weight-n.weight,B=[{name:"2",weight:2,suit:"♣"},{name:"3",weight:3,suit:"♣"},{name:"4",weight:4,suit:"♣"},{name:"5",weight:5,suit:"♣"},{name:"6",weight:6,suit:"♣"},{name:"7",weight:7,suit:"♣"},{name:"8",weight:8,suit:"♣"},{name:"9",weight:9,suit:"♣"},{name:"10",weight:10,suit:"♣"},{name:"J",weight:11,suit:"♣"},{name:"Q",weight:12,suit:"♣"},{name:"K",weight:13,suit:"♣"},{name:"A",weight:14,suit:"♣"},{name:"2",weight:2,suit:"♦"},{name:"3",weight:3,suit:"♦"},{name:"4",weight:4,suit:"♦"},{name:"5",weight:5,suit:"♦"},{name:"6",weight:6,suit:"♦"},{name:"7",weight:7,suit:"♦"},{name:"8",weight:8,suit:"♦"},{name:"9",weight:9,suit:"♦"},{name:"10",weight:10,suit:"♦"},{name:"J",weight:11,suit:"♦"},{name:"Q",weight:12,suit:"♦"},{name:"K",weight:13,suit:"♦"},{name:"A",weight:14,suit:"♦"},{name:"2",weight:2,suit:"♥"},{name:"3",weight:3,suit:"♥"},{name:"4",weight:4,suit:"♥"},{name:"5",weight:5,suit:"♥"},{name:"6",weight:6,suit:"♥"},{name:"7",weight:7,suit:"♥"},{name:"8",weight:8,suit:"♥"},{name:"9",weight:9,suit:"♥"},{name:"10",weight:10,suit:"♥"},{name:"J",weight:11,suit:"♥"},{name:"Q",weight:12,suit:"♥"},{name:"K",weight:13,suit:"♥"},{name:"A",weight:14,suit:"♥"},{name:"2",weight:2,suit:"♠"},{name:"3",weight:3,suit:"♠"},{name:"4",weight:4,suit:"♠"},{name:"5",weight:5,suit:"♠"},{name:"6",weight:6,suit:"♠"},{name:"7",weight:7,suit:"♠"},{name:"8",weight:8,suit:"♠"},{name:"9",weight:9,suit:"♠"},{name:"10",weight:10,suit:"♠"},{name:"J",weight:11,suit:"♠"},{name:"Q",weight:12,suit:"♠"},{name:"K",weight:13,suit:"♠"},{name:"A",weight:14,suit:"♠"}],$=T("deckAtom",B),mt=W(null,(i,n)=>{const s=[];B.forEach(h=>s.push(h));for(let h=0;h<100;h+=1){const r=Math.floor(Math.random()*s.length),t=Math.floor(Math.random()*s.length),o=s[r];s[r]=s[t],s[t]=o}n($,s)}),ht=W(null,(i,n,s,h,r=[])=>{const t=i($),o=[];t.forEach(c=>o.push(c));const a=[];if(s<=o.length)for(let c=0;c<s;c+=1){const p=o.pop();p&&a.push(p)}const l=[...i(C)],u=l.findIndex(c=>c.id===h),g=l[u];g.hands[0]={cards:[...r,...a],weight:0,soft:!1},g.hands[0].cards.sort(q),n($,o),n(C,l)}),z={border:0,backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:"0 3px 12px 3px",width:50},L={textAlign:"left"},O={margin:"auto",marginTop:5,textAlign:"center",width:"100%"},y={cardFace:z,cardTitle:L,suit:O},v=w.memo(({dropped:i,suit:n,name:s,cardHandler:h,playerNo:r,handNo:t,cardNo:o})=>{const a=w.useCallback(()=>{h&&h(r,t,o)},[h,o,t,r]),m={color:n==="♣"||n==="♠"?"black":A[500],backgroundColor:i?A[100]:"white"};return e.jsxs("button",{style:{...y.cardFace,...m},onClick:a,children:[e.jsx("div",{style:y.cardTitle,children:s+n}),e.jsx(f,{variant:"h4",style:{...y.suit,...m},children:n})]})});v.displayName="Card";const U={fontWeight:"bold",marginTop:"0.5em"},V={fontWeight:"normal",marginTop:"0.5em"},X=({cardHandler:i,cardsToDiscard:n,hand:s,handNo:h,isBlackJack:r,isHandTurn:t,isMultiHand:o,isPlayerTurn:a,playerNo:m})=>{const l=w.useMemo(()=>a&&(!o||o&&t)?{...U,color:P[700]}:V,[a,o,t]),u=s.weight||0;return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h4",style:l,children:r&&`${u>21?"Bust":"Hand"}: ${u}`}),s.cards.map((g,c)=>{const p=n.includes(c);return g?e.jsx(v,{cardHandler:i,cardNo:c,dropped:p,handNo:h,name:g.name,playerNo:m,suit:g.suit},g.name+g.suit):null})]})},Y={borderRadius:5,display:"inline-block",margin:10,padding:20},Z={minWidth:"100px"},M={player:Y,width:Z},J=({betHandler:i,cardHandler:n,cardsToDiscard:s,hideHands:h,isBlackJack:r,player:t,playerNo:o,turn:a})=>{const m=!!a&&o===a.player,l=t.hands.length>1,u=!!h&&r&&t.id!==0&&!t.isBot,g=Math.max(Math.min(t.money,5),0),c=Math.max(Math.min(t.money,100),10),p=5,F=w.useCallback((j,d)=>{i&&i(t.id,j,Array.isArray(d)?d[d.length-1]:d)},[i,t.id]),G={fontWeight:m?"bold":"normal"};let x={background:k[900],color:"white"};return t.status==="win"?x={background:Q[300],color:"white"}:t.status==="draw"?x={background:I[300],color:"white"}:t.status==="lose"?x={background:A[300],color:"white"}:m&&(x={background:k[300],color:"black"}),e.jsxs(R,{style:{...M.player,...x},children:[e.jsx(f,{variant:"h4",component:"h2",style:{...G},children:`${t.name}: $${t.money}`}),u&&e.jsx(D,{max:c,min:g,onChange:F,step:p,style:M.width,value:t.bet,"aria-label":`adjust bet for ${t.name}`}),r&&t.id!==0&&e.jsx(f,{variant:"h5",component:"h3",children:`Bet: $${t.bet}`}),t.hands.map((j,d)=>{const K=!!a&&a.hand===d;return e.jsx("div",{children:!h&&e.jsx(X,{cardHandler:n,cardsToDiscard:s,hand:j,handNo:d,isBlackJack:r,isHandTurn:K,isMultiHand:l,isPlayerTurn:m,playerNo:o})},`hand${d}`)})]})},b=({betHandler:i,cardHandler:n,cardsToDiscard:s,hideHands:h,isBlackJack:r,players:t,turn:o})=>e.jsx(e.Fragment,{children:t.map((a,m)=>e.jsx(J,{betHandler:i,cardHandler:n,cardsToDiscard:s,hideHands:h,isBlackJack:r,player:a,playerNo:m,turn:o},`player${m}`))}),E=w.memo(({onClick:i,name:n})=>e.jsx(N,{onClick:()=>i(n),style:{margin:12},variant:"contained",children:n}));E.displayName="Button";const S=({gameFunctions:i,onClick:n})=>e.jsx("div",{children:i.map(s=>e.jsx(E,{onClick:n,name:s},s))}),rt=({betHandler:i,cardClickHandler:n,cardsToDiscard:s=[],gameFunctions:h=[],gameOver:r=!1,hideHands:t=!1,isBlackJack:o=!0,players:a,turn:m,onClick:l})=>{const u=w.useMemo(()=>a.slice(0,m.player+1),[a,m.player]),g=w.useMemo(()=>a.slice(m.player+1),[a,m.player]),c=w.useMemo(()=>!t&&r===!1?a.slice(m.player,m.player+1):a,[t,r,a,m.player]);return o&&!t?e.jsxs(e.Fragment,{children:[e.jsx(b,{players:u,betHandler:i,cardHandler:n,cardsToDiscard:s,hideHands:t,isBlackJack:o,turn:m}),e.jsx(S,{gameFunctions:h,onClick:l}),e.jsx(b,{players:g,betHandler:i,cardHandler:n,cardsToDiscard:s,hideHands:t,isBlackJack:o,turn:{player:-1,hand:-1}})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{players:c,betHandler:i,cardHandler:n,cardsToDiscard:s,hideHands:t,isBlackJack:o,turn:m}),e.jsx(S,{gameFunctions:h,onClick:l})]})};export{rt as G,ht as d,B as n,q as r,mt as s,at as t};
//# sourceMappingURL=GameTable-CLy8Z2Ul.js.map
