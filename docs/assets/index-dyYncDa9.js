import{j as e,S as A,D as C,o as y}from"./index-D32ZZHd7.js";import{G as h}from"./Grid2-D5GgAy_1.js";import{T as I}from"./TextField-BYnPLZpD.js";import{C as f}from"./Chip-BsH7_VQG.js";import{A as E}from"./Avatar-1-3sEt3b.js";import{D as F,T as m,M as X}from"./Header-BlhA8EIF.js";import{B as v}from"./ButtonGroup-BgzsQX9L.js";import{B as g}from"./Button-DtCErEdv.js";import{D,a as L,b as N,c as z}from"./DialogTitle-CyeW9IwI.js";import{F as $,I as O,S as V}from"./Select-yxWypFLp.js";import"./useThemeProps-CLJvjzQS.js";import"./isMuiElement-BPlqUAto.js";import"./useSlotProps-CT9XJMik.js";const H=t=>{switch(t){case 0:return;case 1:return"error";case 2:default:return"primary"}},G="Story Mission",W="Side Mission",U="Finale",T="Forced Mission (p.31)",k=(t,r)=>r?t?T:U:t?W:G,P=({mission:t,onVictoryClick:r,onNameBlur:a,onRShopClick:n,onEShopClick:i})=>e.jsxs(e.Fragment,{children:[e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(I,{label:k(t.isSide,!n),color:k(t.isSide,!n)===T?"error":void 0,variant:"outlined",value:t.title,onChange:a,onBlur:a})}),e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(f,{avatar:e.jsx(E,{children:t.threat}),label:"Threat",color:H(t.victory),variant:t.victory>0?void 0:"outlined",onClick:r})}),n!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(f,{label:`Tier ${t.shop} Items (${t.shop.length>1?"7 & 7":14}), Spend XP`,color:t.rShop?"error":void 0,variant:t.rShop?void 0:"outlined",onClick:n})}),e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(f,{label:"Agenda, Spend XP",color:t.eShop?"primary":void 0,variant:t.eShop?void 0:"outlined",onClick:i})}),e.jsx(h,{size:12,children:e.jsx(F,{"aria-hidden":!0})})]})]}),s={isSide:!1,victory:0,rShop:!1,eShop:!1,title:""},M=t=>({...s,isSide:!0,threat:t,shop:""}),B=[{...s,threat:2,shop:"1",title:"Aftermath"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2 & 3",isSide:!0},{...s,threat:5,shop:"3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:""}],J=[{...s,threat:3,shop:"1 & 2",title:"Hunted Down"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],Y=[{...s,threat:2,shop:"1",title:"The Battle of Hoth"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2",title:"Return to Echo Base"},{...s,threat:4,shop:"2 & 3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:"",title:"Our Last Hope"}],q=[{...s,threat:3,shop:"1 & 2",title:"Reclamation"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],K=[{...s,threat:2,shop:"1",title:"Trespass"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2 & 3",title:"Moment of Fate"},{...s,threat:5,shop:"3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:""}],Q=[{...s,threat:2,shop:"1",title:"Dark Recon"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1 & 2"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2 & 3",isSide:!0},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],Z=[{...s,threat:3,shop:"1 & 2",title:"Call to Action"},{...s,threat:4,shop:"2",isSide:!0,title:"The Pirate's Plot"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2",isSide:!0},{...s,threat:5,shop:"2 & 3"},{...s,threat:6,shop:"3",isSide:!0,title:"The Admiral's Grip"},{...s,threat:6,shop:"",title:"The Final Order"}],_={campaign:B,campaignIdx:"0",forcedMissions:[M(2)],credits:"0",rebelXP:[0,0,0,0],xp:0,influence:0},j=A("impAssAtom",_),ee=[B,J,Y,q,K,Q,Z],te=()=>{const[{campaignIdx:t},r]=C(j);return{campaignIdx:t,handleCampaignChange:n=>{const i=[...ee[parseInt(n)]];let c="0",o=[0,0,0,0],p=0;n==="1"||n==="3"?(o=[3,3,3,3],c="400",p=3):n==="6"&&(o=[2,2,2,2],c="300",p=2),r({campaignIdx:n,campaign:i,forcedMissions:[M(i[0].threat)],credits:c,rebelXP:o,xp:p,influence:0})}}},se=()=>{const[{rebelXP:t,credits:r,...a},n]=C(j);return{rebelXP:t,credits:r,handleXPClick:(o,p)=>()=>{const l=[...t];l[o]=p,n({...a,credits:r,rebelXP:l})},updateCredits:o=>n({...a,rebelXP:t,credits:o.target.value||""})}},ie=()=>{const[{xp:t,influence:r,...a},n]=C(j);return{xp:t,influence:r,handleXPClick:o=>()=>n({...a,influence:r,xp:o}),handleInfluenceClick:o=>()=>n({...a,xp:t,influence:o})}},ne=()=>{const[{campaign:t,forcedMissions:r,...a},n]=C(j);return{campaign:t,handleRShopClick:l=>()=>{if(!t[l].victory&&!t[l].rShop)return;const d=[...t],u={...t[l],rShop:!t[l].rShop};d[l]=u,n({...a,forcedMissions:r,campaign:d})},handleEShopClick:l=>()=>{if(!t[l].victory&&!t[l].eShop)return;const d=[...t],u={...t[l],eShop:!t[l].eShop};d[l]=u,n({...a,forcedMissions:r,campaign:d})},handleVictoryClick:l=>()=>{if(t[l].title==="")return;const d=[...t],u={...t[l],victory:(t[l].victory+1)%3};d[l]=u;const x=[...r],S=x.length-1;if(x[S].title===""){const R={...x[S],threat:d[l].threat};x[S]=R}n({...a,forcedMissions:x,campaign:d})},updateMissionName:l=>d=>{const u=[...t],x={...t[l],title:d.target.value||""};u[l]=x,n({...a,forcedMissions:r,campaign:u})}}},re=()=>{const[{forcedMissions:t,...r},a]=C(j);return{forcedMissions:t,handleVictoryClick:c=>()=>{if(t[c].title==="")return;const o=[...t];o[c].victory=(t[c].victory+1)%3,c===t.length-1&&o.push(M(t[c].threat)),a({...r,forcedMissions:o})},updateMissionName:c=>o=>{const p=[...t],l={...p[c],title:o.target.value||""};p[c]=l,a({...r,forcedMissions:p})}}},ae=()=>{const{campaign:t,handleEShopClick:r,handleRShopClick:a,handleVictoryClick:n,updateMissionName:i}=ne();return e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"h3",children:"Missions"}),e.jsxs(h,{container:!0,alignItems:"center",marginBottom:3,spacing:1,children:[e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(m,{children:"Mission (p.44, 57)"})}),e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(m,{children:"Threat Level (p.46)"})}),e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(m,{children:"Rebel Upgrade (p.52)"})}),e.jsx(h,{size:{xs:6,sm:3},children:e.jsx(m,{children:"Imperial Upgrade (p.35)"})})]}),e.jsx(h,{container:!0,alignItems:"center",marginBottom:3,spacing:1,children:t.map((c,o)=>{const p=o>=t.length-1;return e.jsx(P,{mission:c,onNameBlur:i(o),onVictoryClick:n(o),onEShopClick:p?void 0:r(o),onRShopClick:p?void 0:a(o)},o)})})]})},w=[0,1,2,3,4,5,6],oe=()=>{const{xp:t,influence:r,handleXPClick:a,handleInfluenceClick:n}=ie();return e.jsxs(h,{size:{xs:12,md:4},children:[e.jsx(m,{variant:"h3",gutterBottom:!0,children:"Empire"}),e.jsx(m,{children:"XP"}),e.jsx(v,{"aria-label":"Empire experience level",fullWidth:!0,sx:{marginBottom:2},children:w.map(i=>e.jsx(g,{variant:t===i?"contained":"outlined",onClick:a(i),"aria-label":`${i} experience`,children:i},i))}),e.jsx(m,{children:"Influence"}),e.jsx(v,{"aria-label":"Empire influence level",fullWidth:!0,children:w.map(i=>e.jsx(g,{variant:r===i?"contained":"outlined",onClick:n(i),"aria-label":`${i} influence`,children:i},i))})]})},le=()=>{const{forcedMissions:t,handleVictoryClick:r,updateMissionName:a}=re();return e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"h3",gutterBottom:!0,children:"Forced Missions"}),e.jsx(h,{container:!0,alignItems:"center",marginBottom:3,spacing:1,children:t.map((n,i)=>e.jsx(P,{mission:n,onNameBlur:a(i),onVictoryClick:r(i)},i))})]})},b=["Imperial Assault Campaign Log","Twin Shadows Campaign Log","Return to Hoth Campaign Log","The Bespin Gambit Campaign Log","Jabba's Realm Campaign Log","Heart of the Empire Campaign Log","Tyrants of Lothal Campaign Log"],ce=({oldC:t,newC:r,open:a,onClose:n,onSave:i})=>e.jsxs(D,{title:"info-popup",onClose:n,open:a,children:[e.jsx(L,{children:"New Campaign"}),e.jsxs(N,{children:["Are you sure you want to switch from:",e.jsx("br",{"aria-hidden":!0}),b[parseInt(t)]," > ",b[parseInt(r)],"?"]}),e.jsxs(z,{children:[e.jsx(g,{color:"error",onClick:i,children:"New Campaign"}),e.jsx(g,{color:"primary",onClick:n,children:"Cancel"})]})]}),he=()=>{const{campaignIdx:t,handleCampaignChange:r}=te(),[a,n]=y.useState(t),[i,c]=y.useState(!1),o=()=>c(!1),p=()=>{r(a),o()},l=d=>{n(d.target.value),c(!0)};return e.jsxs("div",{className:"flex-container",children:[e.jsx(m,{variant:"h2",component:"h1",gutterBottom:!0,children:"Imperial Assault"}),e.jsxs($,{children:[e.jsx(O,{id:"campaign-select-label",children:"Campaign"}),e.jsx(V,{labelId:"campaign-select-label",value:t,label:"Campaign",onChange:l,children:b.map((d,u)=>e.jsx(X,{value:`${u}`,children:d},`campaign-${u}`))})]}),e.jsx(ce,{oldC:t,newC:a,open:i,onClose:o,onSave:p})]})},pe=[0,1,2,3],de=[0,1,2,3,4,5,6],me=()=>{const{rebelXP:t,credits:r,handleXPClick:a,updateCredits:n}=se();return e.jsxs(h,{size:{xs:12,md:8},children:[e.jsxs("div",{className:"flex-container",children:[e.jsx(m,{variant:"h3",gutterBottom:!0,children:"Rebels"}),e.jsx(I,{label:"CREDITS",color:"error",slotProps:{input:{startAdornment:"á–¬"}},value:r,onChange:n,onBlur:n})]}),e.jsx(h,{container:!0,spacing:2,marginBottom:3,children:pe.map(i=>e.jsxs(h,{size:{xs:12,sm:6},children:[e.jsxs(m,{children:["Rebel ",i+1]}),e.jsx(v,{"aria-label":`Rebel ${i}'s experience`,fullWidth:!0,color:"error",children:de.map(c=>e.jsx(g,{variant:t[i]===c?"contained":"outlined",onClick:a(i,c),"aria-label":`${c} experience`,children:c},`${i}-${c}`))})]},i))})]})},Ie=()=>e.jsxs(e.Fragment,{children:[e.jsx(he,{}),e.jsxs(h,{container:!0,spacing:2,children:[e.jsx(me,{}),e.jsx(oe,{})]}),e.jsx(F,{"aria-hidden":!0}),e.jsx(ae,{}),e.jsx(le,{})]});export{Ie as default};
//# sourceMappingURL=index-dyYncDa9.js.map
