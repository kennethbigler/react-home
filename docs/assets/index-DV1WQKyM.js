import{j as e,S as B,D as C,o as M}from"./index-DDpNChgp.js";import{G as m}from"./Grid2-CDO5e7ji.js";import{T as w}from"./TextField-BT5UQiwW.js";import{C as f}from"./Chip-DHV9LvaE.js";import{A}from"./Avatar-DmeUh7X3.js";import{T as u,M as X}from"./Header-BwlxGDoG.js";import{B as v}from"./ButtonGroup-DjNfJ5ig.js";import{B as x}from"./Button-BwDf9PIS.js";import{D as R,a as E,b as L,c as N}from"./DialogTitle-AmCZBBW6.js";import{F as D,I as $,S as V}from"./Select-Db80CoeT.js";import"./useThemeProps-BIKsgecp.js";import"./isMuiElement-drqYLwa_.js";import"./useSlotProps-J5zGxOmP.js";const H=t=>{switch(t){case 0:return;case 1:return"error";case 2:default:return"primary"}},y=(t,o)=>o?t?"Forced":"Finale":t?"Side":"Story",F=({mission:t,onVictoryClick:o,onNameBlur:n,onRShopClick:a,onEShopClick:i})=>e.jsxs(e.Fragment,{children:[e.jsx(m,{size:{xs:6,sm:3},children:e.jsx(w,{label:`${y(t.isSide,!a)} Mission`,color:y(t.isSide,!a)==="Forced"?"error":void 0,variant:"outlined",value:t.title,onChange:n,onBlur:n})}),e.jsx(m,{size:{xs:6,sm:3},children:e.jsx(f,{avatar:e.jsx(A,{children:t.threat}),label:"Threat",color:H(t.victory),variant:t.victory>0?void 0:"outlined",onClick:o})}),a!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx(m,{size:{xs:6,sm:3},children:e.jsx(f,{label:`Tier ${t.shop} Items, Spend XP`,color:t.rShop?"error":void 0,variant:t.rShop?void 0:"outlined",onClick:a})}),e.jsx(m,{size:{xs:6,sm:3},children:e.jsx(f,{label:"Agenda, Spend XP",color:t.eShop?"primary":void 0,variant:t.eShop?void 0:"outlined",onClick:i})})]})]}),s={isSide:!1,victory:0,rShop:!1,eShop:!1,title:""},I=t=>({...s,isSide:!0,threat:t,shop:""}),P=[{...s,threat:2,shop:"1",title:"Aftermath"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2 & 3",isSide:!0},{...s,threat:5,shop:"3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:""}],z=[{...s,threat:3,shop:"1 & 2",title:"Hunted Down"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],O=[{...s,threat:2,shop:"1",title:"The Battle of Hoth"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2",title:"Return to Echo Base"},{...s,threat:4,shop:"2 & 3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:"",title:"Our Last Hope"}],G=[{...s,threat:3,shop:"1 & 2",title:"Reclamation"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],W=[{...s,threat:2,shop:"1",title:"Trespass"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2 & 3",title:"Moment of Fate"},{...s,threat:5,shop:"3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:""}],J=[{...s,threat:2,shop:"1",title:"Dark Recon"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1 & 2"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2 & 3",isSide:!0},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],Y=[{...s,threat:3,shop:"1 & 2",title:"Call to Action"},{...s,threat:4,shop:"2",isSide:!0,title:"The Pirate's Plot"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2",isSide:!0},{...s,threat:5,shop:"2 & 3"},{...s,threat:6,shop:"3",isSide:!0,title:"The Admiral's Grip"},{...s,threat:6,shop:"",title:"The Final Order"}],q={campaign:P,campaignIdx:"0",forcedMissions:[I(2)],credits:"0",rebelXP:[0,0,0,0],xp:0,influence:0},S=B("impAssAtom",q),K=[P,z,O,G,W,J,Y],Q=()=>{const[{campaignIdx:t},o]=C(S);return{campaignIdx:t,handleCampaignChange:a=>{const i=[...K[parseInt(a)]];let c="0",r=[0,0,0,0],h=0;a==="1"||a==="3"?(r=[3,3,3,3],c="400",h=3):a==="6"&&(r=[2,2,2,2],c="300",h=2),o({campaignIdx:a,campaign:i,forcedMissions:[I(i[0].threat)],credits:c,rebelXP:r,xp:h,influence:0})}}},U=()=>{const[{rebelXP:t,credits:o,...n},a]=C(S);return{rebelXP:t,credits:o,handleXPClick:(r,h)=>()=>{const l=[...t];l[r]=h,a({...n,credits:o,rebelXP:l})},updateCredits:r=>a({...n,rebelXP:t,credits:r.target.value||""})}},Z=()=>{const[{xp:t,influence:o,...n},a]=C(S);return{xp:t,influence:o,handleXPClick:r=>()=>a({...n,influence:o,xp:r}),handleInfluenceClick:r=>()=>a({...n,xp:t,influence:r})}},_=()=>{const[{campaign:t,forcedMissions:o,...n},a]=C(S);return{campaign:t,handleRShopClick:l=>()=>{if(!t[l].victory&&!t[l].rShop)return;const p=[...t],d={...t[l],rShop:!t[l].rShop};p[l]=d,a({...n,forcedMissions:o,campaign:p})},handleEShopClick:l=>()=>{if(!t[l].victory&&!t[l].eShop)return;const p=[...t],d={...t[l],eShop:!t[l].eShop};p[l]=d,a({...n,forcedMissions:o,campaign:p})},handleVictoryClick:l=>()=>{const p=[...t],d={...t[l],victory:(t[l].victory+1)%3};p[l]=d;const g=[...o],j=g.length-1;if(g[j].title===""){const T={...g[j],threat:p[l].threat};g[j]=T}a({...n,forcedMissions:g,campaign:p})},updateMissionName:l=>p=>{const d=[...t],g={...t[l],title:p.target.value||""};d[l]=g,a({...n,forcedMissions:o,campaign:d})}}},ee=()=>{const[{forcedMissions:t,...o},n]=C(S);return{forcedMissions:t,handleVictoryClick:c=>()=>{const r=[...t];r[c].victory=(t[c].victory+1)%3,n({...o,forcedMissions:r})},updateMissionName:c=>r=>{const h=[...t],l={...h[c],title:r.target.value||""};h[c]=l,n({...o,forcedMissions:h})}}},te=()=>{const{campaign:t,handleEShopClick:o,handleRShopClick:n,handleVictoryClick:a,updateMissionName:i}=_();return e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"h3",gutterBottom:!0,children:"Missions"}),e.jsx(m,{container:!0,alignItems:"center",marginBottom:3,spacing:1,children:t.map((c,r)=>{const h=r>=t.length-1;return e.jsx(F,{mission:c,onNameBlur:i(r),onVictoryClick:a(r),onEShopClick:h?void 0:o(r),onRShopClick:h?void 0:n(r)},r)})})]})},k=[0,1,2,3,4,5,6],se=()=>{const{xp:t,influence:o,handleXPClick:n,handleInfluenceClick:a}=Z();return e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"h3",gutterBottom:!0,children:"Empire"}),e.jsxs(m,{container:!0,spacing:2,marginBottom:3,children:[e.jsxs(m,{size:{xs:12,sm:6},children:[e.jsx(u,{children:"XP"}),e.jsx(v,{"aria-label":"Empire experience level",fullWidth:!0,children:k.map(i=>e.jsx(x,{variant:t===i?"contained":"outlined",onClick:n(i),"aria-label":`${i} experience`,children:i},i))})]}),e.jsxs(m,{size:{xs:12,sm:6},children:[e.jsx(u,{children:"Influence"}),e.jsx(v,{"aria-label":"Empire influence level",fullWidth:!0,children:k.map(i=>e.jsx(x,{variant:o===i?"contained":"outlined",onClick:a(i),"aria-label":`${i} influence`,children:i},i))})]})]})]})},ie=()=>{const{forcedMissions:t,handleVictoryClick:o,updateMissionName:n}=ee();return e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"h3",gutterBottom:!0,children:"Forced Missions"}),e.jsx(m,{container:!0,alignItems:"center",marginBottom:3,children:t.map((a,i)=>e.jsx(F,{mission:a,onNameBlur:n(i),onVictoryClick:o(i)},i))})]})},b=["Imperial Assault Campaign Log","Twin Shadows Campaign Log","Return to Hoth Campaign Log","The Bespin Gambit Campaign Log","Jabba&apos;s Realm Campaign Log","Heart of the Empire Campaign Log","Tyrants of Lothal Campaign Log"],ae=({oldC:t,newC:o,open:n,onClose:a,onSave:i})=>e.jsxs(R,{title:"info-popup",onClose:a,open:n,children:[e.jsx(E,{children:"New Campaign"}),e.jsxs(L,{children:["Are you sure you want to switch from:",e.jsx("br",{"aria-hidden":!0}),b[parseInt(t)]," > ",b[parseInt(o)],"?"]}),e.jsxs(N,{children:[e.jsx(x,{color:"secondary",onClick:i,children:"Yes"}),e.jsx(x,{color:"primary",onClick:a,children:"Close"})]})]}),oe=()=>{const{campaignIdx:t,handleCampaignChange:o}=Q(),[n,a]=M.useState(t),[i,c]=M.useState(!1),r=()=>c(!1),h=()=>{o(n),r()},l=p=>{a(p.target.value),c(!0)};return e.jsxs("div",{className:"flex-container",children:[e.jsx(u,{variant:"h2",component:"h1",gutterBottom:!0,children:"Imperial Assault"}),e.jsxs(D,{children:[e.jsx($,{id:"campaign-select-label",children:"Campaign"}),e.jsx(V,{labelId:"campaign-select-label",value:t,label:"Campaign",onChange:l,children:b.map((p,d)=>e.jsx(X,{value:`${d}`,children:p},`campaign-${d}`))})]}),e.jsx(ae,{oldC:t,newC:n,open:i,onClose:r,onSave:h})]})},ne=[0,1,2,3],re=[0,1,2,3,4,5,6],le=()=>{const{rebelXP:t,credits:o,handleXPClick:n,updateCredits:a}=U();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-container",children:[e.jsx(u,{variant:"h3",gutterBottom:!0,children:"Rebels"}),e.jsx(w,{label:"CREDITS",color:"error",slotProps:{input:{startAdornment:"á–¬"}},value:o,onChange:a,onBlur:a})]}),e.jsx(m,{container:!0,spacing:2,marginBottom:3,children:ne.map(i=>e.jsxs(m,{size:{xs:12,sm:6},children:[e.jsxs(u,{children:["Rebel ",i+1]}),e.jsx(v,{"aria-label":`Rebel ${i}'s experience`,fullWidth:!0,color:"error",children:re.map(c=>e.jsx(x,{variant:t[i]===c?"contained":"outlined",onClick:n(i,c),"aria-label":`${c} experience`,children:c},`${i}-${c}`))})]},i))})]})},be=()=>e.jsxs(e.Fragment,{children:[e.jsx(oe,{}),e.jsx(le,{}),e.jsx(se,{}),e.jsx(te,{}),e.jsx(ie,{})]});export{be as default};
//# sourceMappingURL=index-DV1WQKyM.js.map
