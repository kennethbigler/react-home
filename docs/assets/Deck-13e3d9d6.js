import{r as K,I as br,b as yr,g as _r,c as We,j as C,s as Fe,h as De,y as wr,z as xr,f as Xt,E as ar,u as Sr,d as Er,P as Wt,Y as Ir,$ as Zt,V as Tr,a4 as bt,a0 as Rr}from"./index-a9cca794.js";import{s as kr,u as Cr,b as qt,C as Ar,d as Ht,o as Et,E as It,f as Nr,g as Pe,T as Tt,t as Lr}from"./MenuItem-e15489c2.js";import{b as Pr}from"./blueGrey-a72a8df5.js";import{C as Dr}from"./CardContent-11e5494e.js";import{v as $r}from"./visuallyHidden-14c3de6e.js";import{c as yt}from"./_commonjs-dynamic-modules-302442b1.js";function Br(i,s,u=(g,x)=>g===x){return i.length===s.length&&i.every((g,x)=>u(g,s[x]))}const Or=2;function ir(i,s){return i-s}function ct(i,s,u){return i==null?s:Math.min(Math.max(s,i),u)}function er(i,s){var u;const{index:g}=(u=i.reduce((x,I,_)=>{const b=Math.abs(s-I);return x===null||b<x.distance||b===x.distance?{distance:b,index:_}:x},null))!=null?u:{};return g}function _t(i,s){if(s.current!==void 0&&i.changedTouches){const u=i;for(let g=0;g<u.changedTouches.length;g+=1){const x=u.changedTouches[g];if(x.identifier===s.current)return{x:x.clientX,y:x.clientY}}return!1}return{x:i.clientX,y:i.clientY}}function Rt(i,s,u){return(i-s)*100/(u-s)}function Mr(i,s,u){return(u-s)*i+s}function Fr(i){if(Math.abs(i)<1){const u=i.toExponential().split("e-"),g=u[0].split(".")[1];return(g?g.length:0)+parseInt(u[1],10)}const s=i.toString().split(".")[1];return s?s.length:0}function zr(i,s,u){const g=Math.round((i-u)/s)*s+u;return Number(g.toFixed(Fr(s)))}function tr({values:i,newValue:s,index:u}){const g=i.slice();return g[u]=s,g.sort(ir)}function wt({sliderRef:i,activeIndex:s,setActive:u}){var g,x;const I=Et(i.current);if(!((g=i.current)!=null&&g.contains(I.activeElement))||Number(I==null||(x=I.activeElement)==null?void 0:x.getAttribute("data-index"))!==s){var _;(_=i.current)==null||_.querySelector(`[type="range"][data-index="${s}"]`).focus()}u&&u(s)}function xt(i,s){return typeof i=="number"&&typeof s=="number"?i===s:typeof i=="object"&&typeof s=="object"?Br(i,s):!1}const jr={horizontal:{offset:i=>({left:`${i}%`}),leap:i=>({width:`${i}%`})},"horizontal-reverse":{offset:i=>({right:`${i}%`}),leap:i=>({width:`${i}%`})},vertical:{offset:i=>({bottom:`${i}%`}),leap:i=>({height:`${i}%`})}},Hr=i=>i;let St;function Vt(){return St===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?St=CSS.supports("touch-action","none"):St=!0),St}function Vr(i){const{"aria-labelledby":s,defaultValue:u,disabled:g=!1,disableSwap:x=!1,isRtl:I=!1,marks:_=!1,max:b=100,min:E=0,name:T,onChange:V,onChangeCommitted:v,orientation:S="horizontal",rootRef:D,scale:O=Hr,step:Y=1,tabIndex:F,value:ee}=i,$=K.useRef(),[fe,ae]=K.useState(-1),[m,A]=K.useState(-1),[R,P]=K.useState(!1),H=K.useRef(0),[U,te]=kr({controlled:ee,default:u??E,name:"Slider"}),G=V&&((p,y,k)=>{const L=p.nativeEvent||p,ne=new L.constructor(L.type,L);Object.defineProperty(ne,"target",{writable:!0,value:{value:y,name:T}}),V(ne,y,k)}),ie=Array.isArray(U);let W=ie?U.slice().sort(ir):[U];W=W.map(p=>ct(p,E,b));const ye=_===!0&&Y!==null?[...Array(Math.floor((b-E)/Y)+1)].map((p,y)=>({value:E+Y*y})):_||[],he=ye.map(p=>p.value),{isFocusVisibleRef:_e,onBlur:pe,onFocus:ge,ref:Je}=Cr(),[ve,Te]=K.useState(-1),le=K.useRef(),ze=qt(Je,le),$e=qt(D,ze),je=p=>y=>{var k;const L=Number(y.currentTarget.getAttribute("data-index"));ge(y),_e.current===!0&&Te(L),A(L),p==null||(k=p.onFocus)==null||k.call(p,y)},Ke=p=>y=>{var k;pe(y),_e.current===!1&&Te(-1),A(-1),p==null||(k=p.onBlur)==null||k.call(p,y)};Ar(()=>{if(g&&le.current.contains(document.activeElement)){var p;(p=document.activeElement)==null||p.blur()}},[g]),g&&fe!==-1&&ae(-1),g&&ve!==-1&&Te(-1);const Ce=p=>y=>{var k;(k=p.onChange)==null||k.call(p,y);const L=Number(y.currentTarget.getAttribute("data-index")),ne=W[L],ce=he.indexOf(ne);let z=y.target.valueAsNumber;if(ye&&Y==null&&(z=z<ne?he[ce-1]:he[ce+1]),z=ct(z,E,b),ye&&Y==null){const se=he.indexOf(W[L]);z=z<W[L]?he[se-1]:he[se+1]}if(ie){x&&(z=ct(z,W[L-1]||-1/0,W[L+1]||1/0));const se=z;z=tr({values:W,newValue:z,index:L});let j=L;x||(j=z.indexOf(se)),wt({sliderRef:le,activeIndex:j})}te(z),Te(L),G&&!xt(z,U)&&G(y,z,L),v&&v(y,z)},Re=K.useRef();let Be=S;I&&S==="horizontal"&&(Be+="-reverse");const Oe=({finger:p,move:y=!1})=>{const{current:k}=le,{width:L,height:ne,bottom:ce,left:z}=k.getBoundingClientRect();let se;Be.indexOf("vertical")===0?se=(ce-p.y)/ne:se=(p.x-z)/L,Be.indexOf("-reverse")!==-1&&(se=1-se);let j;if(j=Mr(se,E,b),Y)j=zr(j,Y,E);else{const Ie=er(he,j);j=he[Ie]}j=ct(j,E,b);let me=0;if(ie){y?me=Re.current:me=er(W,j),x&&(j=ct(j,W[me-1]||-1/0,W[me+1]||1/0));const Ie=j;j=tr({values:W,newValue:j,index:me}),x&&y||(me=j.indexOf(Ie),Re.current=me)}return{newValue:j,activeIndex:me}},Ae=Ht(p=>{const y=_t(p,$);if(!y)return;if(H.current+=1,p.type==="mousemove"&&p.buttons===0){Se(p);return}const{newValue:k,activeIndex:L}=Oe({finger:y,move:!0});wt({sliderRef:le,activeIndex:L,setActive:ae}),te(k),!R&&H.current>Or&&P(!0),G&&!xt(k,U)&&G(p,k,L)}),Se=Ht(p=>{const y=_t(p,$);if(P(!1),!y)return;const{newValue:k}=Oe({finger:y,move:!0});ae(-1),p.type==="touchend"&&A(-1),v&&v(p,k),$.current=void 0,ue()}),Me=Ht(p=>{if(g)return;Vt()||p.preventDefault();const y=p.changedTouches[0];y!=null&&($.current=y.identifier);const k=_t(p,$);if(k!==!1){const{newValue:ne,activeIndex:ce}=Oe({finger:k});wt({sliderRef:le,activeIndex:ce,setActive:ae}),te(ne),G&&!xt(ne,U)&&G(p,ne,ce)}H.current=0;const L=Et(le.current);L.addEventListener("touchmove",Ae),L.addEventListener("touchend",Se)}),ue=K.useCallback(()=>{const p=Et(le.current);p.removeEventListener("mousemove",Ae),p.removeEventListener("mouseup",Se),p.removeEventListener("touchmove",Ae),p.removeEventListener("touchend",Se)},[Se,Ae]);K.useEffect(()=>{const{current:p}=le;return p.addEventListener("touchstart",Me,{passive:Vt()}),()=>{p.removeEventListener("touchstart",Me,{passive:Vt()}),ue()}},[ue,Me]),K.useEffect(()=>{g&&ue()},[g,ue]);const Ne=p=>y=>{var k;if((k=p.onMouseDown)==null||k.call(p,y),g||y.defaultPrevented||y.button!==0)return;y.preventDefault();const L=_t(y,$);if(L!==!1){const{newValue:ce,activeIndex:z}=Oe({finger:L});wt({sliderRef:le,activeIndex:z,setActive:ae}),te(ce),G&&!xt(ce,U)&&G(y,ce,z)}H.current=0;const ne=Et(le.current);ne.addEventListener("mousemove",Ae),ne.addEventListener("mouseup",Se)},Q=Rt(ie?W[0]:E,E,b),J=Rt(W[W.length-1],E,b)-Q,He=(p={})=>{const y={onMouseDown:Ne(p||{})},k={...p,...y};return{ref:$e,...k}},Ee=p=>y=>{var k;(k=p.onMouseOver)==null||k.call(p,y);const L=Number(y.currentTarget.getAttribute("data-index"));A(L)},Ve=p=>y=>{var k;(k=p.onMouseLeave)==null||k.call(p,y),A(-1)};return{active:fe,axis:Be,axisProps:jr,dragging:R,focusedThumbIndex:ve,getHiddenInputProps:(p={})=>{var y;const k={onChange:Ce(p||{}),onFocus:je(p||{}),onBlur:Ke(p||{})},L={...p,...k};return{tabIndex:F,"aria-labelledby":s,"aria-orientation":S,"aria-valuemax":O(b),"aria-valuemin":O(E),name:T,type:"range",min:i.min,max:i.max,step:(y=i.step)!=null?y:void 0,disabled:g,...L,style:{...$r,direction:I?"rtl":"ltr",width:"100%",height:"100%"}}},getRootProps:He,getThumbProps:(p={})=>{const y={onMouseOver:Ee(p||{}),onMouseLeave:Ve(p||{})};return{...p,...y}},marks:ye,open:m,range:ie,rootRef:$e,trackLeap:J,trackOffset:Q,values:W}}async function Dn(i,s){for(let u=0;u<i.length;u+=1)await s(i[u],u,i)}const Yr={player:0,hand:0},$n=br({key:"turnAtom",default:JSON.parse(localStorage.getItem("turn-atom")||"null")||Yr,effects:[({onSet:i})=>{i(s=>{localStorage.setItem("turn-atom",JSON.stringify(s))})}]}),Ur=i=>!i||!It(i),Wr=Ur;function Jr(i){return _r("MuiSlider",i)}const Kr=yr("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),xe=Kr,Gr=i=>{const{open:s}=i;return{offset:We(s&&xe.valueLabelOpen),circle:xe.valueLabelCircle,label:xe.valueLabelLabel}};function Qr(i){const{children:s,className:u,value:g}=i,x=Gr(i);return s?K.cloneElement(s,{className:We(s.props.className)},C.jsxs(K.Fragment,{children:[s.props.children,C.jsx("span",{className:We(x.offset,u),"aria-hidden":!0,children:C.jsx("span",{className:x.circle,children:C.jsx("span",{className:x.label,children:g})})})]})):null}function rr(i){return i}const Xr=Fe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:u}=i;return[s.root,s[`color${De(u.color)}`],u.size!=="medium"&&s[`size${De(u.size)}`],u.marked&&s.marked,u.orientation==="vertical"&&s.vertical,u.track==="inverted"&&s.trackInverted,u.track===!1&&s.trackFalse]}})(({theme:i,ownerState:s})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(i.vars||i).palette[s.color].main,WebkitTapHighlightColor:"transparent",...s.orientation==="horizontal"&&{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"},...s.size==="small"&&{height:2},...s.marked&&{marginBottom:20}},...s.orientation==="vertical"&&{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"},...s.size==="small"&&{width:2},...s.marked&&{marginRight:44}},"@media print":{colorAdjust:"exact"},[`&.${xe.disabled}`]:{pointerEvents:"none",cursor:"default",color:(i.vars||i).palette.grey[400]},[`&.${xe.dragging}`]:{[`& .${xe.thumb}, & .${xe.track}`]:{transition:"none"}}})),Zr=Fe("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(i,s)=>s.rail})(({ownerState:i})=>({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,...i.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},...i.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},...i.track==="inverted"&&{opacity:1}})),qr=Fe("span",{name:"MuiSlider",slot:"Track",overridesResolver:(i,s)=>s.track})(({theme:i,ownerState:s})=>{const u=i.palette.mode==="light"?wr(i.palette[s.color].main,.62):xr(i.palette[s.color].main,.5);return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:i.transitions.create(["left","width","bottom","height"],{duration:i.transitions.duration.shortest}),...s.size==="small"&&{border:"none"},...s.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},...s.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},...s.track===!1&&{display:"none"},...s.track==="inverted"&&{backgroundColor:i.vars?i.vars.palette.Slider[`${s.color}Track`]:u,borderColor:i.vars?i.vars.palette.Slider[`${s.color}Track`]:u}}}),en=Fe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(i,s)=>{const{ownerState:u}=i;return[s.thumb,s[`thumbColor${De(u.color)}`],u.size!=="medium"&&s[`thumbSize${De(u.size)}`]]}})(({theme:i,ownerState:s})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:i.transitions.create(["box-shadow","left","bottom"],{duration:i.transitions.duration.shortest}),...s.size==="small"&&{width:12,height:12},...s.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},...s.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},"&:before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(i.vars||i).shadows[2],...s.size==="small"&&{boxShadow:"none"}},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${xe.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${i.vars?`rgba(${i.vars.palette[s.color].mainChannel} / 0.16)`:Xt(i.palette[s.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${xe.active}`]:{boxShadow:`0px 0px 0px 14px ${i.vars?`rgba(${i.vars.palette[s.color].mainChannel} / 0.16)`:Xt(i.palette[s.color].main,.16)}`},[`&.${xe.disabled}`]:{"&:hover":{boxShadow:"none"}}})),tn=Fe(Qr,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(i,s)=>s.valueLabel})(({theme:i,ownerState:s})=>({[`&.${xe.valueLabelOpen}`]:{transform:`${s.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap",...i.typography.body2,fontWeight:500,transition:i.transitions.create(["transform"],{duration:i.transitions.duration.shortest}),transform:`${s.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(i.vars||i).palette.grey[600],borderRadius:2,color:(i.vars||i).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",...s.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},...s.orientation==="vertical"&&{right:s.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"50%"}},...s.size==="small"&&{fontSize:i.typography.pxToRem(12),padding:"0.25rem 0.5rem"}})),rn=Fe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:i=>ar(i)&&i!=="markActive",overridesResolver:(i,s)=>{const{markActive:u}=i;return[s.mark,u&&s.markActive]}})(({theme:i,ownerState:s,markActive:u})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",...s.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},...s.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},...u&&{backgroundColor:(i.vars||i).palette.background.paper,opacity:.8}})),nn=Fe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:i=>ar(i)&&i!=="markLabelActive",overridesResolver:(i,s)=>s.markLabel})(({theme:i,ownerState:s,markLabelActive:u})=>({...i.typography.body2,color:(i.vars||i).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",...s.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},...s.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},...u&&{color:(i.vars||i).palette.text.primary}})),on=i=>{const{disabled:s,dragging:u,marked:g,orientation:x,track:I,classes:_,color:b,size:E}=i,T={root:["root",s&&"disabled",u&&"dragging",g&&"marked",x==="vertical"&&"vertical",I==="inverted"&&"trackInverted",I===!1&&"trackFalse",b&&`color${De(b)}`,E&&`size${De(E)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",s&&"disabled",E&&`thumbSize${De(E)}`,b&&`thumbColor${De(b)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Er(T,Jr,_)},an=({children:i})=>i,sn=K.forwardRef(function(s,u){var g,x,I,_,b,E,T,V,v,S,D,O,Y,F,ee,$,fe,ae,m,A,R,P,H,U;const te=Sr({props:s,name:"MuiSlider"}),ie=Nr().direction==="rtl",{"aria-label":W,"aria-valuetext":ye,"aria-labelledby":he,component:_e="span",components:pe={},componentsProps:ge={},color:Je="primary",classes:ve,className:Te,disableSwap:le=!1,disabled:ze=!1,getAriaLabel:$e,getAriaValueText:je,marks:Ke=!1,max:Ce=100,min:Re=0,name:Be,onChange:Oe,onChangeCommitted:Ae,orientation:Se="horizontal",size:Me="medium",step:ue=1,scale:Ne=rr,slotProps:Q,slots:J,tabIndex:He,track:Ee="normal",value:Ve,valueLabelDisplay:Le="off",valueLabelFormat:ke=rr,...p}=te,y={...te,isRtl:ie,max:Ce,min:Re,classes:ve,disabled:ze,disableSwap:le,orientation:Se,marks:Ke,color:Je,size:Me,step:ue,scale:Ne,track:Ee,valueLabelDisplay:Le,valueLabelFormat:ke},{axisProps:k,getRootProps:L,getHiddenInputProps:ne,getThumbProps:ce,open:z,active:se,axis:j,focusedThumbIndex:me,range:Ie,dragging:kt,marks:Ge,values:de,trackOffset:ft,trackLeap:Ct}=Vr({...y,rootRef:u});y.marked=Ge.length>0&&Ge.some(Z=>Z.label),y.dragging=kt,y.focusedThumbIndex=me;const X=on(y),Qe=(g=(x=J==null?void 0:J.root)!=null?x:pe.Root)!=null?g:Xr,dt=(I=(_=J==null?void 0:J.rail)!=null?_:pe.Rail)!=null?I:Zr,Xe=(b=(E=J==null?void 0:J.track)!=null?E:pe.Track)!=null?b:qr,ht=(T=(V=J==null?void 0:J.thumb)!=null?V:pe.Thumb)!=null?T:en,vt=(v=(S=J==null?void 0:J.valueLabel)!=null?S:pe.ValueLabel)!=null?v:tn,Ze=(D=(O=J==null?void 0:J.mark)!=null?O:pe.Mark)!=null?D:rn,qe=(Y=(F=J==null?void 0:J.markLabel)!=null?F:pe.MarkLabel)!=null?Y:nn,mt=(ee=($=J==null?void 0:J.input)!=null?$:pe.Input)!=null?ee:"input",et=(fe=Q==null?void 0:Q.root)!=null?fe:ge.root,At=(ae=Q==null?void 0:Q.rail)!=null?ae:ge.rail,tt=(m=Q==null?void 0:Q.track)!=null?m:ge.track,rt=(A=Q==null?void 0:Q.thumb)!=null?A:ge.thumb,nt=(R=Q==null?void 0:Q.valueLabel)!=null?R:ge.valueLabel,pt=(P=Q==null?void 0:Q.mark)!=null?P:ge.mark,Nt=(H=Q==null?void 0:Q.markLabel)!=null?H:ge.markLabel,Lt=(U=Q==null?void 0:Q.input)!=null?U:ge.input,Pt=Pe({elementType:Qe,getSlotProps:L,externalSlotProps:et,externalForwardedProps:p,additionalProps:{...Wr(Qe)&&{as:_e}},ownerState:{...y,...et==null?void 0:et.ownerState},className:[X.root,Te]}),Dt=Pe({elementType:dt,externalSlotProps:At,ownerState:y,className:X.rail}),$t=Pe({elementType:Xe,externalSlotProps:tt,additionalProps:{style:{...k[j].offset(ft),...k[j].leap(Ct)}},ownerState:{...y,...tt==null?void 0:tt.ownerState},className:X.track}),ot=Pe({elementType:ht,getSlotProps:ce,externalSlotProps:rt,ownerState:{...y,...rt==null?void 0:rt.ownerState},className:X.thumb}),Bt=Pe({elementType:vt,externalSlotProps:nt,ownerState:{...y,...nt==null?void 0:nt.ownerState},className:X.valueLabel}),at=Pe({elementType:Ze,externalSlotProps:pt,ownerState:y,className:X.mark}),it=Pe({elementType:qe,externalSlotProps:Nt,ownerState:y,className:X.markLabel}),Ot=Pe({elementType:mt,getSlotProps:ne,externalSlotProps:Lt,ownerState:y});return C.jsxs(Qe,{...Pt,children:[C.jsx(dt,{...Dt}),C.jsx(Xe,{...$t}),Ge.filter(Z=>Z.value>=Re&&Z.value<=Ce).map((Z,oe)=>{const st=Rt(Z.value,Re,Ce),Ye=k[j].offset(st);let we;return Ee===!1?we=de.indexOf(Z.value)!==-1:we=Ee==="normal"&&(Ie?Z.value>=de[0]&&Z.value<=de[de.length-1]:Z.value<=de[0])||Ee==="inverted"&&(Ie?Z.value<=de[0]||Z.value>=de[de.length-1]:Z.value>=de[0]),C.jsxs(K.Fragment,{children:[C.jsx(Ze,{"data-index":oe,...at,...!It(Ze)&&{markActive:we},style:{...Ye,...at.style},className:We(at.className,we&&X.markActive)}),Z.label!=null?C.jsx(qe,{"aria-hidden":!0,"data-index":oe,...it,...!It(qe)&&{markLabelActive:we},style:{...Ye,...it.style},className:We(X.markLabel,it.className,we&&X.markLabelActive),children:Z.label}):null]},oe)}),de.map((Z,oe)=>{const st=Rt(Z,Re,Ce),Ye=k[j].offset(st),we=Le==="off"?an:vt;return C.jsx(we,{...!It(we)&&{valueLabelFormat:ke,valueLabelDisplay:Le,value:typeof ke=="function"?ke(Ne(Z),oe):ke,index:oe,open:z===oe||se===oe||Le==="on",disabled:ze},...Bt,children:C.jsx(ht,{"data-index":oe,...ot,className:We(X.thumb,ot.className,se===oe&&X.active,me===oe&&X.focusVisible),style:{...Ye,pointerEvents:le&&se!==oe?"none":void 0,...ot.style},children:C.jsx(mt,{"data-index":oe,"aria-label":$e?$e(oe):W,"aria-valuenow":Ne(Z),"aria-labelledby":he,"aria-valuetext":je?je(Ne(Z),oe):ye,value:de[oe],...Ot})})},oe)})]})}),ln=sn,un={backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cn={textAlign:"left"},fn={margin:"auto",marginTop:5,textAlign:"center",width:"100%"},Yt={cardFace:un,cardTitle:cn,suit:fn},dn=K.memo(i=>{const{dropped:s,suit:u,name:g,cardHandler:x,playerNo:I,handNo:_,cardNo:b}=i,E=K.useCallback(()=>{x&&x(I,_,b)},[x,b,_,I]),T={color:u==="♣"||u==="♠"?"black":Wt[500],backgroundColor:s?Wt[100]:"white"};return C.jsxs("div",{style:{...Yt.cardFace,...T},onClick:E,role:"main",children:[C.jsx("div",{style:Yt.cardTitle,children:g+u}),C.jsx(Tt,{variant:"h4",style:{...Yt.suit,...T},children:u})]})}),hn={fontWeight:"bold",marginTop:"0.5em"},vn={fontWeight:"normal",marginTop:"0.5em"},mn=i=>{const{cardHandler:s,cardsToDiscard:u,hand:g,handNo:x,isBlackJack:I,isHandTurn:_,isMultiHand:b,isPlayerTurn:E,playerNo:T}=i,V=K.useMemo(()=>E&&(!b||b&&_)?{...hn,color:Ir[700]}:vn,[E,b,_]),v=g.weight||0;return C.jsxs(C.Fragment,{children:[C.jsx(Tt,{variant:"h4",style:V,children:I&&`${v>21?"Bust":"Hand"}: ${v}`}),g.cards.map((S,D)=>{const O=u.includes(D);return S?C.jsx(dn,{cardHandler:s,cardNo:D,dropped:O,handNo:x,name:S.name,playerNo:T,suit:S.suit},S.name+S.suit):null})]})},pn={borderRadius:5,display:"inline-block",margin:10,padding:20},gn={minWidth:"100px"},nr={player:pn,width:gn},bn=i=>{const{betHandler:s,cardHandler:u,cardsToDiscard:g,hideHands:x,isBlackJack:I,player:_,playerNo:b,turn:E}=i,T=!!E&&b===E.player,V=_.hands.length>1,v=!!x&&I&&_.id!==0&&!_.isBot,S=Math.max(Math.min(_.money,5),0),D=Math.max(Math.min(_.money,100),10),O=5,Y=K.useCallback(($,fe)=>{s&&s(_.id,$,fe)},[s,_.id]),F={fontWeight:T?"bold":"normal"};let ee={background:Zt[900],color:"white"};return _.status==="win"?ee={background:Tr[300],color:"white"}:_.status==="draw"?ee={background:Pr[300],color:"white"}:_.status==="lose"?ee={background:Wt[300],color:"white"}:T&&(ee={background:Zt[300],color:"black"}),C.jsxs(Dr,{style:{...nr.player,...ee},children:[C.jsx(Tt,{variant:"h4",component:"h2",style:{...F},children:`${_.name}: $${_.money}`}),v&&C.jsx(ln,{max:D,min:S,onChange:Y,step:O,style:nr.width,value:_.bet,"aria-label":`adjust bet for ${_.name}`}),I&&_.id!==0&&C.jsx(Tt,{variant:"h5",component:"h3",children:`Bet: $${_.bet}`}),_.hands.map(($,fe)=>{const ae=!!E&&E.hand===fe;return C.jsx("div",{children:!x&&C.jsx(mn,{cardHandler:u,cardsToDiscard:g,hand:$,handNo:fe,isBlackJack:I,isHandTurn:ae,isMultiHand:V,isPlayerTurn:T,playerNo:b})},`hand${fe}`)})]})},Ut=i=>{const{betHandler:s,cardHandler:u,cardsToDiscard:g,hideHands:x,isBlackJack:I,players:_,turn:b}=i;return C.jsx(C.Fragment,{children:_.map((E,T)=>C.jsx(bn,{betHandler:s,cardHandler:u,cardsToDiscard:g,hideHands:x,isBlackJack:I,player:E,playerNo:T,turn:b},`player${T}`))})},yn=K.memo(({onClick:i,name:s})=>C.jsx(Lr,{onClick:()=>i(s),style:{margin:12},variant:"contained",children:s})),or=({gameFunctions:i,onClick:s})=>C.jsx("div",{children:i.map(u=>C.jsx(yn,{onClick:s,name:u},u))}),Bn=i=>{const{betHandler:s,cardClickHandler:u,cardsToDiscard:g=[],gameFunctions:x=[],gameOver:I=!1,hideHands:_=!1,isBlackJack:b=!0,players:E,turn:T,onClick:V}=i,v=K.useMemo(()=>E.slice(0,T.player+1),[E,T.player]),S=K.useMemo(()=>E.slice(T.player+1),[E,T.player]),D=K.useMemo(()=>!_&&I===!1?E.slice(T.player,T.player+1):E,[_,I,E,T.player]);return b&&!_?C.jsxs(C.Fragment,{children:[C.jsx(Ut,{players:v,betHandler:s,cardHandler:u,cardsToDiscard:g,hideHands:_,isBlackJack:b,turn:T}),C.jsx(or,{gameFunctions:x,onClick:V}),C.jsx(Ut,{players:S,betHandler:s,cardHandler:u,cardsToDiscard:g,hideHands:_,isBlackJack:b,turn:{player:-1,hand:-1}})]}):C.jsxs(C.Fragment,{children:[C.jsx(Ut,{players:D,betHandler:s,cardHandler:u,cardsToDiscard:g,hideHands:_,isBlackJack:b,turn:T}),C.jsx(or,{gameFunctions:x,onClick:V})]})};var sr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(i,s){(function(u){i.exports=u()})(function(){return function u(g,x,I){function _(T,V){if(!x[T]){if(!g[T]){var v=typeof yt=="function"&&yt;if(!V&&v)return v(T,!0);if(b)return b(T,!0);var S=new Error("Cannot find module '"+T+"'");throw S.code="MODULE_NOT_FOUND",S}var D=x[T]={exports:{}};g[T][0].call(D.exports,function(O){var Y=g[T][1][O];return _(Y||O)},D,D.exports,u,g,x,I)}return x[T].exports}for(var b=typeof yt=="function"&&yt,E=0;E<I.length;E++)_(I[E]);return _}({1:[function(u,g,x){(function(I){var _=I.MutationObserver||I.WebKitMutationObserver,b;if(_){var E=0,T=new _(O),V=I.document.createTextNode("");T.observe(V,{characterData:!0}),b=function(){V.data=E=++E%2}}else if(!I.setImmediate&&typeof I.MessageChannel<"u"){var v=new I.MessageChannel;v.port1.onmessage=O,b=function(){v.port2.postMessage(0)}}else"document"in I&&"onreadystatechange"in I.document.createElement("script")?b=function(){var F=I.document.createElement("script");F.onreadystatechange=function(){O(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},I.document.documentElement.appendChild(F)}:b=function(){setTimeout(O,0)};var S,D=[];function O(){S=!0;for(var F,ee,$=D.length;$;){for(ee=D,D=[],F=-1;++F<$;)ee[F]();$=D.length}S=!1}g.exports=Y;function Y(F){D.push(F)===1&&!S&&b()}}).call(this,typeof bt<"u"?bt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(u,g,x){var I=u(1);function _(){}var b={},E=["REJECTED"],T=["FULFILLED"],V=["PENDING"];g.exports=v;function v(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=V,this.queue=[],this.outcome=void 0,m!==_&&Y(this,m)}v.prototype.catch=function(m){return this.then(null,m)},v.prototype.then=function(m,A){if(typeof m!="function"&&this.state===T||typeof A!="function"&&this.state===E)return this;var R=new this.constructor(_);if(this.state!==V){var P=this.state===T?m:A;D(R,P,this.outcome)}else this.queue.push(new S(R,m,A));return R};function S(m,A,R){this.promise=m,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}S.prototype.callFulfilled=function(m){b.resolve(this.promise,m)},S.prototype.otherCallFulfilled=function(m){D(this.promise,this.onFulfilled,m)},S.prototype.callRejected=function(m){b.reject(this.promise,m)},S.prototype.otherCallRejected=function(m){D(this.promise,this.onRejected,m)};function D(m,A,R){I(function(){var P;try{P=A(R)}catch(H){return b.reject(m,H)}P===m?b.reject(m,new TypeError("Cannot resolve promise with itself")):b.resolve(m,P)})}b.resolve=function(m,A){var R=F(O,A);if(R.status==="error")return b.reject(m,R.value);var P=R.value;if(P)Y(m,P);else{m.state=T,m.outcome=A;for(var H=-1,U=m.queue.length;++H<U;)m.queue[H].callFulfilled(A)}return m},b.reject=function(m,A){m.state=E,m.outcome=A;for(var R=-1,P=m.queue.length;++R<P;)m.queue[R].callRejected(A);return m};function O(m){var A=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof A=="function")return function(){A.apply(m,arguments)}}function Y(m,A){var R=!1;function P(G){R||(R=!0,b.reject(m,G))}function H(G){R||(R=!0,b.resolve(m,G))}function U(){A(H,P)}var te=F(U);te.status==="error"&&P(te.value)}function F(m,A){var R={};try{R.value=m(A),R.status="success"}catch(P){R.status="error",R.value=P}return R}v.resolve=ee;function ee(m){return m instanceof this?m:b.resolve(new this(_),m)}v.reject=$;function $(m){var A=new this(_);return b.reject(A,m)}v.all=fe;function fe(m){var A=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=m.length,P=!1;if(!R)return this.resolve([]);for(var H=new Array(R),U=0,te=-1,G=new this(_);++te<R;)ie(m[te],te);return G;function ie(W,ye){A.resolve(W).then(he,function(_e){P||(P=!0,b.reject(G,_e))});function he(_e){H[ye]=_e,++U===R&&!P&&(P=!0,b.resolve(G,H))}}}v.race=ae;function ae(m){var A=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=m.length,P=!1;if(!R)return this.resolve([]);for(var H=-1,U=new this(_);++H<R;)te(m[H]);return U;function te(G){A.resolve(G).then(function(ie){P||(P=!0,b.resolve(U,ie))},function(ie){P||(P=!0,b.reject(U,ie))})}}},{1:1}],3:[function(u,g,x){(function(I){typeof I.Promise!="function"&&(I.Promise=u(2))}).call(this,typeof bt<"u"?bt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(u,g,x){var I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function b(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var E=b();function T(){try{if(!E||!E.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),r=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||r)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function V(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(n){if(n.name!=="TypeError")throw n;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,o=new t,a=0;a<e.length;a+=1)o.append(e[a]);return o.getBlob(r.type)}}typeof Promise>"u"&&u(3);var v=Promise;function S(e,r){r&&e.then(function(t){r(null,t)},function(t){r(t)})}function D(e,r,t){typeof r=="function"&&e.then(r),typeof t=="function"&&e.catch(t)}function O(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function Y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var F="local-forage-detect-blob-support",ee=void 0,$={},fe=Object.prototype.toString,ae="readonly",m="readwrite";function A(e){for(var r=e.length,t=new ArrayBuffer(r),o=new Uint8Array(t),a=0;a<r;a++)o[a]=e.charCodeAt(a);return t}function R(e){return new v(function(r){var t=e.transaction(F,m),o=V([""]);t.objectStore(F).put(o,"key"),t.onabort=function(a){a.preventDefault(),a.stopPropagation(),r(!1)},t.oncomplete=function(){var a=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);r(n||!a||parseInt(a[1],10)>=43)}}).catch(function(){return!1})}function P(e){return typeof ee=="boolean"?v.resolve(ee):R(e).then(function(r){return ee=r,ee})}function H(e){var r=$[e.name],t={};t.promise=new v(function(o,a){t.resolve=o,t.reject=a}),r.deferredOperations.push(t),r.dbReady?r.dbReady=r.dbReady.then(function(){return t.promise}):r.dbReady=t.promise}function U(e){var r=$[e.name],t=r.deferredOperations.pop();if(t)return t.resolve(),t.promise}function te(e,r){var t=$[e.name],o=t.deferredOperations.pop();if(o)return o.reject(r),o.promise}function G(e,r){return new v(function(t,o){if($[e.name]=$[e.name]||Te(),e.db)if(r)H(e),e.db.close();else return t(e.db);var a=[e.name];r&&a.push(e.version);var n=E.open.apply(E,a);r&&(n.onupgradeneeded=function(l){var c=n.result;try{c.createObjectStore(e.storeName),l.oldVersion<=1&&c.createObjectStore(F)}catch(f){if(f.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+l.oldVersion+" to version "+l.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw f}}),n.onerror=function(l){l.preventDefault(),o(n.error)},n.onsuccess=function(){var l=n.result;l.onversionchange=function(c){c.target.close()},t(l),U(e)}})}function ie(e){return G(e,!1)}function W(e){return G(e,!0)}function ye(e,r){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,a=e.version>e.db.version;if(o&&(e.version!==r&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),a||t){if(t){var n=e.db.version+1;n>e.version&&(e.version=n)}return!0}return!1}function he(e){return new v(function(r,t){var o=new FileReader;o.onerror=t,o.onloadend=function(a){var n=btoa(a.target.result||"");r({__local_forage_encoded_blob:!0,data:n,type:e.type})},o.readAsBinaryString(e)})}function _e(e){var r=A(atob(e.data));return V([r],{type:e.type})}function pe(e){return e&&e.__local_forage_encoded_blob}function ge(e){var r=this,t=r._initReady().then(function(){var o=$[r._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return D(t,e,e),t}function Je(e){H(e);for(var r=$[e.name],t=r.forages,o=0;o<t.length;o++){var a=t[o];a._dbInfo.db&&(a._dbInfo.db.close(),a._dbInfo.db=null)}return e.db=null,ie(e).then(function(n){return e.db=n,ye(e)?W(e):n}).then(function(n){e.db=r.db=n;for(var l=0;l<t.length;l++)t[l]._dbInfo.db=n}).catch(function(n){throw te(e,n),n})}function ve(e,r,t,o){o===void 0&&(o=1);try{var a=e.db.transaction(e.storeName,r);t(null,a)}catch(n){if(o>0&&(!e.db||n.name==="InvalidStateError"||n.name==="NotFoundError"))return v.resolve().then(function(){if(!e.db||n.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),W(e)}).then(function(){return Je(e).then(function(){ve(e,r,t,o-1)})}).catch(t);t(n)}}function Te(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function le(e){var r=this,t={db:null};if(e)for(var o in e)t[o]=e[o];var a=$[t.name];a||(a=Te(),$[t.name]=a),a.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=ge);var n=[];function l(){return v.resolve()}for(var c=0;c<a.forages.length;c++){var f=a.forages[c];f!==r&&n.push(f._initReady().catch(l))}var d=a.forages.slice(0);return v.all(n).then(function(){return t.db=a.db,ie(t)}).then(function(h){return t.db=h,ye(t,r._defaultConfig.version)?W(t):h}).then(function(h){t.db=a.db=h,r._dbInfo=t;for(var w=0;w<d.length;w++){var N=d[w];N!==r&&(N._dbInfo.db=t.db,N._dbInfo.version=t.version)}})}function ze(e,r){var t=this;e=O(e);var o=new v(function(a,n){t.ready().then(function(){ve(t._dbInfo,ae,function(l,c){if(l)return n(l);try{var f=c.objectStore(t._dbInfo.storeName),d=f.get(e);d.onsuccess=function(){var h=d.result;h===void 0&&(h=null),pe(h)&&(h=_e(h)),a(h)},d.onerror=function(){n(d.error)}}catch(h){n(h)}})}).catch(n)});return S(o,r),o}function $e(e,r){var t=this,o=new v(function(a,n){t.ready().then(function(){ve(t._dbInfo,ae,function(l,c){if(l)return n(l);try{var f=c.objectStore(t._dbInfo.storeName),d=f.openCursor(),h=1;d.onsuccess=function(){var w=d.result;if(w){var N=w.value;pe(N)&&(N=_e(N));var B=e(N,w.key,h++);B!==void 0?a(B):w.continue()}else a()},d.onerror=function(){n(d.error)}}catch(w){n(w)}})}).catch(n)});return S(o,r),o}function je(e,r,t){var o=this;e=O(e);var a=new v(function(n,l){var c;o.ready().then(function(){return c=o._dbInfo,fe.call(r)==="[object Blob]"?P(c.db).then(function(f){return f?r:he(r)}):r}).then(function(f){ve(o._dbInfo,m,function(d,h){if(d)return l(d);try{var w=h.objectStore(o._dbInfo.storeName);f===null&&(f=void 0);var N=w.put(f,e);h.oncomplete=function(){f===void 0&&(f=null),n(f)},h.onabort=h.onerror=function(){var B=N.error?N.error:N.transaction.error;l(B)}}catch(B){l(B)}})}).catch(l)});return S(a,t),a}function Ke(e,r){var t=this;e=O(e);var o=new v(function(a,n){t.ready().then(function(){ve(t._dbInfo,m,function(l,c){if(l)return n(l);try{var f=c.objectStore(t._dbInfo.storeName),d=f.delete(e);c.oncomplete=function(){a()},c.onerror=function(){n(d.error)},c.onabort=function(){var h=d.error?d.error:d.transaction.error;n(h)}}catch(h){n(h)}})}).catch(n)});return S(o,r),o}function Ce(e){var r=this,t=new v(function(o,a){r.ready().then(function(){ve(r._dbInfo,m,function(n,l){if(n)return a(n);try{var c=l.objectStore(r._dbInfo.storeName),f=c.clear();l.oncomplete=function(){o()},l.onabort=l.onerror=function(){var d=f.error?f.error:f.transaction.error;a(d)}}catch(d){a(d)}})}).catch(a)});return S(t,e),t}function Re(e){var r=this,t=new v(function(o,a){r.ready().then(function(){ve(r._dbInfo,ae,function(n,l){if(n)return a(n);try{var c=l.objectStore(r._dbInfo.storeName),f=c.count();f.onsuccess=function(){o(f.result)},f.onerror=function(){a(f.error)}}catch(d){a(d)}})}).catch(a)});return S(t,e),t}function Be(e,r){var t=this,o=new v(function(a,n){if(e<0){a(null);return}t.ready().then(function(){ve(t._dbInfo,ae,function(l,c){if(l)return n(l);try{var f=c.objectStore(t._dbInfo.storeName),d=!1,h=f.openKeyCursor();h.onsuccess=function(){var w=h.result;if(!w){a(null);return}e===0||d?a(w.key):(d=!0,w.advance(e))},h.onerror=function(){n(h.error)}}catch(w){n(w)}})}).catch(n)});return S(o,r),o}function Oe(e){var r=this,t=new v(function(o,a){r.ready().then(function(){ve(r._dbInfo,ae,function(n,l){if(n)return a(n);try{var c=l.objectStore(r._dbInfo.storeName),f=c.openKeyCursor(),d=[];f.onsuccess=function(){var h=f.result;if(!h){o(d);return}d.push(h.key),h.continue()},f.onerror=function(){a(f.error)}}catch(h){a(h)}})}).catch(a)});return S(t,e),t}function Ae(e,r){r=Y.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,a;if(!e.name)a=v.reject("Invalid arguments");else{var n=e.name===t.name&&o._dbInfo.db,l=n?v.resolve(o._dbInfo.db):ie(e).then(function(c){var f=$[e.name],d=f.forages;f.db=c;for(var h=0;h<d.length;h++)d[h]._dbInfo.db=c;return c});e.storeName?a=l.then(function(c){if(c.objectStoreNames.contains(e.storeName)){var f=c.version+1;H(e);var d=$[e.name],h=d.forages;c.close();for(var w=0;w<h.length;w++){var N=h[w];N._dbInfo.db=null,N._dbInfo.version=f}var B=new v(function(M,re){var q=E.open(e.name,f);q.onerror=function(be){var ut=q.result;ut.close(),re(be)},q.onupgradeneeded=function(){var be=q.result;be.deleteObjectStore(e.storeName)},q.onsuccess=function(){var be=q.result;be.close(),M(be)}});return B.then(function(M){d.db=M;for(var re=0;re<h.length;re++){var q=h[re];q._dbInfo.db=M,U(q._dbInfo)}}).catch(function(M){throw(te(e,M)||v.resolve()).catch(function(){}),M})}}):a=l.then(function(c){H(e);var f=$[e.name],d=f.forages;c.close();for(var h=0;h<d.length;h++){var w=d[h];w._dbInfo.db=null}var N=new v(function(B,M){var re=E.deleteDatabase(e.name);re.onerror=function(){var q=re.result;q&&q.close(),M(re.error)},re.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},re.onsuccess=function(){var q=re.result;q&&q.close(),B(q)}});return N.then(function(B){f.db=B;for(var M=0;M<d.length;M++){var re=d[M];U(re._dbInfo)}}).catch(function(B){throw(te(e,B)||v.resolve()).catch(function(){}),B})})}return S(a,r),a}var Se={_driver:"asyncStorage",_initStorage:le,_support:T(),iterate:$e,getItem:ze,setItem:je,removeItem:Ke,clear:Ce,length:Re,key:Be,keys:Oe,dropInstance:Ae};function Me(){return typeof openDatabase=="function"}var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ne="~~local_forage_type~",Q=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",He=J.length,Ee="arbf",Ve="blob",Le="si08",ke="ui08",p="uic8",y="si16",k="si32",L="ur16",ne="ui32",ce="fl32",z="fl64",se=He+Ee.length,j=Object.prototype.toString;function me(e){var r=e.length*.75,t=e.length,o,a=0,n,l,c,f;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);var d=new ArrayBuffer(r),h=new Uint8Array(d);for(o=0;o<t;o+=4)n=ue.indexOf(e[o]),l=ue.indexOf(e[o+1]),c=ue.indexOf(e[o+2]),f=ue.indexOf(e[o+3]),h[a++]=n<<2|l>>4,h[a++]=(l&15)<<4|c>>2,h[a++]=(c&3)<<6|f&63;return d}function Ie(e){var r=new Uint8Array(e),t="",o;for(o=0;o<r.length;o+=3)t+=ue[r[o]>>2],t+=ue[(r[o]&3)<<4|r[o+1]>>4],t+=ue[(r[o+1]&15)<<2|r[o+2]>>6],t+=ue[r[o+2]&63];return r.length%3===2?t=t.substring(0,t.length-1)+"=":r.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function kt(e,r){var t="";if(e&&(t=j.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&j.call(e.buffer)==="[object ArrayBuffer]")){var o,a=J;e instanceof ArrayBuffer?(o=e,a+=Ee):(o=e.buffer,t==="[object Int8Array]"?a+=Le:t==="[object Uint8Array]"?a+=ke:t==="[object Uint8ClampedArray]"?a+=p:t==="[object Int16Array]"?a+=y:t==="[object Uint16Array]"?a+=L:t==="[object Int32Array]"?a+=k:t==="[object Uint32Array]"?a+=ne:t==="[object Float32Array]"?a+=ce:t==="[object Float64Array]"?a+=z:r(new Error("Failed to get type for BinaryArray"))),r(a+Ie(o))}else if(t==="[object Blob]"){var n=new FileReader;n.onload=function(){var l=Ne+e.type+"~"+Ie(this.result);r(J+Ve+l)},n.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(l){console.error("Couldn't convert value into a JSON string: ",e),r(null,l)}}function Ge(e){if(e.substring(0,He)!==J)return JSON.parse(e);var r=e.substring(se),t=e.substring(He,se),o;if(t===Ve&&Q.test(r)){var a=r.match(Q);o=a[1],r=r.substring(a[0].length)}var n=me(r);switch(t){case Ee:return n;case Ve:return V([n],{type:o});case Le:return new Int8Array(n);case ke:return new Uint8Array(n);case p:return new Uint8ClampedArray(n);case y:return new Int16Array(n);case L:return new Uint16Array(n);case k:return new Int32Array(n);case ne:return new Uint32Array(n);case ce:return new Float32Array(n);case z:return new Float64Array(n);default:throw new Error("Unkown type: "+t)}}var de={serialize:kt,deserialize:Ge,stringToBuffer:me,bufferToString:Ie};function ft(e,r,t,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,o)}function Ct(e){var r=this,t={db:null};if(e)for(var o in e)t[o]=typeof e[o]!="string"?e[o].toString():e[o];var a=new v(function(n,l){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(c){return l(c)}t.db.transaction(function(c){ft(c,t,function(){r._dbInfo=t,n()},function(f,d){l(d)})},l)});return t.serializer=de,a}function X(e,r,t,o,a,n){e.executeSql(t,o,a,function(l,c){c.code===c.SYNTAX_ERR?l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(f,d){d.rows.length?n(f,c):ft(f,r,function(){f.executeSql(t,o,a,n)},n)},n):n(l,c)},n)}function Qe(e,r){var t=this;e=O(e);var o=new v(function(a,n){t.ready().then(function(){var l=t._dbInfo;l.db.transaction(function(c){X(c,l,"SELECT * FROM "+l.storeName+" WHERE key = ? LIMIT 1",[e],function(f,d){var h=d.rows.length?d.rows.item(0).value:null;h&&(h=l.serializer.deserialize(h)),a(h)},function(f,d){n(d)})})}).catch(n)});return S(o,r),o}function dt(e,r){var t=this,o=new v(function(a,n){t.ready().then(function(){var l=t._dbInfo;l.db.transaction(function(c){X(c,l,"SELECT * FROM "+l.storeName,[],function(f,d){for(var h=d.rows,w=h.length,N=0;N<w;N++){var B=h.item(N),M=B.value;if(M&&(M=l.serializer.deserialize(M)),M=e(M,B.key,N+1),M!==void 0){a(M);return}}a()},function(f,d){n(d)})})}).catch(n)});return S(o,r),o}function Xe(e,r,t,o){var a=this;e=O(e);var n=new v(function(l,c){a.ready().then(function(){r===void 0&&(r=null);var f=r,d=a._dbInfo;d.serializer.serialize(r,function(h,w){w?c(w):d.db.transaction(function(N){X(N,d,"INSERT OR REPLACE INTO "+d.storeName+" (key, value) VALUES (?, ?)",[e,h],function(){l(f)},function(B,M){c(M)})},function(N){if(N.code===N.QUOTA_ERR){if(o>0){l(Xe.apply(a,[e,f,t,o-1]));return}c(N)}})})}).catch(c)});return S(n,t),n}function ht(e,r,t){return Xe.apply(this,[e,r,t,1])}function vt(e,r){var t=this;e=O(e);var o=new v(function(a,n){t.ready().then(function(){var l=t._dbInfo;l.db.transaction(function(c){X(c,l,"DELETE FROM "+l.storeName+" WHERE key = ?",[e],function(){a()},function(f,d){n(d)})})}).catch(n)});return S(o,r),o}function Ze(e){var r=this,t=new v(function(o,a){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(l){X(l,n,"DELETE FROM "+n.storeName,[],function(){o()},function(c,f){a(f)})})}).catch(a)});return S(t,e),t}function qe(e){var r=this,t=new v(function(o,a){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(l){X(l,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(c,f){var d=f.rows.item(0).c;o(d)},function(c,f){a(f)})})}).catch(a)});return S(t,e),t}function mt(e,r){var t=this,o=new v(function(a,n){t.ready().then(function(){var l=t._dbInfo;l.db.transaction(function(c){X(c,l,"SELECT key FROM "+l.storeName+" WHERE id = ? LIMIT 1",[e+1],function(f,d){var h=d.rows.length?d.rows.item(0).key:null;a(h)},function(f,d){n(d)})})}).catch(n)});return S(o,r),o}function et(e){var r=this,t=new v(function(o,a){r.ready().then(function(){var n=r._dbInfo;n.db.transaction(function(l){X(l,n,"SELECT key FROM "+n.storeName,[],function(c,f){for(var d=[],h=0;h<f.rows.length;h++)d.push(f.rows.item(h).key);o(d)},function(c,f){a(f)})})}).catch(a)});return S(t,e),t}function At(e){return new v(function(r,t){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(a,n){for(var l=[],c=0;c<n.rows.length;c++)l.push(n.rows.item(c).name);r({db:e,storeNames:l})},function(a,n){t(n)})},function(o){t(o)})})}function tt(e,r){r=Y.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,a;return e.name?a=new v(function(n){var l;e.name===t.name?l=o._dbInfo.db:l=openDatabase(e.name,"","",0),e.storeName?n({db:l,storeNames:[e.storeName]}):n(At(l))}).then(function(n){return new v(function(l,c){n.db.transaction(function(f){function d(B){return new v(function(M,re){f.executeSql("DROP TABLE IF EXISTS "+B,[],function(){M()},function(q,be){re(be)})})}for(var h=[],w=0,N=n.storeNames.length;w<N;w++)h.push(d(n.storeNames[w]));v.all(h).then(function(){l()}).catch(function(B){c(B)})},function(f){c(f)})})}):a=v.reject("Invalid arguments"),S(a,r),a}var rt={_driver:"webSQLStorage",_initStorage:Ct,_support:Me(),iterate:dt,getItem:Qe,setItem:ht,removeItem:vt,clear:Ze,length:qe,key:mt,keys:et,dropInstance:tt};function nt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function pt(e,r){var t=e.name+"/";return e.storeName!==r.storeName&&(t+=e.storeName+"/"),t}function Nt(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Lt(){return!Nt()||localStorage.length>0}function Pt(e){var r=this,t={};if(e)for(var o in e)t[o]=e[o];return t.keyPrefix=pt(e,r._defaultConfig),Lt()?(r._dbInfo=t,t.serializer=de,v.resolve()):v.reject()}function Dt(e){var r=this,t=r.ready().then(function(){for(var o=r._dbInfo.keyPrefix,a=localStorage.length-1;a>=0;a--){var n=localStorage.key(a);n.indexOf(o)===0&&localStorage.removeItem(n)}});return S(t,e),t}function $t(e,r){var t=this;e=O(e);var o=t.ready().then(function(){var a=t._dbInfo,n=localStorage.getItem(a.keyPrefix+e);return n&&(n=a.serializer.deserialize(n)),n});return S(o,r),o}function ot(e,r){var t=this,o=t.ready().then(function(){for(var a=t._dbInfo,n=a.keyPrefix,l=n.length,c=localStorage.length,f=1,d=0;d<c;d++){var h=localStorage.key(d);if(h.indexOf(n)===0){var w=localStorage.getItem(h);if(w&&(w=a.serializer.deserialize(w)),w=e(w,h.substring(l),f++),w!==void 0)return w}}});return S(o,r),o}function Bt(e,r){var t=this,o=t.ready().then(function(){var a=t._dbInfo,n;try{n=localStorage.key(e)}catch{n=null}return n&&(n=n.substring(a.keyPrefix.length)),n});return S(o,r),o}function at(e){var r=this,t=r.ready().then(function(){for(var o=r._dbInfo,a=localStorage.length,n=[],l=0;l<a;l++){var c=localStorage.key(l);c.indexOf(o.keyPrefix)===0&&n.push(c.substring(o.keyPrefix.length))}return n});return S(t,e),t}function it(e){var r=this,t=r.keys().then(function(o){return o.length});return S(t,e),t}function Ot(e,r){var t=this;e=O(e);var o=t.ready().then(function(){var a=t._dbInfo;localStorage.removeItem(a.keyPrefix+e)});return S(o,r),o}function Z(e,r,t){var o=this;e=O(e);var a=o.ready().then(function(){r===void 0&&(r=null);var n=r;return new v(function(l,c){var f=o._dbInfo;f.serializer.serialize(r,function(d,h){if(h)c(h);else try{localStorage.setItem(f.keyPrefix+e,d),l(n)}catch(w){(w.name==="QuotaExceededError"||w.name==="NS_ERROR_DOM_QUOTA_REACHED")&&c(w),c(w)}})})});return S(a,t),a}function oe(e,r){if(r=Y.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var o=this,a;return e.name?a=new v(function(n){e.storeName?n(pt(e,o._defaultConfig)):n(e.name+"/")}).then(function(n){for(var l=localStorage.length-1;l>=0;l--){var c=localStorage.key(l);c.indexOf(n)===0&&localStorage.removeItem(c)}}):a=v.reject("Invalid arguments"),S(a,r),a}var st={_driver:"localStorageWrapper",_initStorage:Pt,_support:nt(),iterate:ot,getItem:$t,setItem:Z,removeItem:Ot,clear:Dt,length:it,key:Bt,keys:at,dropInstance:oe},Ye=function(r,t){return r===t||typeof r=="number"&&typeof t=="number"&&isNaN(r)&&isNaN(t)},we=function(r,t){for(var o=r.length,a=0;a<o;){if(Ye(r[a],t))return!0;a++}return!1},Kt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},lt={},Gt={},Ue={INDEXEDDB:Se,WEBSQL:rt,LOCALSTORAGE:st},cr=[Ue.INDEXEDDB._driver,Ue.WEBSQL._driver,Ue.LOCALSTORAGE._driver],gt=["dropInstance"],Mt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gt),fr={description:"",driver:cr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dr(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}function Ft(){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var t in r)r.hasOwnProperty(t)&&(Kt(r[t])?arguments[0][t]=r[t].slice():arguments[0][t]=r[t])}return arguments[0]}var hr=function(){function e(r){_(this,e);for(var t in Ue)if(Ue.hasOwnProperty(t)){var o=Ue[t],a=o._driver;this[t]=a,lt[a]||this.defineDriver(o)}this._defaultConfig=Ft({},fr),this._config=Ft({},this._defaultConfig,r),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":I(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in t){if(o==="storeName"&&(t[o]=t[o].replace(/\W/g,"_")),o==="version"&&typeof t[o]!="number")return new Error("Database version must be a number.");this._config[o]=t[o]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,o,a){var n=new v(function(l,c){try{var f=t._driver,d=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){c(d);return}for(var h=Mt.concat("_initStorage"),w=0,N=h.length;w<N;w++){var B=h[w],M=!we(gt,B);if((M||t[B])&&typeof t[B]!="function"){c(d);return}}var re=function(){for(var ut=function(pr){return function(){var gr=new Error("Method "+pr+" is not implemented by the current driver"),Qt=v.reject(gr);return S(Qt,arguments[arguments.length-1]),Qt}},zt=0,mr=gt.length;zt<mr;zt++){var jt=gt[zt];t[jt]||(t[jt]=ut(jt))}};re();var q=function(ut){lt[f]&&console.info("Redefining LocalForage driver: "+f),lt[f]=t,Gt[f]=ut,l()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(q,c):q(!!t._support):q(!0)}catch(be){c(be)}});return D(n,o,a),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,o,a){var n=lt[t]?v.resolve(lt[t]):v.reject(new Error("Driver not found."));return D(n,o,a),n},e.prototype.getSerializer=function(t){var o=v.resolve(de);return D(o,t),o},e.prototype.ready=function(t){var o=this,a=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return D(a,t,t),a},e.prototype.setDriver=function(t,o,a){var n=this;Kt(t)||(t=[t]);var l=this._getSupportedDrivers(t);function c(){n._config.driver=n.driver()}function f(w){return n._extend(w),c(),n._ready=n._initStorage(n._config),n._ready}function d(w){return function(){var N=0;function B(){for(;N<w.length;){var M=w[N];return N++,n._dbInfo=null,n._ready=null,n.getDriver(M).then(f).catch(B)}c();var re=new Error("No available storage method found.");return n._driverSet=v.reject(re),n._driverSet}return B()}}var h=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=h.then(function(){var w=l[0];return n._dbInfo=null,n._ready=null,n.getDriver(w).then(function(N){n._driver=N._driver,c(),n._wrapLibraryMethodsWithReady(),n._initDriver=d(l)})}).catch(function(){c();var w=new Error("No available storage method found.");return n._driverSet=v.reject(w),n._driverSet}),D(this._driverSet,o,a),this._driverSet},e.prototype.supports=function(t){return!!Gt[t]},e.prototype._extend=function(t){Ft(this,t)},e.prototype._getSupportedDrivers=function(t){for(var o=[],a=0,n=t.length;a<n;a++){var l=t[a];this.supports(l)&&o.push(l)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,o=Mt.length;t<o;t++)dr(this,Mt[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),vr=new hr;g.exports=vr},{3:3}]},{},[4])(4)})})(sr);var _n=sr.exports;const lr=Rr(_n),wn=[{name:"2",weight:2,suit:"♣"},{name:"3",weight:3,suit:"♣"},{name:"4",weight:4,suit:"♣"},{name:"5",weight:5,suit:"♣"},{name:"6",weight:6,suit:"♣"},{name:"7",weight:7,suit:"♣"},{name:"8",weight:8,suit:"♣"},{name:"9",weight:9,suit:"♣"},{name:"10",weight:10,suit:"♣"},{name:"J",weight:11,suit:"♣"},{name:"Q",weight:12,suit:"♣"},{name:"K",weight:13,suit:"♣"},{name:"A",weight:14,suit:"♣"},{name:"2",weight:2,suit:"♦"},{name:"3",weight:3,suit:"♦"},{name:"4",weight:4,suit:"♦"},{name:"5",weight:5,suit:"♦"},{name:"6",weight:6,suit:"♦"},{name:"7",weight:7,suit:"♦"},{name:"8",weight:8,suit:"♦"},{name:"9",weight:9,suit:"♦"},{name:"10",weight:10,suit:"♦"},{name:"J",weight:11,suit:"♦"},{name:"Q",weight:12,suit:"♦"},{name:"K",weight:13,suit:"♦"},{name:"A",weight:14,suit:"♦"},{name:"2",weight:2,suit:"♥"},{name:"3",weight:3,suit:"♥"},{name:"4",weight:4,suit:"♥"},{name:"5",weight:5,suit:"♥"},{name:"6",weight:6,suit:"♥"},{name:"7",weight:7,suit:"♥"},{name:"8",weight:8,suit:"♥"},{name:"9",weight:9,suit:"♥"},{name:"10",weight:10,suit:"♥"},{name:"J",weight:11,suit:"♥"},{name:"Q",weight:12,suit:"♥"},{name:"K",weight:13,suit:"♥"},{name:"A",weight:14,suit:"♥"},{name:"2",weight:2,suit:"♠"},{name:"3",weight:3,suit:"♠"},{name:"4",weight:4,suit:"♠"},{name:"5",weight:5,suit:"♠"},{name:"6",weight:6,suit:"♠"},{name:"7",weight:7,suit:"♠"},{name:"8",weight:8,suit:"♠"},{name:"9",weight:9,suit:"♠"},{name:"10",weight:10,suit:"♠"},{name:"J",weight:11,suit:"♠"},{name:"Q",weight:12,suit:"♠"},{name:"K",weight:13,suit:"♠"},{name:"A",weight:14,suit:"♠"}],Jt=()=>wn.map(i=>({...i})),xn=()=>lr.getItem("deck").then(i=>i||Jt()).catch(()=>Jt()),ur=i=>lr.setItem("deck",i).catch(()=>null),Sn=i=>{const s=[];i.map(u=>s.push(u));for(let u=0;u<100;u+=1){const g=Math.floor(Math.random()*s.length),x=Math.floor(Math.random()*s.length),I=s[g];s[g]=s[x],s[x]=I}return s},En=()=>ur(Sn(Jt())),In=(i=0)=>{const s=[];return xn().then(u=>{if(i>u.length)return u;for(let g=0;g<i;g+=1){const x=u.pop();x&&s.push(x)}return u}).then(u=>ur(u)).then(()=>s)},Tn=(i,s)=>i.weight-s.weight,On={shuffle:En,deal:In,rankSort:Tn};export{On as D,Bn as G,Dn as a,$n as t};
//# sourceMappingURL=Deck-13e3d9d6.js.map
