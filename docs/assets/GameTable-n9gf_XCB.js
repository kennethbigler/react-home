import{b as C,c as v}from"./index-J5oQF0uq.js";import{p as k}from"./PlayerMenu-DlpAItUf.js";import{j as n,r as y,f as p,ax as K,m as $,g as P,q as Q,I as M,ab as R,ac as D,a2 as q,n as N}from"./mui-vendor-BMBlDOcZ.js";import{r as d}from"./react-vendor-BtzsouiL.js";const _={player:0,hand:0},ot=C("turnAtom",_),T=[{name:"2",weight:2,suit:"♣"},{name:"3",weight:3,suit:"♣"},{name:"4",weight:4,suit:"♣"},{name:"5",weight:5,suit:"♣"},{name:"6",weight:6,suit:"♣"},{name:"7",weight:7,suit:"♣"},{name:"8",weight:8,suit:"♣"},{name:"9",weight:9,suit:"♣"},{name:"10",weight:10,suit:"♣"},{name:"J",weight:11,suit:"♣"},{name:"Q",weight:12,suit:"♣"},{name:"K",weight:13,suit:"♣"},{name:"A",weight:14,suit:"♣"},{name:"2",weight:2,suit:"♦"},{name:"3",weight:3,suit:"♦"},{name:"4",weight:4,suit:"♦"},{name:"5",weight:5,suit:"♦"},{name:"6",weight:6,suit:"♦"},{name:"7",weight:7,suit:"♦"},{name:"8",weight:8,suit:"♦"},{name:"9",weight:9,suit:"♦"},{name:"10",weight:10,suit:"♦"},{name:"J",weight:11,suit:"♦"},{name:"Q",weight:12,suit:"♦"},{name:"K",weight:13,suit:"♦"},{name:"A",weight:14,suit:"♦"},{name:"2",weight:2,suit:"♥"},{name:"3",weight:3,suit:"♥"},{name:"4",weight:4,suit:"♥"},{name:"5",weight:5,suit:"♥"},{name:"6",weight:6,suit:"♥"},{name:"7",weight:7,suit:"♥"},{name:"8",weight:8,suit:"♥"},{name:"9",weight:9,suit:"♥"},{name:"10",weight:10,suit:"♥"},{name:"J",weight:11,suit:"♥"},{name:"Q",weight:12,suit:"♥"},{name:"K",weight:13,suit:"♥"},{name:"A",weight:14,suit:"♥"},{name:"2",weight:2,suit:"♠"},{name:"3",weight:3,suit:"♠"},{name:"4",weight:4,suit:"♠"},{name:"5",weight:5,suit:"♠"},{name:"6",weight:6,suit:"♠"},{name:"7",weight:7,suit:"♠"},{name:"8",weight:8,suit:"♠"},{name:"9",weight:9,suit:"♠"},{name:"10",weight:10,suit:"♠"},{name:"J",weight:11,suit:"♠"},{name:"Q",weight:12,suit:"♠"},{name:"K",weight:13,suit:"♠"},{name:"A",weight:14,suit:"♠"}],z=(e,s)=>e.weight-s.weight,L=()=>{const e=[];T.forEach(s=>e.push(s));for(let s=0;s<100;s+=1){const a=Math.floor(Math.random()*e.length),m=Math.floor(Math.random()*e.length),r=e[a];e[a]=e[m],e[m]=r}return e},A=C("deckAtom",T),at=v(null,(e,s)=>{s(A,L())}),ht=v(null,(e,s,a,m,r=[])=>{const t=e(A),h=[];t.forEach(c=>h.push(c));const i=[];if(a<=h.length)for(let c=0;c<a;c+=1){const w=h.pop();w&&i.push(w)}const u=[...e(k)],l=u.findIndex(c=>c.id===m),g=u[l];g.hands[0]={cards:[...r,...i],weight:0,soft:!1},g.hands[0].cards.sort(z),s(A,h),s(k,u)}),U={border:0,backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:"0 3px 12px 3px",width:50},V={textAlign:"left"},X={margin:"auto",marginTop:5,textAlign:"center",width:"100%"},j={cardFace:U,cardTitle:V,suit:X},W=d.memo(({dropped:e,suit:s,name:a,cardHandler:m,playerNo:r,handNo:t,cardNo:h})=>{const i=d.useCallback(()=>{m&&m(r,t,h)},[m,h,t,r]),o={color:s==="♣"||s==="♠"?"black":y[500],backgroundColor:e?y[100]:"white"};return n.jsxs("button",{style:{...j.cardFace,...o},onClick:i,children:[n.jsx("div",{style:j.cardTitle,children:a+s}),n.jsx(p,{variant:"h4",style:{...j.suit,...o},children:s})]})});W.displayName="Card";const Y={fontWeight:"bold",marginTop:"0.5em"},Z={fontWeight:"normal",marginTop:"0.5em"},J=({cardHandler:e,cardsToDiscard:s,hand:a,handNo:m,isBlackJack:r,isHandTurn:t,isMultiHand:h,isPlayerTurn:i,playerNo:o})=>{const u=d.useMemo(()=>i&&(!h||h&&t)?{...Y,color:K[700]}:Z,[i,h,t]),l=a.weight||0;return n.jsxs(n.Fragment,{children:[n.jsx(p,{variant:"h4",style:u,children:r&&`${l>21?"Bust":"Hand"}: ${l}`}),a.cards.map((g,c)=>{const w=s.includes(c);return g?n.jsx(W,{cardHandler:e,cardNo:c,dropped:w,handNo:m,name:g.name,playerNo:o,suit:g.suit},g.name+g.suit):null})]})},O={borderRadius:5,display:"inline-block",margin:10,padding:20},H={player:O},tt=({betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:m,isBlackJack:r,player:t,playerNo:h,turn:i})=>{const o=!!i&&h===i.player,u=t.hands.length>1,l=!!m&&r&&t.id!==0&&!t.isBot,g=Math.max(Math.min(t.money,5),0),c=Math.max(Math.min(t.money,100),10),w=()=>{e&&e(t.id,t.bet-5)},S=()=>{e&&e(t.id,t.bet+5)},E={fontWeight:o?"bold":"normal"};let x={background:$[900],color:"white"};return t.status==="win"?x={background:P[300],color:"white"}:t.status==="draw"?x={background:q[300],color:"white"}:t.status==="lose"?x={background:y[300],color:"white"}:o&&(x={background:$[300],color:"black"}),n.jsxs(Q,{style:{...H.player,...x},children:[n.jsx(p,{variant:"h4",component:"h2",style:{...E},children:`${t.name}: $${t.money}`}),l&&n.jsx(M,{onClick:w,color:"primary",disabled:t.bet<=g,children:n.jsx(R,{})}),t.bet,l&&n.jsx(M,{onClick:S,color:"primary",disabled:t.bet>=c,children:n.jsx(D,{})}),r&&t.id!==0&&n.jsx(p,{variant:"h5",component:"h3",children:`Bet: $${t.bet}`}),t.hands.map((G,f)=>{const I=!!i&&i.hand===f;return n.jsx("div",{children:!m&&n.jsx(J,{cardHandler:s,cardsToDiscard:a,hand:G,handNo:f,isBlackJack:r,isHandTurn:I,isMultiHand:u,isPlayerTurn:o,playerNo:h})},`hand${f}`)})]})},b=({betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:m,isBlackJack:r,players:t,turn:h})=>n.jsx(n.Fragment,{children:t.map((i,o)=>n.jsx(tt,{betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:m,isBlackJack:r,player:i,playerNo:o,turn:h},`player${o}`))}),F=d.memo(({onClick:e,name:s})=>n.jsx(N,{onClick:()=>e(s),style:{margin:12},variant:"contained",children:s}));F.displayName="Button";const B=({gameFunctions:e,onClick:s})=>n.jsx("div",{children:e.map(a=>n.jsx(F,{onClick:s,name:a},a))}),mt=({betHandler:e,cardClickHandler:s,cardsToDiscard:a=[],gameFunctions:m=[],gameOver:r=!1,hideHands:t=!1,isBlackJack:h=!0,players:i,turn:o,onClick:u})=>{const l=d.useMemo(()=>i.slice(0,o.player+1),[i,o.player]),g=d.useMemo(()=>i.slice(o.player+1),[i,o.player]),c=d.useMemo(()=>!t&&r===!1?i.slice(o.player,o.player+1):i,[t,r,i,o.player]);return h&&!t?n.jsxs(n.Fragment,{children:[n.jsx(b,{players:l,betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:t,isBlackJack:h,turn:o}),n.jsx(B,{gameFunctions:m,onClick:u}),n.jsx(b,{players:g,betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:t,isBlackJack:h,turn:{player:-1,hand:-1}})]}):n.jsxs(n.Fragment,{children:[n.jsx(b,{players:c,betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:t,isBlackJack:h,turn:o}),n.jsx(B,{gameFunctions:m,onClick:u})]})};export{mt as G,at as a,ht as d,z as r,L as s,ot as t};
//# sourceMappingURL=GameTable-n9gf_XCB.js.map
