import{r as w,j as t,E as R,O as z,P as k,A as Y,M as F}from"./index-CLWmqEbq.js";import{P as B,T as j}from"./Header-BPtu2lHf.js";import{a as H}from"./amber-D7aVlNg3.js";import{D as L,a as V,b as q,c as M}from"./DialogTitle-CcgGdTit.js";import{B as h}from"./Button-BuK4RTRF.js";import{G as O}from"./Grid2-Ci6Pqrgr.js";import{p as y,P as I}from"./PlayerMenu-CPI52e94.js";import"./useId-B9yqIk4L.js";import"./useThemeProps-C0pa9_9K.js";import"./isMuiElement-BmdpaUU6.js";import"./Select-CUVlQiQ8.js";import"./useSlotProps-BGlftZfC.js";import"./TextField-BwZ4CQqy.js";const p=(o=0)=>{const e=o.toString().split(""),l=e[0]==="-"?1:0;for(let n=e.length-3;n>l;n-=3)e.splice(n,0,",");return e.splice(l,0,"$"),e.join("")},J={width:"90%",marginLeft:"5%",marginRight:"5%",marginBottom:5,padding:5,textAlign:"center",color:"white"},T=w.memo(({on:o,val:e})=>{const l={backgroundColor:o?H[500]:R[700]},n={...J,...l};return t.jsx(B,{style:n,children:o?p(e):t.jsx("del",{children:p(e)})})});T.displayName="Money";const N={width:"50%",display:"inline-block"},b=(o,e,l=o.length)=>o.slice(e,l).map(n=>t.jsx(T,{on:n.on,val:n.val},n.loc)),K=({deal:o,noDeal:e,offer:l,open:n,swap:s,numCases:a,board:m})=>{const r=[...m].sort((f,i)=>f.val-i.val),x=b(r,0,r.length/2),v=b(r,r.length/2);return t.jsxs(L,{fullWidth:!0,open:n,children:[t.jsx(V,{children:`${p(l)} - Deal or No Deal?`}),t.jsxs(q,{children:[t.jsx("div",{style:N,children:x}),t.jsx("div",{style:N,children:v})]}),a>2?t.jsxs(M,{children:[t.jsx(h,{color:"success",onClick:o,children:"Deal"}),t.jsx(h,{color:"error",onClick:e,children:"No Deal"})]}):t.jsxs(M,{children:[t.jsx(h,{color:"success",onClick:o,children:"Deal"}),t.jsx(h,{color:"secondary",onClick:e,children:"My Case"}),t.jsx(h,{color:"error",onClick:s,children:"Other Case"})]})]})},Q=({briefcase:o,isOver:e,onClick:l,secondary:n})=>{const s=n?"secondary":"primary",a=o.on&&!e?o.loc:p(o.val);return t.jsx(h,{color:s,disabled:!o.on,onClick:l,style:{margin:10},variant:"contained",children:a})},U={maxWidth:796,padding:9,textAlign:"center",display:"block",margin:"auto",marginTop:20},X=({board:o,isOver:e,onClick:l,playerChoice:n})=>t.jsx(B,{elevation:2,style:U,children:o.map((s,a)=>t.jsx(Q,{briefcase:s,isOver:e,onClick:()=>l(a),secondary:n&&n.loc===s.loc},a))}),Z=({playerChoice:o,casesToOpen:e,isOver:l,newGame:n,name:s,money:a,dndOpen:m})=>t.jsxs(O,{container:!0,spacing:1,children:[t.jsxs(O,{size:{xs:12,sm:6},children:[t.jsx(j,{variant:"h3",component:"h2",gutterBottom:!0,children:`Your Case: ${o?o.loc:"?"}${l?` - ${p(o&&o.val)}`:""}`}),t.jsx(j,{variant:"h4",component:"h3",gutterBottom:!0,children:!m&&(l?`You Won ${p(l)}`:`Number of Cases to Open: ${e}`)}),l&&t.jsx(h,{onClick:n,variant:"contained",children:"New Game"})]}),t.jsx(O,{size:{xs:12,sm:6},children:t.jsx(j,{variant:"h3",align:"right",gutterBottom:!0,children:`${s}: ${p(a)}`})})]}),C=6,_=()=>({board:[{val:1,loc:1,on:!0},{val:2,loc:2,on:!0},{val:5,loc:3,on:!0},{val:10,loc:4,on:!0},{val:25,loc:5,on:!0},{val:50,loc:6,on:!0},{val:75,loc:7,on:!0},{val:100,loc:8,on:!0},{val:200,loc:9,on:!0},{val:300,loc:10,on:!0},{val:400,loc:11,on:!0},{val:500,loc:12,on:!0},{val:750,loc:13,on:!0},{val:1e3,loc:14,on:!0},{val:5e3,loc:15,on:!0},{val:1e4,loc:16,on:!0},{val:25e3,loc:17,on:!0},{val:5e4,loc:18,on:!0},{val:75e3,loc:19,on:!0},{val:1e5,loc:20,on:!0},{val:2e5,loc:21,on:!0},{val:3e5,loc:22,on:!0},{val:4e5,loc:23,on:!0},{val:5e5,loc:24,on:!0},{val:75e4,loc:25,on:!0},{val:1e6,loc:26,on:!0}],turn:1,playerChoice:void 0,casesToOpen:C,dndOpen:!1,isOver:0}),oo=o=>{for(let e=0;e<100;e+=1){const l=Math.floor(Math.random()*o.length),n=Math.floor(Math.random()*o.length),s=o[l].loc;o[l].loc=o[n].loc,o[n].loc=s}},A=()=>{const o=_();return oo(o.board),o.board.forEach(e=>{e.on=!0}),o.board.sort((e,l)=>e.loc-l.loc),o},D=z("dealOrNoDealAtom",A()),eo=k(o=>{const{board:e,turn:l}=o(D),{name:n}=o(y)[0];let s=0,a=0;e.forEach(r=>{r.on&&(s+=1,a+=r.val)});const m=Math.round(a/s*(l/10));return{numCases:s,offer:m,name:n}}),no=k(o=>{const e=o(D),{money:l,status:n}=o(y)[0];return{dnd:e,money:l,status:n}},(o,e,{dnd:l,money:n,status:s})=>{if(e(D,l),n!==void 0&&s!==void 0){const a=o(y),m=[...a];m[0]={...a[0],money:n,status:s},e(y,m)}}),to=w.memo(()=>{const[{dnd:o,money:e,status:l},n]=Y(no),{numCases:s,offer:a,name:m}=F(eo),{board:r,dndOpen:x,isOver:v,turn:f,playerChoice:i,casesToOpen:g}=o,$=()=>n({dnd:A()}),S=c=>{const d=r[c];if(i){if(!v&&g>0&&d.loc!==i.loc&&d.on){const u=[...r],W={...u[c],on:!1};u[c]=W,n({dnd:{...o,board:u,dndOpen:g===1,casesToOpen:g-1}})}}else n({dnd:{...o,playerChoice:d},money:e-100,status:l})},P=()=>{const c=Math.ceil(a/1e3);n({dnd:{...o,dndOpen:!1,isOver:c},money:e+c,status:c>100?"win":"lose"})},E=()=>{if(s<=2){const c=(i==null?void 0:i.val)||0,d=Math.ceil(c/1e3);n({dnd:{...o,dndOpen:!1,isOver:d},money:e+d,status:d>100?"win":"lose"})}else n({dnd:{...o,dndOpen:!1,turn:f+1,casesToOpen:f<C-1?C-f:1}})},G=()=>{for(let c=0;c<r.length;c+=1){const d=r[c];if(d.on&&i&&d.loc!==i.loc){const u=Math.ceil(d.val/1e3);n({dnd:{...o,dndOpen:!1,isOver:u},money:e+u,status:u>100?"win":"lose"});return}}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex-container",children:[t.jsx(j,{variant:"h2",component:"h1",gutterBottom:!0,children:"Deal or No Deal"}),t.jsx(I,{})]}),t.jsx(Z,{casesToOpen:g,isOver:v,newGame:$,name:m,money:e,playerChoice:i,dndOpen:x}),t.jsx(X,{board:r,isOver:!!v,onClick:S,playerChoice:i}),t.jsx(K,{board:r,deal:P,noDeal:E,numCases:s,offer:a,open:x,swap:G})]})});to.displayName="DealOrNoDeal";export{to as default};
//# sourceMappingURL=index-BBWr-Cw6.js.map
