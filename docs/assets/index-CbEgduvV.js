import{O as S,r as m,j as e,E as A,A as B}from"./index-CXH5PJAX.js";import{l as H,T as g,u as O,P as E}from"./Header-GvylGjxW.js";import{B as y}from"./Button-CFdI_Fmb.js";import{c as G,T as P,a as _,b as v}from"./TableRow-oDAIaduV.js";const p="X",b="O",w=null,k=()=>({history:[{board:Array(9).fill(w)}],turn:p,step:0}),M=S({key:"tikTacToeAtom",default:JSON.parse(localStorage.getItem("tik-tac-toe-atom")||"null")||k(),effects:[({onSet:t})=>{t(o=>{localStorage.setItem("tik-tac-toe-atom",JSON.stringify(o))})}]}),C=m.memo(({winner:t,turn:o,newGame:s})=>e.jsxs(H,{children:[e.jsx(g,{style:{flex:1},variant:"h4",component:"h2",children:t?`Winner: ${t}`:`Turn: ${o}`}),e.jsx(y,{onClick:s,variant:"contained",children:"Reset Game"})]}));C.displayName="Header";const $=t=>t%2?b:p;function f(t){const o=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let s=0;s<o.length;s+=1){const[n,r,a]=o[s];if(t[n]!==w&&t[n]===t[r]&&t[n]===t[a])return{winner:t[n],winRow:o[s]}}return{winner:null,winRow:[]}}const N=({history:t,step:o,jumpToStep:s})=>{const[n,r]=m.useState(!0),a=m.useCallback((i,c)=>{const l=i.location||0,x=c?`Move #${c} (${$(c-1)}, ${Math.floor(l/3)}, ${l%3})`:"Game Start (Turn, Col, Row)",j=o===c?"secondary":"primary";return e.jsx(y,{color:j,onClick:()=>s(c),style:{display:"block"},children:x},c)},[s,o]),T=t.map(a);return n||T.reverse(),e.jsxs(e.Fragment,{children:[e.jsx(y,{onClick:()=>{r(!n)},style:{marginTop:20,marginBottom:20},variant:"contained",children:n?"Asc":"Desc"}),T]})},R=m.memo(({value:t,winner:o,onClick:s})=>{const{palette:{primary:{main:n}}}=O(),r=o?{color:"white",backgroundColor:n}:{};return e.jsx(y,{onClick:s,style:r,"aria-label":`Tic Tac Toe Play Button ${t?`${t} selected`:"available"}`,children:t||e.jsx("br",{})})});R.displayName="Cell";const F={padding:0,textAlign:"center",border:`1px solid ${A[400]}`},I=({board:t,onClick:o,winRow:s})=>{const n=[];for(let r=0;r<3;r+=1){const a=[];for(let i=0;i<3;i+=1){const c=r*3+i,l=s.includes(c);a.push(e.jsx(G,{style:F,children:e.jsx(R,{onClick:()=>o(c),value:t[c],winner:l})},`${r},${i}`))}const T=e.jsx(v,{children:a},`row${r}`);n.push(T)}return e.jsx(P,{"aria-label":"game of Tik Tac Toe in a 3 by 3 grid",children:e.jsx(_,{children:n})})},J={width:343,display:"block",margin:"auto"},W=m.memo(()=>{const[t,o]=B(M),{turn:s,step:n,history:r}=t,a=d=>{const u=r.slice(0,n+1),h=u[n].board.slice();!f(h).winner&&h[d]===w&&(h[d]=s,o({history:u.concat([{board:h,location:d}]),step:u.length,turn:s===p?b:p}))},T=()=>o(k()),i=d=>{const u={step:d,turn:$(d),history:r};n===d&&(u.history=r.slice(0,n+1)),o(u)},l=r[n].board.slice(),{winner:x,winRow:j}=f(l);return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"h2",component:"h1",gutterBottom:!0,children:"Tic-Tac-Toe"}),e.jsxs(E,{elevation:2,style:J,children:[e.jsx(C,{newGame:T,turn:s,winner:x}),e.jsx(I,{board:l,onClick:a,winRow:j})]}),e.jsx(N,{history:r,jumpToStep:i,step:n})]})});W.displayName="TicTacToe";export{W as default};
//# sourceMappingURL=index-CbEgduvV.js.map
