import{r as u,j as e,c as k,J as N,a1 as xe,g as ee,b as te,s as w,a2 as Ce,u as ne,d as A,e as be,f as oe,k as P,K as _,a3 as se,U as ye}from"./index-bce90a6f.js";import{b as ve,d as F,o as I,e as je,r as Se,i as ke,P as Te,f as Pe,g as Ee,h as Me,I as E,j as Re,G as j,F as z,k as H,S as G,m as W,M as re,p as M,q as K,T as we}from"./MenuItem-7ec316c6.js";import{u as Le}from"./useOpenState-122d4adb.js";import{C as Oe}from"./Chip-9c950609.js";import{n as De}from"./nl2br.min-6ac9c5ee.js";import{F as X}from"./FormControlLabel-d7f8bfb7.js";import{E as B}from"./ExpandableCard-1aeee1a5.js";import"./CardContent-b99ccf8e.js";import"./Collapse-c66c950f.js";function V(t){return t.substring(2).toLowerCase()}function Ie(t,n){return n.documentElement.clientWidth<t.clientX||n.documentElement.clientHeight<t.clientY}function Be(t){const{children:n,disableReactTree:o=!1,mouseEvent:s="onClick",onClickAway:r,touchEvent:i="onTouchEnd"}=t,m=u.useRef(!1),c=u.useRef(null),g=u.useRef(!1),p=u.useRef(!1);u.useEffect(()=>(setTimeout(()=>{g.current=!0},0),()=>{g.current=!1}),[]);const y=ve(n.ref,c),f=F(l=>{const x=p.current;p.current=!1;const b=I(c.current);if(!g.current||!c.current||"clientX"in l&&Ie(l,b))return;if(m.current){m.current=!1;return}let C;l.composedPath?C=l.composedPath().indexOf(c.current)>-1:C=!b.documentElement.contains(l.target)||c.current.contains(l.target),!C&&(o||!x)&&r(l)}),v=l=>x=>{p.current=!0;const b=n.props[l];b&&b(x)},S={ref:y};return i!==!1&&(S[i]=v(i)),u.useEffect(()=>{if(i!==!1){const l=V(i),x=I(c.current),b=()=>{m.current=!0};return x.addEventListener(l,f),x.addEventListener("touchmove",b),()=>{x.removeEventListener(l,f),x.removeEventListener("touchmove",b)}}},[f,i]),s!==!1&&(S[s]=v(s)),u.useEffect(()=>{if(s!==!1){const l=V(s),x=I(c.current);return x.addEventListener(l,f),()=>{x.removeEventListener(l,f)}}},[f,s]),e.jsx(u.Fragment,{children:u.cloneElement(n,S)})}function $e(t){const{autoHideDuration:n=null,disableWindowBlurListener:o=!1,onClose:s,open:r,ref:i,resumeHideDuration:m}=t,c=u.useRef();u.useEffect(()=>{if(!r)return;function a(d){d.defaultPrevented||(d.key==="Escape"||d.key==="Esc")&&(s==null||s(d,"escapeKeyDown"))}return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[r,s]);const g=F((a,d)=>{s==null||s(a,d)}),p=F(a=>{!s||a==null||(clearTimeout(c.current),c.current=setTimeout(()=>{g(null,"timeout")},a))});u.useEffect(()=>(r&&p(n),()=>{clearTimeout(c.current)}),[r,n,p]);const y=a=>{s==null||s(a,"clickaway")},f=()=>{clearTimeout(c.current)},v=u.useCallback(()=>{n!=null&&p(m??n*.5)},[n,m,p]),S=a=>d=>{const h=a.onBlur;h==null||h(d),v()},l=a=>d=>{const h=a.onFocus;h==null||h(d),f()},x=a=>d=>{const h=a.onMouseEnter;h==null||h(d),f()},b=a=>d=>{const h=a.onMouseLeave;h==null||h(d),v()};return u.useEffect(()=>{if(!o&&r)return window.addEventListener("focus",v),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",f)}},[o,v,r]),{getRootProps:(a={})=>{const d=je(t),h=k({},d,a);return k({ref:i,role:"presentation"},h,{onBlur:S(h),onFocus:l(h),onMouseEnter:x(h),onMouseLeave:b(h)})},onClickAway:y}}const Ae=["chores","epics","features","fixes"],Fe={branchMessage:"",branchPrefix:"features"},ae=N({key:"gitAtom",default:JSON.parse(localStorage.getItem("git-atom")||"null")||Fe,effects:[({onSet:t})=>{t(n=>{localStorage.setItem("git-atom",JSON.stringify(n))})}]}),ie=N({key:"storyIdGitAtom",default:JSON.parse(localStorage.getItem("story-id-git-atom")||'""'),effects:[({onSet:t})=>{t(n=>{localStorage.setItem("story-id-git-atom",JSON.stringify(n))})}]}),Ne=N({key:"commitPrefixGitAtom",default:JSON.parse(localStorage.getItem("commit-prefix-git-atom")||"true"),effects:[({onSet:t})=>{t(n=>{localStorage.setItem("commit-prefix-git-atom",JSON.stringify(n))})}]});var U={},_e=ke;Object.defineProperty(U,"__esModule",{value:!0});var R=U.default=void 0,ze=_e(Se()),He=e,Ge=(0,ze.default)((0,He.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");R=U.default=Ge;const ce=xe({key:"branchNameGitSelector",get:({get:t})=>{const{branchMessage:n,branchPrefix:o}=t(ae),s=t(ie);return`${o?`${o}/`:""}${s}${n}`}});function We(t){return ee("MuiSnackbarContent",t)}te("MuiSnackbarContent",["root","message","action"]);const Ue=["action","className","message","role"],Je=t=>{const{classes:n}=t;return oe({root:["root"],action:["action"],message:["message"]},We,n)},qe=w(Te,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>{const n=t.palette.mode==="light"?.8:.98,o=Ce(t.palette.background.default,n);return k({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(o),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:o,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Ze=w("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,n)=>n.message})({padding:"8px 0"}),Ke=w("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,n)=>n.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Xe=u.forwardRef(function(n,o){const s=ne({props:n,name:"MuiSnackbarContent"}),{action:r,className:i,message:m,role:c="alert"}=s,g=A(s,Ue),p=s,y=Je(p);return e.jsxs(qe,k({role:c,square:!0,elevation:6,className:be(y.root,i),ownerState:p,ref:o},g,{children:[e.jsx(Ze,{className:y.message,ownerState:p,children:m}),r?e.jsx(Ke,{className:y.action,ownerState:p,children:r}):null]}))}),Ve=Xe;function Ye(t){return ee("MuiSnackbar",t)}te("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Qe=["onEnter","onExited"],et=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],tt=t=>{const{classes:n,anchorOrigin:o}=t,s={root:["root",`anchorOrigin${P(o.vertical)}${P(o.horizontal)}`]};return oe(s,Ye,n)},Y=w("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,n[`anchorOrigin${P(o.anchorOrigin.vertical)}${P(o.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:n})=>{const o={left:"50%",right:"auto",transform:"translateX(-50%)"};return k({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},n.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},n.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},n.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:k({},n.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},n.anchorOrigin.horizontal==="center"&&o,n.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},n.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),nt=u.forwardRef(function(n,o){const s=ne({props:n,name:"MuiSnackbar"}),r=Pe(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:m,anchorOrigin:{vertical:c,horizontal:g}={vertical:"bottom",horizontal:"left"},autoHideDuration:p=null,children:y,className:f,ClickAwayListenerProps:v,ContentProps:S,disableWindowBlurListener:l=!1,message:x,open:b,TransitionComponent:C=Me,transitionDuration:a=i,TransitionProps:{onEnter:d,onExited:h}={}}=s,q=A(s.TransitionProps,Qe),L=A(s,et),O=k({},s,{anchorOrigin:{vertical:c,horizontal:g},autoHideDuration:p,disableWindowBlurListener:l,TransitionComponent:C,transitionDuration:a}),le=tt(O),{getRootProps:ue,onClickAway:de}=$e(k({},O,{ref:o})),[me,Z]=u.useState(!0),he=Ee({elementType:Y,getSlotProps:ue,externalForwardedProps:L,ownerState:O,className:[le.root,f]}),pe=D=>{Z(!0),h&&h(D)},ge=(D,fe)=>{Z(!1),d&&d(D,fe)};return!b&&me?null:e.jsx(Be,k({onClickAway:de},v,{children:e.jsx(Y,k({},he,{children:e.jsx(C,k({appear:!0,in:b,timeout:a,direction:c==="top"?"down":"up",onEnter:ge,onExited:pe},q,{children:y||e.jsx(Ve,k({message:x,action:m},S))}))}))}))}),ot=nt,st={height:"auto",paddingTop:7,paddingBottom:7},J=t=>{const[n,o,s]=Le(!1),{copyText:r,text:i}=t,m=u.useCallback(()=>{var c,g;o(),(g=(c=navigator==null?void 0:navigator.clipboard)==null?void 0:c.writeText(r||i))==null||g.catch(()=>console.warn("Failed to copy"))},[r,o,i]);return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{onClick:m,style:st,label:e.jsx("div",{children:i}),"aria-label":`copy to clipboard ${i}`}),e.jsx(ot,{action:[e.jsx(E,{onClick:s,size:"large","aria-label":"close copy to clipboard confirmation",children:e.jsx(Re,{})},"close")],autoHideDuration:4e3,message:"Copied Commit Text to clipboard!",onClose:s,open:n})]})},rt={paddingLeft:20,paddingRight:20,width:"100%"},at={marginTop:12},it=t=>{const[n,o]=_(ae),s=se(ce),{getSelectOptions:r,gitTheme:i}=t,{branchMessage:m,branchPrefix:c}=n,g=l=>o({...n,branchMessage:l.target.value}),p=()=>o({...n,branchMessage:""}),y=l=>o({...n,branchPrefix:l}),f=()=>r([...Ae]),v=l=>y(l.target.value),S=u.useMemo(()=>({color:i}),[i]);return e.jsxs("div",{style:rt,children:[e.jsxs(j,{container:!0,spacing:2,style:{marginBottom:16},children:[e.jsx(j,{item:!0,md:3,sm:5,xs:12,style:{marginTop:16},children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(H,{htmlFor:"branch-prefix",style:S,children:"Branch Prefix"}),e.jsx(G,{input:e.jsx(W,{id:"branch-prefix"}),onChange:v,value:c,children:f()||e.jsx(re,{value:"features",children:"features"})})]})}),e.jsx(j,{item:!0,md:8,sm:6,xs:10,style:{marginTop:16},children:e.jsx(M,{fullWidth:!0,InputLabelProps:{style:S},label:"Branch Name",multiline:!0,onChange:g,placeholder:"Summary of User Story",value:m})}),e.jsx(j,{item:!0,sm:1,xs:2,style:{marginTop:16},children:e.jsx(E,{onClick:p,style:at,size:"large","aria-label":"Clear Branch Name",children:e.jsx(R,{})})})]}),e.jsx(J,{text:s})]})};function ct(t,n){const[o,s]=u.useState("feat"),[r,i]=u.useState(""),[m,c]=u.useState(""),[g,p]=u.useState(!1);return{commitPrefix:o,commitMessage:r,commitDescription:m,finishes:g,getCommitText:()=>{const C=`${o}: `;let a=" ";m&&t?a=`

${m}

`:m&&(a=`

${m}`);let d="";g&&t?d=`[${t} #finish]`:t&&(d=`[${t}]`);const h=`${C}${r}${a}${d}`;return n?`git commit -m "${h}"`:h},handleCommitPrefixSelect:C=>{s(C.target.value)},handleCommitMessageChange:C=>{i(C.target.value)},handleCommitDescriptionChange:C=>{c(C.target.value)},clearCommitMessage:()=>{i("")},clearCommitDescription:()=>{c("")},handleFinishesToggle:(C,a)=>{p(a)}}}const lt={paddingLeft:20,paddingRight:20,width:"100%"},Q={marginTop:12},ut=t=>{const[n,o]=_(Ne),{getSelectOptions:s,storyID:r,gitTheme:i}=t,{commitPrefix:m,commitMessage:c,commitDescription:g,finishes:p,getCommitText:y,handleCommitPrefixSelect:f,handleCommitMessageChange:v,handleCommitDescriptionChange:S,clearCommitMessage:l,clearCommitDescription:x,handleFinishesToggle:b}=ct(r,n),C=u.useCallback(()=>s(["build","chore","ci","docs","feat","fix","perf","refactor","revert","style","test"]),[s]),a=(q,L)=>{o(L)},d=y(),h=d&&De(y());return e.jsxs("div",{style:lt,children:[e.jsxs(j,{container:!0,spacing:2,style:{marginBottom:16},children:[e.jsx(j,{item:!0,sm:4,xs:12,style:{marginTop:16},children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(H,{htmlFor:"commit-prefix",style:{color:i},children:"Commit Prefix"}),e.jsx(G,{input:e.jsx(W,{id:"commit-prefix"}),onChange:f,value:m,children:C()})]})}),e.jsx(j,{item:!0,sm:4,xs:12,style:{marginTop:16},children:e.jsx(X,{control:e.jsx(K,{checked:p,onChange:b,value:"Finishes User Story"}),label:"Finishes User Story"})}),e.jsx(j,{item:!0,sm:4,xs:12,style:{marginTop:16},children:e.jsx(X,{control:e.jsx(K,{checked:n,onChange:a,value:"Add git commit -m"}),label:"Add git commit -m"})}),e.jsx(j,{item:!0,sm:5,xs:10,children:e.jsx(M,{fullWidth:!0,InputLabelProps:{style:{color:i}},label:"Commit Message",onChange:v,placeholder:"Summary of Work Done (Message)",value:c})}),e.jsx(j,{item:!0,sm:1,xs:2,children:e.jsx(E,{onClick:l,style:Q,size:"large","aria-label":"Clear Commit Message",children:e.jsx(R,{})})}),e.jsx(j,{item:!0,sm:5,xs:10,children:e.jsx(M,{fullWidth:!0,InputLabelProps:{style:{color:i}},label:"Commit Description",multiline:!0,onChange:S,placeholder:"Summary of Work Done (Description)",value:g})}),e.jsx(j,{item:!0,sm:1,xs:2,children:e.jsx(E,{onClick:x,style:Q,size:"large","aria-label":"Clear Commit Description",children:e.jsx(R,{})})})]}),e.jsx(J,{copyText:d,text:h})]})},dt=u.memo(t=>{const n=se(ce),[o,s]=u.useState("test-pipeline"),{gitTheme:r,getSelectOptions:i}=t,m=c=>s(c.target.value);return e.jsx("div",{style:{paddingLeft:20,paddingRight:20,width:"100%"},children:e.jsxs(j,{container:!0,spacing:1,style:{display:"flex",alignItems:"center"},children:[e.jsx(j,{item:!0,sm:3,xs:12,style:{marginTop:16},children:e.jsxs(z,{fullWidth:!0,children:[e.jsx(H,{htmlFor:"target-branch",style:{color:r},children:"Target Branch"}),e.jsx(G,{input:e.jsx(W,{id:"target-branch"}),onChange:m,value:o,children:i(["test-pipeline","sandbox-pipeline"])})]})}),e.jsx(j,{item:!0,sm:9,xs:12,style:{marginTop:16},children:e.jsx(J,{text:`git push -f origin ${n}:${o}`})})]})})}),mt=/[A-Z]{4}-[a-zA-Z0-9]+/,ht=u.memo(t=>{const{onIdChange:n,storyID:o,gitTheme:s}=t,r=o&&mt.test(o);return e.jsxs(e.Fragment,{children:[e.jsx(we,{variant:"h2",component:"h1",children:"Git Tools"}),e.jsx(M,{InputLabelProps:{style:{color:s}},label:"User Story ID",onChange:n,placeholder:"GNAP-12345",style:{marginLeft:20},value:o,error:!r}),e.jsx("br",{})]})}),pt=/[A-Z]{1,4}-?[a-zA-Z0-9]*/,$=t=>t.map((n,o)=>e.jsx(re,{value:n,children:n},o)),T=ye[900],gt=()=>{const[t,n]=_(ie),o=s=>{const[r]=pt.exec(s.target.value)||[""];n(r)};return e.jsxs(e.Fragment,{children:[e.jsx(ht,{gitTheme:T,onIdChange:o,storyID:t}),e.jsx(B,{backgroundColor:T,title:"Create Branch Name",children:e.jsx(it,{getSelectOptions:$,gitTheme:T})}),e.jsx(B,{backgroundColor:T,title:"Create Commit Message",children:e.jsx(ut,{getSelectOptions:$,gitTheme:T,storyID:t})}),e.jsx(B,{backgroundColor:T,title:"Deploy to Test Pipelines",children:e.jsx(dt,{getSelectOptions:$,gitTheme:T})})]})},Tt=gt;export{Tt as default};
//# sourceMappingURL=index-45bef79c.js.map
