import{j as e,D as ge,X as _,a0 as D,Z as n,_ as s,f as d,Y as R,ai as ze,p as y,F as M,z as q,E as J,M as Q,a9 as O,h as A,n as $,v as Fe,w as Oe,x as Ee,K as Ge,l as Le}from"./mui-vendor-DwHfRDFJ.js";import{r as w}from"./react-vendor-BmItGCZH.js";import{I as Pe}from"./InfoPopup-Dbybi-WL.js";import{c as Me,b as Ue,u as me,a as U}from"./index-D08p1KfI.js";const Ke="/assets/bridge_bidding_cheat_sheet_1-Bm0xbAbZ.jpg",Ze="/assets/bridge_bidding_cheat_sheet_1-Bm0xbAbZ.jpg",Xe="/assets/ken_bridge_betting-BWTbULxu.jpg",Ye=()=>e.jsxs(Pe,{title:"Bid",children:[e.jsx("img",{src:Ke,alt:"Bridge Bidding Cheat Sheet Page 1",width:"100%"}),e.jsx("img",{src:Ze,alt:"Bridge Bidding Cheat Sheet Page 2",width:"100%"}),e.jsx("img",{src:Xe,alt:"Ken Bridge Betting",width:"100%"})]}),pe=[[50,100,100,200],[100,200,300,500],[150,300,500,800],[200,400,800,1100],[250,500,1100,1400],[350,600,1200,1700],[400,700,1400,2e3],[450,800,1600,2300],[500,900,1800,2700],[550,1e3,2e3,3e3],[600,1100,2200,3300],[650,1200,2400,3600],[700,1300,2600,3900]],qe=(r,l,b,i,u,h,S,f,p)=>{const m=r>=l+6;let c;m?c=b?"we":"they":c=b?"they":"we";let t=0;m&&(i==="â™£ï¸"||i==="â™¦ï¸"?t=l*20:i==="â™¥ï¸"||i==="â™ ï¸"?t=l*30:i==="NT"&&(t=40+(l-1)*30));let o=0;if(m){const a=1*(u?2:1)*(h?2:1);if(l===6?o+=a*750:l===7&&(o+=a*1500),r>l+6){const x=r-l-6;if(!u)o+=x*(i==="â™£ï¸"||i==="â™¦ï¸"?20:30);else{const k=1*(h?2:1);o+=x*100*k}}i==="NT"&&S?o+=150:i!=="NT"&&(p?o+=150:f&&(o+=100)),h?o+=100:u&&(o+=50)}else{const a=l+6-r-1,x=0+(u?2:0),k=h?2:1;o+=pe[a][x]*k}return{winner:c,madeBid:m,aboveTheLine:t,belowTheLine:o}},we=w.memo(()=>e.jsxs(e.Fragment,{children:[e.jsx(ge,{sx:{marginTop:7,marginBottom:5}}),e.jsxs(_,{"aria-labelledby":"contracts-trick-values",children:[e.jsx(D,{children:e.jsx(n,{children:e.jsx(s,{colSpan:2,align:"center",children:e.jsx(d,{variant:"h5",component:"h3",children:"Scoring Table"})})})}),e.jsx(D,{children:e.jsx(n,{children:e.jsx(s,{colSpan:2,align:"center",children:e.jsx(d,{variant:"h6",component:"h4",id:"contracts-trick-values",children:"Contracts - Trick Values"})})})}),e.jsxs(R,{children:[e.jsxs(n,{children:[e.jsx(s,{children:"Minors â™£ï¸â™¦ï¸"}),e.jsx(s,{children:"20"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"Majors â™¥ï¸â™ ï¸"}),e.jsx(s,{children:"30"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"No Trump ðŸ¥‡"}),e.jsx(s,{children:"40"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"No Trump ðŸ¥ˆ+"}),e.jsx(s,{children:"30"})]})]})]}),e.jsxs(_,{"aria-labelledby":"bridge-rubbers",children:[e.jsx(D,{children:e.jsx(n,{children:e.jsx(s,{colSpan:2,align:"center",children:e.jsx(d,{variant:"h6",component:"h4",id:"bridge-rubbers",children:"Rubbers"})})})}),e.jsxs(R,{children:[e.jsxs(n,{children:[e.jsx(s,{children:"3 Game Rubber Won"}),e.jsx(s,{children:"500"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"2 Game Rubber Won"}),e.jsx(s,{children:"700"})]})]}),e.jsx(D,{children:e.jsx(n,{children:e.jsx(s,{colSpan:2,sx:{fontWeight:"bold"},children:"Unfinished Rubbers"})})}),e.jsxs(R,{children:[e.jsxs(n,{children:[e.jsx(s,{children:"Only partial score - no finished game"}),e.jsx(s,{children:"100"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"Won the only game"}),e.jsx(s,{children:"300"})]})]})]}),e.jsxs(_,{"aria-labelledby":"bridge-slams",children:[e.jsxs(D,{children:[e.jsx(n,{children:e.jsx(s,{colSpan:3,align:"center",children:e.jsx(d,{variant:"h6",component:"h4",id:"bridge-slams",children:"Slams"})})}),e.jsxs(n,{children:[e.jsx(s,{}),e.jsx(s,{sx:{textDecoration:"underline"},children:"Not Vul"}),e.jsx(s,{sx:{textDecoration:"underline"},children:"Vul"})]})]}),e.jsxs(R,{children:[e.jsxs(n,{children:[e.jsx(s,{children:"Small"}),e.jsx(s,{children:"500"}),e.jsx(s,{children:"750"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"Grand"}),e.jsx(s,{children:"1000"}),e.jsx(s,{children:"1500"})]})]})]}),e.jsxs(_,{"aria-labelledby":"bridge-overtricks",children:[e.jsxs(D,{children:[e.jsx(n,{children:e.jsx(s,{colSpan:3,align:"center",children:e.jsx(d,{variant:"h6",component:"h4",id:"bridge-overtricks",children:"Overtricks"})})}),e.jsxs(n,{children:[e.jsx(s,{children:"Per Overtrick"}),e.jsx(s,{sx:{textDecoration:"underline"},children:"Not Vul"}),e.jsx(s,{sx:{textDecoration:"underline"},children:"Vul"})]})]}),e.jsxs(R,{children:[e.jsxs(n,{children:[e.jsx(s,{children:"Not Doubled"}),e.jsx(s,{colSpan:2,align:"center",children:"Trick Value"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"Doubled"}),e.jsx(s,{children:"100"}),e.jsx(s,{children:"200"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"Redoubled"}),e.jsx(s,{children:"200"}),e.jsx(s,{children:"400"})]})]})]}),e.jsxs(_,{"aria-labelledby":"bridge-undertricks",children:[e.jsxs(D,{children:[e.jsx(n,{children:e.jsx(s,{colSpan:5,align:"center",children:e.jsx(d,{variant:"h6",component:"h4",id:"bridge-undertricks",children:"Undertricks"})})}),e.jsxs(n,{children:[e.jsx(s,{}),e.jsx(s,{colSpan:2,align:"center",children:"Not Doubled"}),e.jsx(s,{colSpan:2,align:"center",children:"Doubled"})]}),e.jsxs(n,{children:[e.jsx(s,{}),e.jsx(s,{sx:{textDecoration:"underline"},children:"NV"}),e.jsx(s,{sx:{textDecoration:"underline"},children:"Vul"}),e.jsx(s,{sx:{textDecoration:"underline"},children:"NV"}),e.jsx(s,{sx:{textDecoration:"underline"},children:"Vul"})]})]}),e.jsx(R,{children:pe.map((r,l)=>e.jsxs(n,{children:[e.jsx(s,{children:l+1}),e.jsx(s,{children:r[0]}),e.jsx(s,{children:r[1]}),e.jsx(s,{children:r[2]}),e.jsx(s,{children:r[3]})]},`${l}-undertricks`))})]}),e.jsxs(_,{"aria-labelledby":"extra-bonuses",children:[e.jsx(D,{children:e.jsx(n,{children:e.jsx(s,{colSpan:2,align:"center",children:e.jsx(d,{variant:"h6",component:"h4",id:"extra-bonuses",children:"Extra Bonuses"})})})}),e.jsxs(R,{children:[e.jsxs(n,{children:[e.jsx(s,{children:"Making a doubled contract"}),e.jsx(s,{children:"50"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"Making a redoubled contract"}),e.jsx(s,{children:"100"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"4 trump honours in 1 hand"}),e.jsx(s,{children:"100"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"5 trump honours in 1 hand"}),e.jsx(s,{children:"150"})]}),e.jsxs(n,{children:[e.jsx(s,{children:"4 aces in 1 hand in NT"}),e.jsx(s,{children:"150"})]})]})]})]}));we.displayName="ScoringTable";const je="Contract Suit",be="Contract Tricks",ue="Declarer Team Tricks",Je=["â™£ï¸","â™¦ï¸","â™¥ï¸","â™ ï¸","NT"],Qe=[1,2,3,4,5,6,7],es=[0,1,2,3,4,5,6,"7 (1)","8 (2)","9 (3)","10 (4)","11 (5)","12 (6)","13 (7)"],ss=({contractSuit:r,contractTricks:l,declarerTricks:b,isWe:i,isDouble:u,isRedouble:h,is4Honours:S,is5Honours:f,is4Aces:p,madeBid:m,onContractSuitChange:c,onContractTricksChange:t,onDeclarerTricksChange:o,onBidWinnerToggle:a,onRedoubleToggle:x,onDoubleToggle:k,on4AcesToggle:E,on5HonoursToggle:H,on4HonoursToggle:G})=>e.jsx(ze,{children:e.jsxs(y,{container:!0,spacing:1,children:[e.jsx(y,{size:12,children:e.jsx(d,{variant:"h6",children:"Contract"})}),e.jsx(y,{size:6,children:e.jsxs(M,{fullWidth:!0,children:[e.jsx(q,{id:"contract-suit-label",children:je}),e.jsx(J,{labelId:"contract-suit-label",id:"contract-suit-select",value:r,label:je,name:"contract-suit-name",onChange:c,children:Je.map(T=>e.jsx(Q,{value:T,children:T},T))})]})}),e.jsx(y,{size:6,children:e.jsxs(M,{fullWidth:!0,children:[e.jsx(q,{id:"contract-tricks-label",children:be}),e.jsx(J,{labelId:"contract-tricks-label",id:"contract-tricks-select",value:l,label:be,name:"contract-tricks-name",onChange:t,children:Qe.map(T=>e.jsx(Q,{value:T,children:T},T))})]})}),e.jsx(y,{size:6,children:e.jsx(O,{control:e.jsx(A,{checked:u,onChange:k,name:"doubled"}),label:"Doubled?"})}),e.jsx(y,{size:6,children:e.jsx(O,{control:e.jsx(A,{checked:h,onChange:x,name:"redoubled"}),label:"Redoubled?"})}),e.jsx(y,{size:6,children:e.jsxs(M,{sx:{flexDirection:"row",alignItems:"center",margin:"10px 0"},children:[e.jsx(d,{children:"Bid: "}),e.jsx(A,{checked:i,onChange:a,name:"bid-winner",slotProps:{input:{"aria-label":"Bid Winner is we"}}}),e.jsx(d,{children:i?"We":"They"})]})}),e.jsx(y,{size:6,children:e.jsxs(M,{fullWidth:!0,children:[e.jsx(q,{id:"declarer-tricks-label",children:ue}),e.jsx(J,{labelId:"declarer-tricks-label",id:"declarer-tricks-select",value:b,label:ue,name:"declarer-tricks-name",onChange:o,children:es.map((T,L)=>e.jsx(Q,{value:L,children:T},T))})]})}),m&&e.jsxs(e.Fragment,{children:[e.jsx(y,{size:12,children:e.jsx(d,{variant:"h6",children:"Honours"})}),r==="NT"?e.jsx(y,{size:12,children:e.jsx(O,{control:e.jsx(A,{checked:p,onChange:E,name:"4-aces"}),label:"4 Aces in 1 hand?"})}):e.jsxs(e.Fragment,{children:[e.jsx(y,{size:6,children:e.jsx(O,{control:e.jsx(A,{checked:S,onChange:G,name:"4-honours"}),label:"4 Honours in 1 hand?"})}),e.jsx(y,{size:6,children:e.jsx(O,{control:e.jsx(A,{checked:f,onChange:H,name:"5-honours"}),label:"5 Honours in 1 hand?"})})]})]})]})}),ee=()=>({aboveScores:[[[],[]],[[],[]],[[],[]]],bids:[],weBelow:[],theyBelow:[]}),K=Ue("bridgeAtom",{...ee(),weRubbers:0,theyRubbers:0}),V=r=>r.reduce((l,b)=>l+b,0),se=Me(r=>{const{aboveScores:l,weBelow:b,theyBelow:i}=r(K);let u=0,h=0,S=0,f=V(b),p=V(i);l.forEach(([t,o])=>{const a=V(t),x=V(o);f+=a,p+=x,a>x&&a>=100?(u+=1,S+=1):x>a&&x>=100&&(h+=1,S+=1)});const m=u>0,c=h>0;return{gameIdx:S,weSum:f,weWins:u,weVulnerable:m,theySum:p,theyWins:h,theyVulnerable:c}}),Se=w.memo(({winner:r,madeBid:l,aboveTheLine:b,belowTheLine:i})=>e.jsxs("div",{style:{marginTop:10},children:[e.jsx(d,{variant:"h6",children:"Score"}),l?e.jsxs(d,{children:["Declarer (",r,") won the hand!"]}):e.jsxs(d,{children:["Defender (",r,") successfully defended!"]}),l&&e.jsxs(d,{children:["Above the line: ",b]}),e.jsxs(d,{children:["Below the line: ",i]})]}));Se.displayName="ScoreSummary";const fe=w.memo(()=>{const[{aboveScores:r,weBelow:l,theyBelow:b,weRubbers:i,theyRubbers:u,bids:h,...S},f]=me(K),{gameIdx:p,weWins:m,theyWins:c,weSum:t,theySum:o}=U(se),[a,x]=w.useState(!1),[k,E]=w.useState("NT"),[H,G]=w.useState(1),[T,L]=w.useState(7),[ne,ye]=w.useState(!0),[le,P]=w.useState(!1),[re,ie]=w.useState(!1),[ce,oe]=w.useState(!1),[te,ae]=w.useState(!1),[de,he]=w.useState(!1),ve=()=>x(!0),z=()=>x(!1),Be=g=>E(g.target.value),Ce=g=>G(g.target.value),ke=g=>L(g.target.value),De=(g,j)=>ye(j),Re=(g,j)=>{j&&P(!0),ie(j)},We=(g,j)=>P(j),Ne=(g,j)=>he(j),Ie=(g,j)=>{j&&P(!0),ae(j)},_e=(g,j)=>oe(j),Ae=()=>{E("NT"),G(1),L(7),P(!1),ie(!1),oe(!1),ae(!1),he(!1)},{winner:xe,madeBid:Z,aboveTheLine:X,belowTheLine:Y}=qe(T,H,ne,k,le,re,de,ce,te),$e=()=>{const[g,j]=r[p],B=[...g],C=[...j],W=[...l],N=[...b];xe==="we"?(B.push(X),W.push(Y),C.push(0),N.push(0)):(C.push(X),N.push(Y),B.push(0),W.push(0));const I=[...r];I[p]=[B,C],f({aboveScores:I,weBelow:W,theyBelow:N,weRubbers:i,theyRubbers:u,bids:[...h,`${H}${k}${Z?"":"âŒ"}`],...S}),Ae(),z()},Ve=()=>{const[g,j]=r[p],B=[...g.slice(0,-1)],C=[...j.slice(0,-1)],W=[...l.slice(0,-1)],N=[...b.slice(0,-1)],I=[...h.slice(0,-1)],F=[...r];F[p]=[B,C],f({aboveScores:F,weBelow:W,theyBelow:N,weRubbers:i,theyRubbers:u,bids:I,...S}),z()},He=()=>{let g=i,j=u,B=t,C=o;if(m>c)B+=300;else if(c>m)C+=300;else{const[W,N]=r[p],I=V(W),F=V(N);I>0&&F===0?B+=100:F>0&&I===0&&(C+=100)}B>C?g+=1:C>B&&(j+=1),f({weRubbers:g,theyRubbers:j,...ee()}),z()};return e.jsxs(e.Fragment,{children:[e.jsx($,{onClick:ve,variant:"contained",children:"Score"}),e.jsxs(Fe,{title:"info-popup",onClose:z,open:a,maxWidth:"md",fullWidth:!0,children:[e.jsx(Oe,{children:"Score"}),e.jsxs(Ee,{children:[e.jsx(ss,{contractSuit:k,contractTricks:H,declarerTricks:T,isWe:ne,isDouble:le,isRedouble:re,is4Honours:ce,is5Honours:te,is4Aces:de,madeBid:Z,onContractSuitChange:Be,onContractTricksChange:Ce,onDeclarerTricksChange:ke,onBidWinnerToggle:De,onRedoubleToggle:Re,onDoubleToggle:We,on4AcesToggle:Ne,on5HonoursToggle:Ie,on4HonoursToggle:_e}),e.jsx(ge,{sx:{marginTop:2}}),e.jsx(Se,{winner:xe,madeBid:Z,aboveTheLine:X,belowTheLine:Y}),e.jsx(we,{})]}),e.jsxs(Ge,{children:[e.jsx($,{color:"error",onClick:He,children:"End"}),e.jsx($,{color:"warning",onClick:Ve,children:"Undo"}),e.jsx($,{color:"primary",onClick:z,children:"Close"}),e.jsx($,{color:"secondary",onClick:$e,children:"Save"})]})]})]})});fe.displayName="ScoreDialog";const Te=w.memo(()=>{const{gameIdx:r,weWins:l,theyWins:b,weSum:i,theySum:u}=U(se),[{weRubbers:h,theyRubbers:S},f]=me(K),p=()=>{let m=h,c=S;const t=l>=b;let o=i,a=u;t?o+=b===0?700:500:a+=l===0?700:500,o>a?m+=1:a>o?c+=1:t?m+=1:c+=1,f({weRubbers:m,theyRubbers:c,...ee()})};return e.jsxs("div",{className:"flex-container",children:[e.jsx(d,{variant:"h2",component:"h1",children:"ðŸŒ‰"}),e.jsx(Ye,{}),(r>2||l>=2||b>=2)&&e.jsx($,{variant:"contained",color:"warning",onClick:p,children:"New Game"}),e.jsx(fe,{})]})});Te.displayName="Header";const v=`4px solid ${Le[700]}`,ns=()=>{const{aboveScores:r,weBelow:l,theyBelow:b,weRubbers:i,theyRubbers:u,bids:h}=U(K),{weVulnerable:S,theyVulnerable:f,weSum:p,theySum:m}=U(se);return e.jsxs(_,{"aria-label":"Bridge Scores",sx:{border:v},children:[e.jsx(D,{children:e.jsxs(n,{sx:{borderBottom:v},children:[e.jsxs(s,{align:"center",sx:{borderRight:v},children:["We ",S&&"ðŸ¥‡"]}),e.jsxs(s,{align:"center",children:["They ",f&&"ðŸ¥‡"]})]})}),e.jsxs(R,{children:[r.slice().map(([c,t],o)=>(c.length>0||t.length>0||c.length===0&&t.length===0&&o===0)&&e.jsxs(n,{children:[e.jsx(s,{align:"center",sx:{borderRight:v},children:c.map((a,x)=>a!==0&&e.jsx(d,{component:"div",children:`${a} (${h[x]})`},`we-above-${x}`))}),e.jsx(s,{align:"center",children:t.map((a,x)=>a!==0&&e.jsx(d,{component:"div",children:`${a} (${h[x]})`},`they-above-${x}`))})]},`game-${o}`)).reverse(),e.jsxs(n,{sx:{borderTop:v},children:[e.jsx(s,{align:"center",sx:{borderRight:v},children:l.map((c,t)=>c!==0&&e.jsx(d,{component:"div",children:`${c} (${h[t]})`},`we-below-${t}`))}),e.jsx(s,{align:"center",children:b.map((c,t)=>c!==0&&e.jsx(d,{component:"div",children:`${c} (${h[t]})`},`they-below-${t}`))})]}),e.jsxs(n,{sx:{borderBottom:v},children:[e.jsxs(s,{align:"center",sx:{border:v},children:["Total: ",p]}),e.jsxs(s,{align:"center",sx:{border:v},children:["Total: ",m]})]}),e.jsxs(n,{sx:{borderBottom:v},children:[e.jsxs(s,{align:"center",sx:{border:v},children:["Wins: ",i]}),e.jsxs(s,{align:"center",sx:{border:v},children:["Wins: ",u]})]})]})]})},ls=w.memo(()=>e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsx(ns,{})]}));ls.displayName="Bridge";export{ls as default};
//# sourceMappingURL=index-D_AdbTs-.js.map
