import{r as l,j as e,I as F,a1 as ve,g as ne,b as oe,s as R,a2 as je,u as re,c as Se,d as se,h as T,J as A,a3 as ae,S as ke}from"./index-a9cca794.js";import{b as Te,d as $,o as I,e as Ee,r as Me,i as Pe,P as Re,f as we,g as Oe,h as Le,I as E,j as Ie,G as b,F as N,k as z,S as _,l as H,M as ie,m as M,p as V,T as De}from"./MenuItem-e15489c2.js";import{u as Be}from"./useOpenState-b44fb79c.js";import{C as $e}from"./Chip-0786e24c.js";import{n as Fe}from"./nl2br.min-d69d5d0c.js";import{F as Y}from"./FormControlLabel-86d2cd4f.js";import{E as D}from"./ExpandableCard-910c5a6c.js";import"./CardContent-11e5494e.js";import"./Collapse-1acbe2bd.js";function Q(t){return t.substring(2).toLowerCase()}function Ae(t,n){return n.documentElement.clientWidth<t.clientX||n.documentElement.clientHeight<t.clientY}function Ne(t){const{children:n,disableReactTree:o=!1,mouseEvent:r="onClick",onClickAway:a,touchEvent:i="onTouchEnd"}=t,u=l.useRef(!1),d=l.useRef(null),p=l.useRef(!1),f=l.useRef(!1);l.useEffect(()=>(setTimeout(()=>{p.current=!0},0),()=>{p.current=!1}),[]);const x=Te(n.ref,d),g=$(c=>{const C=f.current;f.current=!1;const v=I(d.current);if(!p.current||!d.current||"clientX"in c&&Ae(c,v))return;if(u.current){u.current=!1;return}let s;c.composedPath?s=c.composedPath().indexOf(d.current)>-1:s=!v.documentElement.contains(c.target)||d.current.contains(c.target),!s&&(o||!C)&&a(c)}),j=c=>C=>{f.current=!0;const v=n.props[c];v&&v(C)},y={ref:x};return i!==!1&&(y[i]=j(i)),l.useEffect(()=>{if(i!==!1){const c=Q(i),C=I(d.current),v=()=>{u.current=!0};return C.addEventListener(c,g),C.addEventListener("touchmove",v),()=>{C.removeEventListener(c,g),C.removeEventListener("touchmove",v)}}},[g,i]),r!==!1&&(y[r]=j(r)),l.useEffect(()=>{if(r!==!1){const c=Q(r),C=I(d.current);return C.addEventListener(c,g),()=>{C.removeEventListener(c,g)}}},[g,r]),e.jsx(l.Fragment,{children:l.cloneElement(n,y)})}function ze(t){const{autoHideDuration:n=null,disableWindowBlurListener:o=!1,onClose:r,open:a,resumeHideDuration:i}=t,u=l.useRef();l.useEffect(()=>{if(!a)return;function s(h){h.defaultPrevented||(h.key==="Escape"||h.key==="Esc")&&(r==null||r(h,"escapeKeyDown"))}return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[a,r]);const d=$((s,h)=>{r==null||r(s,h)}),p=$(s=>{!r||s==null||(clearTimeout(u.current),u.current=setTimeout(()=>{d(null,"timeout")},s))});l.useEffect(()=>(a&&p(n),()=>{clearTimeout(u.current)}),[a,n,p]);const f=s=>{r==null||r(s,"clickaway")},x=()=>{clearTimeout(u.current)},g=l.useCallback(()=>{n!=null&&p(i??n*.5)},[n,i,p]),j=s=>h=>{const m=s.onBlur;m==null||m(h),g()},y=s=>h=>{const m=s.onFocus;m==null||m(h),x()},c=s=>h=>{const m=s.onMouseEnter;m==null||m(h),x()},C=s=>h=>{const m=s.onMouseLeave;m==null||m(h),g()};return l.useEffect(()=>{if(!o&&a)return window.addEventListener("focus",g),window.addEventListener("blur",x),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",x)}},[o,g,a]),{getRootProps:(s={})=>{const m={...Ee(t),...s};return{role:"presentation",...m,onBlur:j(m),onFocus:y(m),onMouseEnter:c(m),onMouseLeave:C(m)}},onClickAway:f}}const _e=["chores","epics","features","fixes"],He={branchMessage:"",branchPrefix:"features"},ce=F({key:"gitAtom",default:JSON.parse(localStorage.getItem("git-atom")||"null")||He,effects:[({onSet:t})=>{t(n=>{localStorage.setItem("git-atom",JSON.stringify(n))})}]}),le=F({key:"storyIdGitAtom",default:JSON.parse(localStorage.getItem("story-id-git-atom")||'""'),effects:[({onSet:t})=>{t(n=>{localStorage.setItem("story-id-git-atom",JSON.stringify(n))})}]}),Ge=F({key:"commitPrefixGitAtom",default:JSON.parse(localStorage.getItem("commit-prefix-git-atom")||"true"),effects:[({onSet:t})=>{t(n=>{localStorage.setItem("commit-prefix-git-atom",JSON.stringify(n))})}]});var G={},We=Pe;Object.defineProperty(G,"__esModule",{value:!0});var P=G.default=void 0,Ue=We(Me()),Je=e,qe=(0,Ue.default)((0,Je.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");P=G.default=qe;const ue=ve({key:"branchNameGitSelector",get:({get:t})=>{const{branchMessage:n,branchPrefix:o}=t(ce),r=t(le);return`${o?`${o}/`:""}${r}${n}`}});function Ze(t){return ne("MuiSnackbarContent",t)}oe("MuiSnackbarContent",["root","message","action"]);const Xe=t=>{const{classes:n}=t;return se({root:["root"],action:["action"],message:["message"]},Ze,n)},Ke=R(Re,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,n)=>n.root})(({theme:t})=>{const n=t.palette.mode==="light"?.8:.98,o=je(t.palette.background.default,n);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(o),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:o,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}}),Ve=R("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,n)=>n.message})({padding:"8px 0"}),Ye=R("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,n)=>n.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Qe=l.forwardRef(function(n,o){const r=re({props:n,name:"MuiSnackbarContent"}),{action:a,className:i,message:u,role:d="alert",...p}=r,f=r,x=Xe(f);return e.jsxs(Ke,{role:d,square:!0,elevation:6,className:Se(x.root,i),ownerState:f,ref:o,...p,children:[e.jsx(Ve,{className:x.message,ownerState:f,children:u}),a?e.jsx(Ye,{className:x.action,ownerState:f,children:a}):null]})}),et=Qe;function tt(t){return ne("MuiSnackbar",t)}oe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const nt=t=>{const{classes:n,anchorOrigin:o}=t,r={root:["root",`anchorOrigin${T(o.vertical)}${T(o.horizontal)}`]};return se(r,tt,n)},ee=R("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,n[`anchorOrigin${T(o.anchorOrigin.vertical)}${T(o.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:n})=>{const o={left:"50%",right:"auto",transform:"translateX(-50%)"};return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",...n.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},...n.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},...n.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},[t.breakpoints.up("sm")]:{...n.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},...n.anchorOrigin.horizontal==="center"&&o,...n.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},...n.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"}}}}),ot=l.forwardRef(function(n,o){const r=re({props:n,name:"MuiSnackbar"}),a=we(),i={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:u,anchorOrigin:{vertical:d,horizontal:p}={vertical:"bottom",horizontal:"left"},autoHideDuration:f=null,children:x,className:g,ClickAwayListenerProps:j,ContentProps:y,disableWindowBlurListener:c=!1,message:C,onBlur:v,onClose:s,onFocus:h,onMouseEnter:m,onMouseLeave:k,open:w,resumeHideDuration:U,TransitionComponent:J=Le,transitionDuration:q=i,TransitionProps:{onEnter:Z,onExited:X,...de}={},...me}=r,O={...r,anchorOrigin:{vertical:d,horizontal:p},autoHideDuration:f,disableWindowBlurListener:c,TransitionComponent:J,transitionDuration:q},he=nt(O),{getRootProps:pe,onClickAway:ge}=ze({...O}),[fe,K]=l.useState(!0),xe=Oe({elementType:ee,getSlotProps:pe,externalForwardedProps:me,ownerState:O,additionalProps:{ref:o},className:[he.root,g]}),Ce=L=>{K(!0),X&&X(L)},be=(L,ye)=>{K(!1),Z&&Z(L,ye)};return!w&&fe?null:e.jsx(Ne,{onClickAway:ge,...j,children:e.jsx(ee,{...xe,children:e.jsx(J,{appear:!0,in:w,timeout:q,direction:d==="top"?"down":"up",onEnter:be,onExited:Ce,...de,children:x||e.jsx(et,{message:C,action:u,...y})})})})}),rt=ot,st={height:"auto",paddingTop:7,paddingBottom:7},W=t=>{const[n,o,r]=Be(!1),{copyText:a,text:i}=t,u=l.useCallback(()=>{var d,p;o(),(p=(d=navigator==null?void 0:navigator.clipboard)==null?void 0:d.writeText(a||i))==null||p.catch(()=>console.warn("Failed to copy"))},[a,o,i]);return e.jsxs(e.Fragment,{children:[e.jsx($e,{onClick:u,style:st,label:e.jsx("div",{children:i}),"aria-label":`copy to clipboard ${i}`}),e.jsx(rt,{action:[e.jsx(E,{onClick:r,size:"large","aria-label":"close copy to clipboard confirmation",children:e.jsx(Ie,{})},"close")],autoHideDuration:4e3,message:"Copied Commit Text to clipboard!",onClose:r,open:n})]})},at={paddingLeft:20,paddingRight:20,width:"100%"},it={marginTop:12},ct=t=>{const[n,o]=A(ce),r=ae(ue),{getSelectOptions:a,gitTheme:i}=t,{branchMessage:u,branchPrefix:d}=n,p=c=>o({...n,branchMessage:c.target.value}),f=()=>o({...n,branchMessage:""}),x=c=>o({...n,branchPrefix:c}),g=()=>a([..._e]),j=c=>x(c.target.value),y=l.useMemo(()=>({color:i}),[i]);return e.jsxs("div",{style:at,children:[e.jsxs(b,{container:!0,spacing:2,style:{marginBottom:16},children:[e.jsx(b,{item:!0,md:3,sm:5,xs:12,style:{marginTop:16},children:e.jsxs(N,{fullWidth:!0,children:[e.jsx(z,{htmlFor:"branch-prefix",style:y,children:"Branch Prefix"}),e.jsx(_,{input:e.jsx(H,{id:"branch-prefix"}),onChange:j,value:d,children:g()||e.jsx(ie,{value:"features",children:"features"})})]})}),e.jsx(b,{item:!0,md:8,sm:6,xs:10,style:{marginTop:16},children:e.jsx(M,{fullWidth:!0,InputLabelProps:{style:y},label:"Branch Name",multiline:!0,onChange:p,placeholder:"Summary of User Story",value:u})}),e.jsx(b,{item:!0,sm:1,xs:2,style:{marginTop:16},children:e.jsx(E,{onClick:f,style:it,size:"large","aria-label":"Clear Branch Name",children:e.jsx(P,{})})})]}),e.jsx(W,{text:r})]})};function lt(t,n){const[o,r]=l.useState("feat"),[a,i]=l.useState(""),[u,d]=l.useState(""),[p,f]=l.useState(!1);return{commitPrefix:o,commitMessage:a,commitDescription:u,finishes:p,getCommitText:()=>{const s=`${o}: `;let h=" ";u&&t?h=`

${u}

`:u&&(h=`

${u}`);let m="";p&&t?m=`[${t} #finish]`:t&&(m=`[${t}]`);const k=`${s}${a}${h}${m}`;return n?`git commit -m "${k}"`:k},handleCommitPrefixSelect:s=>{r(s.target.value)},handleCommitMessageChange:s=>{i(s.target.value)},handleCommitDescriptionChange:s=>{d(s.target.value)},clearCommitMessage:()=>{i("")},clearCommitDescription:()=>{d("")},handleFinishesToggle:(s,h)=>{f(h)}}}const ut={paddingLeft:20,paddingRight:20,width:"100%"},te={marginTop:12},dt=t=>{const[n,o]=A(Ge),{getSelectOptions:r,storyID:a,gitTheme:i}=t,{commitPrefix:u,commitMessage:d,commitDescription:p,finishes:f,getCommitText:x,handleCommitPrefixSelect:g,handleCommitMessageChange:j,handleCommitDescriptionChange:y,clearCommitMessage:c,clearCommitDescription:C,handleFinishesToggle:v}=lt(a,n),s=l.useCallback(()=>r(["build","chore","ci","docs","feat","fix","perf","refactor","revert","style","test"]),[r]),h=(w,U)=>{o(U)},m=x(),k=m&&Fe(x());return e.jsxs("div",{style:ut,children:[e.jsxs(b,{container:!0,spacing:2,style:{marginBottom:16},children:[e.jsx(b,{item:!0,sm:4,xs:12,style:{marginTop:16},children:e.jsxs(N,{fullWidth:!0,children:[e.jsx(z,{htmlFor:"commit-prefix",style:{color:i},children:"Commit Prefix"}),e.jsx(_,{input:e.jsx(H,{id:"commit-prefix"}),onChange:g,value:u,children:s()})]})}),e.jsx(b,{item:!0,sm:4,xs:12,style:{marginTop:16},children:e.jsx(Y,{control:e.jsx(V,{checked:f,onChange:v,value:"Finishes User Story"}),label:"Finishes User Story"})}),e.jsx(b,{item:!0,sm:4,xs:12,style:{marginTop:16},children:e.jsx(Y,{control:e.jsx(V,{checked:n,onChange:h,value:"Add git commit -m"}),label:"Add git commit -m"})}),e.jsx(b,{item:!0,sm:5,xs:10,children:e.jsx(M,{fullWidth:!0,InputLabelProps:{style:{color:i}},label:"Commit Message",onChange:j,placeholder:"Summary of Work Done (Message)",value:d})}),e.jsx(b,{item:!0,sm:1,xs:2,children:e.jsx(E,{onClick:c,style:te,size:"large","aria-label":"Clear Commit Message",children:e.jsx(P,{})})}),e.jsx(b,{item:!0,sm:5,xs:10,children:e.jsx(M,{fullWidth:!0,InputLabelProps:{style:{color:i}},label:"Commit Description",multiline:!0,onChange:y,placeholder:"Summary of Work Done (Description)",value:p})}),e.jsx(b,{item:!0,sm:1,xs:2,children:e.jsx(E,{onClick:C,style:te,size:"large","aria-label":"Clear Commit Description",children:e.jsx(P,{})})})]}),e.jsx(W,{copyText:m,text:k})]})},mt=l.memo(t=>{const n=ae(ue),[o,r]=l.useState("test-pipeline"),{gitTheme:a,getSelectOptions:i}=t,u=d=>r(d.target.value);return e.jsx("div",{style:{paddingLeft:20,paddingRight:20,width:"100%"},children:e.jsxs(b,{container:!0,spacing:1,style:{display:"flex",alignItems:"center"},children:[e.jsx(b,{item:!0,sm:3,xs:12,style:{marginTop:16},children:e.jsxs(N,{fullWidth:!0,children:[e.jsx(z,{htmlFor:"target-branch",style:{color:a},children:"Target Branch"}),e.jsx(_,{input:e.jsx(H,{id:"target-branch"}),onChange:u,value:o,children:i(["test-pipeline","sandbox-pipeline"])})]})}),e.jsx(b,{item:!0,sm:9,xs:12,style:{marginTop:16},children:e.jsx(W,{text:`git push -f origin ${n}:${o}`})})]})})}),ht=/[A-Z]{4}-[a-zA-Z0-9]+/,pt=l.memo(t=>{const{onIdChange:n,storyID:o,gitTheme:r}=t,a=o&&ht.test(o);return e.jsxs(e.Fragment,{children:[e.jsx(De,{variant:"h2",component:"h1",children:"Git Tools"}),e.jsx(M,{InputLabelProps:{style:{color:r}},label:"User Story ID",onChange:n,placeholder:"GNAP-12345",style:{marginLeft:20},value:o,error:!a}),e.jsx("br",{})]})}),gt=/[A-Z]{1,4}-?[a-zA-Z0-9]*/,B=t=>t.map((n,o)=>e.jsx(ie,{value:n,children:n},o)),S=ke[900],ft=()=>{const[t,n]=A(le),o=r=>{const[a]=gt.exec(r.target.value)||[""];n(a)};return e.jsxs(e.Fragment,{children:[e.jsx(pt,{gitTheme:S,onIdChange:o,storyID:t}),e.jsx(D,{backgroundColor:S,title:"Create Branch Name",children:e.jsx(ct,{getSelectOptions:B,gitTheme:S})}),e.jsx(D,{backgroundColor:S,title:"Create Commit Message",children:e.jsx(dt,{getSelectOptions:B,gitTheme:S,storyID:t})}),e.jsx(D,{backgroundColor:S,title:"Deploy to Test Pipelines",children:e.jsx(mt,{getSelectOptions:B,gitTheme:S})})]})},Et=ft;export{Et as default};
//# sourceMappingURL=index-b07fb0a0.js.map
