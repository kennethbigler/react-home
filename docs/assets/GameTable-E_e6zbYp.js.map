{"version":3,"file":"GameTable-E_e6zbYp.js","sources":["../../src/jotai/turn-atom.ts","../../src/jotai/deck-state.ts","../../src/components/games/game-table/board/card/Card.styles.ts","../../src/components/games/game-table/board/card/Card.tsx","../../src/components/games/game-table/board/Hand.tsx","../../src/components/games/game-table/board/player/Player.styles.ts","../../src/components/games/game-table/board/player/Player.tsx","../../src/components/games/game-table/board/Board.tsx","../../src/components/games/game-table/button-group/Button.tsx","../../src/components/games/game-table/button-group/ButtonGroup.tsx","../../src/components/games/game-table/GameTable.tsx"],"sourcesContent":["import { atomWithStorage } from \"jotai/utils\";\n\nexport interface TurnState {\n  player: number;\n  hand: number;\n}\n\nconst initialState: TurnState = { player: 0, hand: 0 };\n\nconst turnAtom = atomWithStorage(\"turnAtom\", initialState);\n\nexport default turnAtom;\n","import { atom } from \"jotai\";\nimport { atomWithStorage } from \"jotai/utils\";\nimport playerAtom from \"./player-atom\";\n\n/**\n * name: string;\n * suit: string;\n * weight: number;\n */\nexport interface DBCard {\n  name: string;\n  suit: string;\n  weight: number;\n}\n\nconst newDeck: DBCard[] = [\n  { name: \"2\", weight: 2, suit: \"♣\" },\n  { name: \"3\", weight: 3, suit: \"♣\" },\n  { name: \"4\", weight: 4, suit: \"♣\" },\n  { name: \"5\", weight: 5, suit: \"♣\" },\n  { name: \"6\", weight: 6, suit: \"♣\" },\n  { name: \"7\", weight: 7, suit: \"♣\" },\n  { name: \"8\", weight: 8, suit: \"♣\" },\n  { name: \"9\", weight: 9, suit: \"♣\" },\n  { name: \"10\", weight: 10, suit: \"♣\" },\n  { name: \"J\", weight: 11, suit: \"♣\" },\n  { name: \"Q\", weight: 12, suit: \"♣\" },\n  { name: \"K\", weight: 13, suit: \"♣\" },\n  { name: \"A\", weight: 14, suit: \"♣\" },\n  { name: \"2\", weight: 2, suit: \"♦\" },\n  { name: \"3\", weight: 3, suit: \"♦\" },\n  { name: \"4\", weight: 4, suit: \"♦\" },\n  { name: \"5\", weight: 5, suit: \"♦\" },\n  { name: \"6\", weight: 6, suit: \"♦\" },\n  { name: \"7\", weight: 7, suit: \"♦\" },\n  { name: \"8\", weight: 8, suit: \"♦\" },\n  { name: \"9\", weight: 9, suit: \"♦\" },\n  { name: \"10\", weight: 10, suit: \"♦\" },\n  { name: \"J\", weight: 11, suit: \"♦\" },\n  { name: \"Q\", weight: 12, suit: \"♦\" },\n  { name: \"K\", weight: 13, suit: \"♦\" },\n  { name: \"A\", weight: 14, suit: \"♦\" },\n  { name: \"2\", weight: 2, suit: \"♥\" },\n  { name: \"3\", weight: 3, suit: \"♥\" },\n  { name: \"4\", weight: 4, suit: \"♥\" },\n  { name: \"5\", weight: 5, suit: \"♥\" },\n  { name: \"6\", weight: 6, suit: \"♥\" },\n  { name: \"7\", weight: 7, suit: \"♥\" },\n  { name: \"8\", weight: 8, suit: \"♥\" },\n  { name: \"9\", weight: 9, suit: \"♥\" },\n  { name: \"10\", weight: 10, suit: \"♥\" },\n  { name: \"J\", weight: 11, suit: \"♥\" },\n  { name: \"Q\", weight: 12, suit: \"♥\" },\n  { name: \"K\", weight: 13, suit: \"♥\" },\n  { name: \"A\", weight: 14, suit: \"♥\" },\n  { name: \"2\", weight: 2, suit: \"♠\" },\n  { name: \"3\", weight: 3, suit: \"♠\" },\n  { name: \"4\", weight: 4, suit: \"♠\" },\n  { name: \"5\", weight: 5, suit: \"♠\" },\n  { name: \"6\", weight: 6, suit: \"♠\" },\n  { name: \"7\", weight: 7, suit: \"♠\" },\n  { name: \"8\", weight: 8, suit: \"♠\" },\n  { name: \"9\", weight: 9, suit: \"♠\" },\n  { name: \"10\", weight: 10, suit: \"♠\" },\n  { name: \"J\", weight: 11, suit: \"♠\" },\n  { name: \"Q\", weight: 12, suit: \"♠\" },\n  { name: \"K\", weight: 13, suit: \"♠\" },\n  { name: \"A\", weight: 14, suit: \"♠\" },\n];\n\n// TODO: remove export after removing useDeck\n/** sort by card weight */\nexport const rankSort = (a: DBCard, b: DBCard): number => a.weight - b.weight;\n\n// TODO: remove export after removing useDeck\n/** randomize order of the cards O(N + M) */\nexport const shuffle = (): DBCard[] => {\n  const shuffledDeck: DBCard[] = [];\n  // create immutable copy of deck\n  newDeck.forEach((card) => shuffledDeck.push(card));\n  // shuffle the cards\n  for (let i = 0; i < 100; i += 1) {\n    const j = Math.floor(Math.random() * shuffledDeck.length);\n    const k = Math.floor(Math.random() * shuffledDeck.length);\n    const temp = shuffledDeck[j];\n    shuffledDeck[j] = shuffledDeck[k];\n    shuffledDeck[k] = temp;\n  }\n  // update deck state\n  return shuffledDeck;\n};\n\nexport const deckAtom = atomWithStorage(\"deckAtom\", newDeck);\n\nexport const shuffleAtom = atom(null, (_get, set) => {\n  set(deckAtom, shuffle());\n});\n\n/** return an array of a specified length O(2N) */\nexport const dealPokerAtom = atom(\n  null,\n  (\n    get,\n    set,\n    num: number, // number of cards to draw\n    playerId: number, // for which player\n    prevCards: DBCard[] = [], // any existing cards in their hand (optional)\n  ) => {\n    // get deck\n    const deck = get(deckAtom);\n    const nextDeck: DBCard[] = [];\n    deck.forEach((card) => nextDeck.push(card));\n\n    // draw cards\n    const cards: DBCard[] = [];\n    // verify we have enough cards\n    if (num <= nextDeck.length) {\n      // get the cards\n      for (let i = 0; i < num; i += 1) {\n        const card: DBCard | undefined = nextDeck.pop();\n        if (card) {\n          cards.push(card);\n        }\n      }\n    }\n\n    // get players\n    const players = get(playerAtom);\n    const nextPlayers = [...players];\n\n    // have player draw cards\n    const pIdx = nextPlayers.findIndex((player) => player.id === playerId);\n    const nextPlayer = nextPlayers[pIdx];\n    nextPlayer.hands[0] = {\n      cards: [...prevCards, ...cards],\n      weight: 0,\n      soft: false,\n    };\n    // sort\n    nextPlayer.hands[0].cards.sort(rankSort);\n\n    // update state\n    set(deckAtom, nextDeck);\n    set(playerAtom, nextPlayers);\n  },\n);\n","const cardFace: React.CSSProperties = {\n  border: 0,\n  backgroundColor: \"white\",\n  borderRadius: 5,\n  cursor: \"pointer\",\n  display: \"inline-block\",\n  fontWeight: \"bold\",\n  height: 78,\n  margin: 5,\n  padding: \"0 3px 12px 3px\",\n  width: 50,\n};\n\nconst cardTitle: React.CSSProperties = {\n  textAlign: \"left\",\n};\n\nconst suit: React.CSSProperties = {\n  margin: \"auto\",\n  marginTop: 5,\n  textAlign: \"center\",\n  width: \"100%\",\n};\n\nexport default {\n  cardFace,\n  cardTitle,\n  suit,\n};\n","import { memo, useCallback, CSSProperties } from \"react\";\nimport { red } from \"@mui/material/colors\";\nimport styles from \"./Card.styles\";\nimport { Typography } from \"@mui/material\";\n\ninterface CardProps {\n  cardHandler?: (playerNo: number, handNo: number, cardNo: number) => void;\n  cardNo: number;\n  dropped: boolean;\n  handNo: number;\n  name: string;\n  playerNo: number;\n  suit: string;\n}\n\nconst Card = memo(\n  ({\n    dropped,\n    suit,\n    name,\n    cardHandler,\n    playerNo,\n    handNo,\n    cardNo,\n  }: CardProps) => {\n    // handle click to for card\n    const handleClick = useCallback((): void => {\n      if (cardHandler) {\n        cardHandler(playerNo, handNo, cardNo);\n      }\n    }, [cardHandler, cardNo, handNo, playerNo]);\n    // checking color based off suits: ♣♦♥♠\n    const cardColor: CSSProperties = {\n      color: suit === \"♣\" || suit === \"♠\" ? \"black\" : red[500],\n      backgroundColor: dropped ? red[100] : \"white\",\n    };\n\n    return (\n      <button\n        style={{ ...styles.cardFace, ...cardColor }}\n        onClick={handleClick}\n      >\n        <div style={styles.cardTitle}>{name + suit}</div>\n        <Typography variant=\"h4\" style={{ ...styles.suit, ...cardColor }}>\n          {suit}\n        </Typography>\n      </button>\n    );\n  },\n);\n\nCard.displayName = \"Card\";\n\nexport default Card;\n","import { useMemo, CSSProperties } from \"react\";\nimport { purple } from \"@mui/material/colors\";\nimport Card from \"./card/Card\";\nimport { DBHand } from \"../../../../jotai/player-atom\";\nimport { Typography } from \"@mui/material\";\n\nconst boldStyle: CSSProperties = {\n  fontWeight: \"bold\",\n  marginTop: \"0.5em\",\n};\nconst normalStyle: CSSProperties = {\n  fontWeight: \"normal\",\n  marginTop: \"0.5em\",\n};\n\ninterface HandProps {\n  cardHandler?: (playerNo: number, handNo: number, cardNo: number) => void;\n  cardsToDiscard: number[];\n  hand: DBHand;\n  handNo: number;\n  isBlackJack: boolean;\n  isHandTurn: boolean;\n  isMultiHand: boolean;\n  isPlayerTurn: boolean;\n  playerNo: number;\n}\n\nconst Hand = ({\n  cardHandler,\n  cardsToDiscard,\n  hand,\n  handNo,\n  isBlackJack,\n  isHandTurn,\n  isMultiHand,\n  isPlayerTurn,\n  playerNo,\n}: HandProps) => {\n  const styles = useMemo(\n    () =>\n      isPlayerTurn && (!isMultiHand || (isMultiHand && isHandTurn))\n        ? { ...boldStyle, color: purple[700] }\n        : normalStyle,\n    [isPlayerTurn, isMultiHand, isHandTurn],\n  );\n  const handWeight = hand.weight || 0;\n\n  return (\n    <>\n      <Typography variant=\"h4\" style={styles}>\n        {isBlackJack && `${handWeight > 21 ? \"Bust\" : \"Hand\"}: ${handWeight}`}\n      </Typography>\n      {hand.cards.map((card, i) => {\n        const dropped: boolean = cardsToDiscard.includes(i);\n        return card ? (\n          <Card\n            key={card.name + card.suit}\n            cardHandler={cardHandler}\n            cardNo={i}\n            dropped={dropped}\n            handNo={handNo}\n            name={card.name}\n            playerNo={playerNo}\n            suit={card.suit}\n          />\n        ) : null;\n      })}\n    </>\n  );\n};\n\nexport default Hand;\n","const player: React.CSSProperties = {\n  borderRadius: 5,\n  display: \"inline-block\",\n  margin: 10,\n  padding: 20,\n};\n\nexport default {\n  player,\n};\n","import { CSSProperties } from \"react\";\nimport Add from \"@mui/icons-material/Add\";\nimport Remove from \"@mui/icons-material/Remove\";\nimport { green, blueGrey, red, grey } from \"@mui/material/colors\";\nimport Hand from \"../Hand\";\nimport { DBPlayer } from \"../../../../../jotai/player-atom\";\nimport { TurnState } from \"../../../../../jotai/turn-atom\";\nimport styles from \"./Player.styles\";\nimport { Card, IconButton, Typography } from \"@mui/material\";\n\ninterface PlayerProps {\n  betHandler?: (id: number, value: number) => void;\n  cardHandler?: (playerNo: number, handNo: number, cardNo: number) => void;\n  cardsToDiscard: number[];\n  hideHands: boolean;\n  isBlackJack: boolean;\n  player: DBPlayer;\n  playerNo: number;\n  turn: TurnState;\n}\n\nconst Player = ({\n  betHandler,\n  cardHandler,\n  cardsToDiscard,\n  hideHands,\n  isBlackJack,\n  player,\n  playerNo,\n  turn,\n}: PlayerProps) => {\n  // set booleans\n  const isPlayerTurn: boolean = !!turn && playerNo === turn.player;\n  const isMultiHand: boolean = player.hands.length > 1;\n  const showBetting: boolean =\n    !!hideHands && isBlackJack && player.id !== 0 && !player.isBot;\n  // set edge variables\n  const minBet: number = Math.max(Math.min(player.money, 5), 0);\n  const maxBet: number = Math.max(Math.min(player.money, 100), 10);\n  const decrBet = () => {\n    if (betHandler) {\n      betHandler(player.id, player.bet - 5);\n    }\n  };\n  const incrBet = () => {\n    if (betHandler) {\n      betHandler(player.id, player.bet + 5);\n    }\n  };\n  const weight: CSSProperties = {\n    fontWeight: isPlayerTurn ? \"bold\" : \"normal\",\n  };\n  // set colors\n  let color: CSSProperties = { background: grey[900], color: \"white\" };\n  if (player.status === \"win\") {\n    color = { background: green[300], color: \"white\" };\n  } else if (player.status === \"draw\") {\n    color = { background: blueGrey[300], color: \"white\" };\n  } else if (player.status === \"lose\") {\n    color = { background: red[300], color: \"white\" };\n  } else if (isPlayerTurn) {\n    color = { background: grey[300], color: \"black\" };\n  }\n\n  return (\n    <Card style={{ ...styles.player, ...color }}>\n      <Typography variant=\"h4\" component=\"h2\" style={{ ...weight }}>\n        {`${player.name}: $${player.money}`}\n      </Typography>\n      {showBetting && (\n        <IconButton\n          onClick={decrBet}\n          color=\"primary\"\n          disabled={player.bet <= minBet}\n        >\n          <Remove />\n        </IconButton>\n      )}\n      {player.bet}\n      {showBetting && (\n        <IconButton\n          onClick={incrBet}\n          color=\"primary\"\n          disabled={player.bet >= maxBet}\n        >\n          <Add />\n        </IconButton>\n      )}\n      {isBlackJack && player.id !== 0 && (\n        <Typography\n          variant=\"h5\"\n          component=\"h3\"\n        >{`Bet: $${player.bet}`}</Typography>\n      )}\n      {player.hands.map((hand, i) => {\n        const isHandTurn: boolean = !!turn && turn.hand === i;\n        return (\n          <div key={`hand${i}`}>\n            {!hideHands && (\n              <Hand\n                cardHandler={cardHandler}\n                cardsToDiscard={cardsToDiscard}\n                hand={hand}\n                handNo={i}\n                isBlackJack={isBlackJack}\n                isHandTurn={isHandTurn}\n                isMultiHand={isMultiHand}\n                isPlayerTurn={isPlayerTurn}\n                playerNo={playerNo}\n              />\n            )}\n          </div>\n        );\n      })}\n    </Card>\n  );\n};\n\nexport default Player;\n","import Player from \"./player/Player\";\nimport { DBPlayer } from \"../../../../jotai/player-atom\";\nimport { TurnState } from \"../../../../jotai/turn-atom\";\n// Parents: GameTable\n\ninterface BoardProps {\n  betHandler?: (id: number, value: number) => void;\n  cardHandler?: (playerNo: number, handNo: number, cardNo: number) => void;\n  cardsToDiscard: number[];\n  hideHands: boolean;\n  isBlackJack: boolean;\n  players: DBPlayer[];\n  turn: TurnState;\n}\n\nconst Board = ({\n  betHandler,\n  cardHandler,\n  cardsToDiscard,\n  hideHands,\n  isBlackJack,\n  players,\n  turn,\n}: BoardProps) => (\n  <>\n    {players.map((player, i) => (\n      <Player\n        key={`player${i}`}\n        betHandler={betHandler}\n        cardHandler={cardHandler}\n        cardsToDiscard={cardsToDiscard}\n        hideHands={hideHands}\n        isBlackJack={isBlackJack}\n        player={player}\n        playerNo={i}\n        turn={turn}\n      />\n    ))}\n  </>\n);\n\nexport default Board;\n","import { memo } from \"react\";\nimport { Button as MuiButton } from \"@mui/material\";\nexport interface ButtonProps {\n  onClick: (name: string) => void;\n  name: string;\n}\n\nconst Button = memo(({ onClick, name }: ButtonProps) => (\n  <MuiButton\n    onClick={(): void => onClick(name)}\n    style={{ margin: 12 }}\n    variant=\"contained\"\n  >\n    {name}\n  </MuiButton>\n));\n\nButton.displayName = \"Button\";\n\nexport default Button;\n","import Button from \"./Button\";\n\nexport interface ButtonGroupProps {\n  gameFunctions: string[];\n  onClick: (name: string) => void;\n}\n\nconst ButtonGroup = ({ gameFunctions, onClick }: ButtonGroupProps) => (\n  <div>\n    {gameFunctions.map((key) => (\n      <Button key={key} onClick={onClick} name={key} />\n    ))}\n  </div>\n);\n\nexport default ButtonGroup;\n","import { useMemo } from \"react\";\nimport Board from \"./board/Board\";\nimport ButtonGroup from \"./button-group/ButtonGroup\";\nimport { DBPlayer } from \"../../../jotai/player-atom\";\nimport { TurnState } from \"../../../jotai/turn-atom\";\n\ninterface GameTableProps {\n  betHandler?: (id: number, value: number) => void;\n  cardClickHandler?: (playerNo: number, handNo: number, cardNo: number) => void;\n  cardsToDiscard?: number[];\n  gameFunctions?: string[];\n  gameOver?: boolean;\n  hideHands?: boolean;\n  isBlackJack?: boolean;\n  onClick: (name: string) => void;\n  players: DBPlayer[];\n  turn: TurnState;\n}\n\n/* GameTable ->  Board -> Player -> Hand -> Card\n *          |->  Button Group  ->  Button        */\nconst GameTable = ({\n  betHandler,\n  cardClickHandler,\n  cardsToDiscard = [],\n  gameFunctions = [],\n  gameOver = false,\n  hideHands = false,\n  isBlackJack = true,\n  players,\n  turn,\n  onClick,\n}: GameTableProps) => {\n  // move game buttons to make turn more obvious and support mobile\n  const played: DBPlayer[] = useMemo(\n    () => players.slice(0, turn.player + 1),\n    [players, turn.player],\n  );\n  const future: DBPlayer[] = useMemo(\n    () => players.slice(turn.player + 1),\n    [players, turn.player],\n  );\n  const playersToDisplay: DBPlayer[] = useMemo(\n    () =>\n      !hideHands && gameOver === false\n        ? players.slice(turn.player, turn.player + 1)\n        : players,\n    [hideHands, gameOver, players, turn.player],\n  );\n\n  return isBlackJack && !hideHands ? (\n    <>\n      <Board\n        players={played}\n        betHandler={betHandler}\n        cardHandler={cardClickHandler}\n        cardsToDiscard={cardsToDiscard}\n        hideHands={hideHands}\n        isBlackJack={isBlackJack}\n        turn={turn}\n      />\n      <ButtonGroup gameFunctions={gameFunctions} onClick={onClick} />\n      <Board\n        players={future}\n        betHandler={betHandler}\n        cardHandler={cardClickHandler}\n        cardsToDiscard={cardsToDiscard}\n        hideHands={hideHands}\n        isBlackJack={isBlackJack}\n        turn={{ player: -1, hand: -1 }}\n      />\n    </>\n  ) : (\n    <>\n      <Board\n        players={playersToDisplay}\n        betHandler={betHandler}\n        cardHandler={cardClickHandler}\n        cardsToDiscard={cardsToDiscard}\n        hideHands={hideHands}\n        isBlackJack={isBlackJack}\n        turn={turn}\n      />\n      <ButtonGroup gameFunctions={gameFunctions} onClick={onClick} />\n    </>\n  );\n};\n\nexport default GameTable;\n"],"names":["initialState","turnAtom","atomWithStorage","newDeck","rankSort","a","b","shuffle","shuffledDeck","card","i","j","k","temp","deckAtom","shuffleAtom","atom","_get","set","dealPokerAtom","get","num","playerId","prevCards","deck","nextDeck","cards","nextPlayers","playerAtom","pIdx","player","nextPlayer","cardFace","cardTitle","suit","styles$1","Card","memo","dropped","name","cardHandler","playerNo","handNo","cardNo","handleClick","useCallback","cardColor","red","jsxs","styles","jsx","Typography","boldStyle","normalStyle","Hand","cardsToDiscard","hand","isBlackJack","isHandTurn","isMultiHand","isPlayerTurn","useMemo","purple","handWeight","Fragment","Player","betHandler","hideHands","turn","showBetting","minBet","maxBet","decrBet","incrBet","weight","color","grey","green","blueGrey","IconButton","Remove","Add","Board","players","Button","onClick","MuiButton","ButtonGroup","gameFunctions","key","GameTable","cardClickHandler","gameOver","played","future","playersToDisplay"],"mappings":"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"}