import{O as y,j as e,r as m,A as f}from"./index-CXH5PJAX.js";import{B as j}from"./Button-CFdI_Fmb.js";import{P as g}from"./Select-BhZ8L7FE.js";import{G as c}from"./Grid2-BQTch28q.js";import{T as p,S as u}from"./Header-GvylGjxW.js";import{T as P}from"./TextField-IHRxVwn6.js";const O=()=>({weight:0,soft:!1}),d=(t,s=`Bot-${t}`,i=!0)=>({id:t,name:s,isBot:i,status:"",money:100,bet:5,hands:[]}),B=[d(1,"Ken",!1),d(2),d(3),d(4),d(5),d(6),d(0,"Dealer",!0)],v=y({key:"playerAtom",default:JSON.parse(localStorage.getItem("player-atom")||"null")||B,effects:[({onSet:t})=>{t(s=>{localStorage.setItem("player-atom",JSON.stringify(s))})}]}),A=()=>{const[t,s]=m.useState(null);return{anchorEl:t,setAnchor:o=>{s(o.currentTarget)},clearAnchor:()=>{s(null)}}},w={padding:15},S=({children:t,buttonText:s})=>{const{anchorEl:i,setAnchor:h,clearAnchor:o}=A(),n=!!i;return e.jsxs(e.Fragment,{children:[e.jsx(j,{"aria-haspopup":"true",variant:"contained",component:"button",onClick:h,children:s}),e.jsx(g,{id:"player-popover",open:n,anchorEl:i,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},title:"player-popover",children:e.jsx("div",{style:w,children:t})})]})},z=m.memo(()=>{const[t,s]=f(v),i=(o,n)=>{const a=t.findIndex(r=>r.id===o);if(a!==-1)if(n){const r=[...t];for(let l=a;l<t.length-1;l+=1){const x={...r[l],isBot:n};r[l]=x}s(r)}else{const r=[...t],l={...r[a],isBot:n};r[a]=l,s(r)}},h=o=>n=>{const a=t.findIndex(r=>r.id===o);if(a!==-1){const r=[...t],l={...r[a],name:n.target.value||""};r[a]=l,s(r)}};return e.jsx(S,{buttonText:"Players",children:e.jsxs(c,{container:!0,spacing:1,sx:{maxWidth:310},children:[e.jsx(c,{size:8,children:e.jsx(p,{variant:"h5",children:"Edit Player Names"})}),e.jsx(c,{size:4,children:e.jsx(p,{variant:"h5",children:"Is Bot?"})}),t.map((o,n)=>o.id!==0?e.jsxs(m.Fragment,{children:[e.jsx(c,{size:9,children:e.jsx(P,{defaultValue:o.name,onBlur:h(o.id),placeholder:"Enter Player Name",title:`player ${n} name`})}),e.jsx(c,{size:3,children:(n===0||!t[n].isBot||!t[n-1].isBot)&&e.jsx(u,{checked:t[n].isBot,value:t[n].isBot,onChange:(a,r)=>i(o.id,r),title:`isBot-switch-${n}`})})]},`${o.name},${n}`):e.jsxs(m.Fragment,{children:[e.jsx(c,{size:9,children:e.jsx(p,{variant:"h5",children:o.name})}),e.jsx(c,{size:3,children:e.jsx(u,{checked:!0,disabled:!0})})]},`${o.name},${n}`))]})})});z.displayName="PlayerMenu";export{z as P,O as d,v as p};
//# sourceMappingURL=PlayerMenu-v7KbM9ow.js.map
