import{M as S,O as A,W as M,r as d,j as s,A as C,P as H}from"./index-eG4mc5yy.js";import{p as u,P as L}from"./PlayerMenu-DRuBQjNp.js";import{T as E,b as p,c as i,a as $}from"./TableRow-CAdaDep8.js";import{T as B}from"./TableHead-asAwP27W.js";import{T as b}from"./Header-coIKKBJv.js";import{G as R}from"./Grid2-CYzsE65K.js";import{B as w}from"./Button-CZHw6MZX.js";import"./Select-BVaMFeaV.js";import"./isMuiElement-C0zqtK3c.js";import"./useSlotProps-BF82it9S.js";import"./useId-C0qAzL6S.js";import"./TextField-C5acFA7O.js";import"./useThemeProps-CaCqvqq2.js";var o=(t=>(t.EMPTY="-",t.CHERRY="🍒",t.BAR="🍺",t.DOUBLE_BAR="🍻",t.TRIPLE_BAR="🥃",t.SEVEN="❌",t.JACKPOT="💰",t))(o||{});const N=3,h=[{symbol:"🍒",start:1,stop:2},{symbol:"-",start:3,stop:7},{symbol:"🍺",start:8,stop:12},{symbol:"-",start:13,stop:17},{symbol:"❌",start:18,stop:25},{symbol:"-",start:26,stop:30},{symbol:"🍺",start:31,stop:35},{symbol:"-",start:36,stop:41},{symbol:"🍒",start:42,stop:43},{symbol:"-",start:44,stop:49},{symbol:"🍻",start:50,stop:56},{symbol:"-",start:57,stop:62},{symbol:"🍒",start:63,stop:63},{symbol:"-",start:64,stop:69},{symbol:"🍻",start:70,stop:75},{symbol:"-",start:76,stop:81},{symbol:"🍺",start:82,stop:87},{symbol:"-",start:88,stop:93},{symbol:"🥃",start:94,stop:104},{symbol:"-",start:105,stop:115},{symbol:"💰",start:116,stop:117},{symbol:"-",start:118,stop:128}];function O(){const t=[];return h.forEach((e,n)=>{const l=n-1>0?n-1:h.length-1,r=(n+1)%h.length;for(let c=e.start;c<=e.stop;c+=1)t.push([h[l].symbol,e.symbol,h[r].symbol])}),t}const g=O();function Y(){return g[Math.floor(Math.random()*g.length)]}const v=()=>{const t=[];for(let e=0;e<N;e+=1)t[e]=Y();return t},D=(t,e)=>{const n=["🍺","🍻","🥃"],l=t[0][1],r=t[1][1],c=t[2][1],a=[l,r,c];if(l===r&&l===c)switch(l){case"💰":return 1666*e;case"❌":return 300*e;case"🥃":return 100*e;case"🍻":return 50*e;case"🍺":return 25*e;case"🍒":return 12*e;default:return 0}else{if(n.includes(l)&&n.includes(r)&&n.includes(c))return 12*e;if(a.includes("🍒",a.indexOf("🍒")+1))return 6*e;if(a.includes("🍒"))return 3*e}return 0},j={pullHandle:v,getPayout:D},T=S({key:"slotsAtom",default:JSON.parse(localStorage.getItem("slots-atom")||"null")||j.pullHandle(),effects:[({onSet:t})=>{t(e=>{localStorage.setItem("slots-atom",JSON.stringify(e))})}]}),I=A({key:"slotsReadOnlyState",get:({get:t})=>{const e=t(u),{bet:n,name:l}=e[0];return{bet:n,name:l}}}),J=A({key:"slotsState",get:({get:t})=>{const e=t(T),n=t(u),{money:l}=n[0],{money:r}=n[n.length-1];return{reel:e,money:l,houseMoney:r}},set:({get:t,set:e},n)=>{if(!(n instanceof M)){const{reel:l,money:r,houseMoney:c}=n;e(T,l);const a=t(u),y=a.length-1,m=[...a];m[0]={...a[0],money:r},m[y]={...a[y],money:c},e(u,m)}}}),U=[{symbol:`${o.JACKPOT} ${o.JACKPOT} ${o.JACKPOT}`,payout:1666},{symbol:`${o.SEVEN} ${o.SEVEN} ${o.SEVEN}`,payout:300},{symbol:`${o.TRIPLE_BAR} ${o.TRIPLE_BAR} ${o.TRIPLE_BAR}`,payout:100},{symbol:`${o.DOUBLE_BAR} ${o.DOUBLE_BAR} ${o.DOUBLE_BAR}`,payout:50},{symbol:`${o.BAR} ${o.BAR} ${o.BAR}`,payout:25},{symbol:`3 of any ${o.BAR} ${o.DOUBLE_BAR} ${o.TRIPLE_BAR}`,payout:12},{symbol:`${o.CHERRY} ${o.CHERRY} ${o.CHERRY}`,payout:12},{symbol:`${o.CHERRY} ${o.CHERRY}`,payout:6},{symbol:o.CHERRY,payout:3}],_=d.memo(()=>s.jsxs(E,{"aria-label":"payout reference table for slot game",children:[s.jsx(B,{children:s.jsxs(p,{children:[s.jsx(i,{children:"Slot Roll"}),s.jsx(i,{children:"Payout"})]})}),s.jsx($,{children:U.map((t,e)=>s.jsxs(p,{children:[s.jsx(i,{component:"th",scope:"row",children:t.symbol}),s.jsx(i,{children:`${t.payout} : 1`})]},e))})]}));_.displayName="PayoutTable";const P=d.memo(({name:t,money:e,houseMoney:n})=>s.jsxs(E,{"aria-label":"current slot game monetary status",children:[s.jsx(B,{children:s.jsxs(p,{children:[s.jsx(i,{children:"Player"}),s.jsx(i,{children:"Money"})]})}),s.jsxs($,{children:[s.jsxs(p,{children:[s.jsx(i,{component:"th",scope:"row",children:t}),s.jsx(i,{children:`$${e}`})]}),s.jsxs(p,{children:[s.jsx(i,{component:"th",scope:"row",children:"House"}),s.jsx(i,{children:`$${n}`})]})]})]}));P.displayName="MoneyTable";const k={minHeight:39,fontWeight:900},K=t=>{const{reel:e}=t,n=d.useCallback(()=>{const l=[];for(let r=0;r<3;r+=1){const c=e.map((y,m)=>s.jsx(i,{children:s.jsx(b,{variant:"h4",component:"h2",align:"center",style:k,children:y[r]})},`${m},${r}`)),a=s.jsx(p,{children:c},`row${r}`);l.push(a)}return l},[e]);return s.jsx(E,{"aria-label":"slots displayed in a 3 by 3 grid",children:s.jsx($,{children:n()})})},ns=()=>{const[{reel:t,money:e,houseMoney:n},l]=C(J),{bet:r,name:c}=H(I),[a,y]=d.useState(0),m=()=>{const f=j.pullHandle(),x=j.getPayout(f,r)-r;y(x),l({reel:f,money:e+x,houseMoney:n-x})};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-container",children:[s.jsx(b,{variant:"h2",component:"h1",children:"Casino Slot Machine"}),s.jsx(L,{})]}),s.jsxs(R,{container:!0,spacing:1,style:{marginTop:"2em"},children:[s.jsxs(R,{size:{xs:12,sm:6},children:[s.jsxs("div",{children:[s.jsx(w,{onClick:m,style:{marginBottom:15},variant:"contained",children:"Spin"}),a?s.jsx(b,{variant:"h4",component:"h2",children:`You ${a>0?"won":"lost"} $${a}`}):null]}),s.jsx(K,{reel:t}),s.jsx(P,{money:e,name:c,houseMoney:n})]}),s.jsx(R,{size:{xs:12,sm:6},children:s.jsx(_,{})})]})]})};export{ns as default};
//# sourceMappingURL=index-BgW0odIj.js.map
