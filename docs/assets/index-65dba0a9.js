import{I as M,j as r,b as W,g as D,s as G,v as N,h as j,r as z,u as L,c as w,d as V,P as H,J as K}from"./index-a9cca794.js";import{r as O,i as S,B as U,n as q,z as J,T,t as Y,P as X}from"./MenuItem-e15489c2.js";import{l as Q}from"./lightGreen-e8907599.js";import{c as $,b as E,T as Z,a as oo}from"./TableRow-08c264c7.js";import{T as eo}from"./TableHead-b42bb758.js";const B=0,x=1,f=2;var h=(o=>(o[o.EMPTY=0]="EMPTY",o[o.RED=1]="RED",o[o.BLACK=2]="BLACK",o))(h||{});const so=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],y=(o,e)=>(o.push([...e]),o),A=()=>({board:so.reduce(y,[]),winner:void 0,turn:1}),ao=M({key:"connect4Atom",default:JSON.parse(localStorage.getItem("connect4-atom")||"null")||A(),effects:[({onSet:o})=>{o(e=>{localStorage.setItem("connect4-atom",JSON.stringify(e))})}]}),m=(o,e,a,s)=>{if(o[e]!==void 0){const t=o[e][a];t!==void 0&&(t===s[B]&&t!==h.EMPTY?(s[x].push([e,a]),s[x].length>s[f].length&&(s[f]=[...s[x]])):(s[B]=t,s[x]=[[e,a]]))}};var k={},ro=S;Object.defineProperty(k,"__esModule",{value:!0});var I=k.default=void 0,to=ro(O()),no=r,io=(0,to.default)((0,no.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");I=k.default=io;function co(o){return D("MuiFab",o)}const lo=W("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),_=lo,uo=o=>{const{color:e,variant:a,classes:s,size:t}=o,u={root:["root",a,`size${j(t)}`,e==="inherit"?"colorInherit":e]},d=V(u,co,s);return{...s,...d}},po=G(U,{name:"MuiFab",slot:"Root",shouldForwardProp:o=>N(o)||o==="classes",overridesResolver:(o,e)=>{const{ownerState:a}=o;return[e.root,e[a.variant],e[`size${j(a.size)}`],a.color==="inherit"&&e.colorInherit,e[j(a.size)],e[a.color]]}})(({theme:o,ownerState:e})=>{var a,s;return{...o.typography.button,minHeight:36,transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(o.vars||o).zIndex.fab,boxShadow:(o.vars||o).shadows[6],"&:active":{boxShadow:(o.vars||o).shadows[12]},color:o.vars?o.vars.palette.text.primary:(a=(s=o.palette).getContrastText)==null?void 0:a.call(s,o.palette.grey[300]),backgroundColor:(o.vars||o).palette.grey[300],"&:hover":{backgroundColor:(o.vars||o).palette.grey.A100,"@media (hover: none)":{backgroundColor:(o.vars||o).palette.grey[300]},textDecoration:"none"},[`&.${_.focusVisible}`]:{boxShadow:(o.vars||o).shadows[6]},...e.size==="small"&&{width:40,height:40},...e.size==="medium"&&{width:48,height:48},...e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},...e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},...e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},...e.color==="inherit"&&{color:"inherit"}}},({theme:o,ownerState:e})=>({...e.color!=="inherit"&&e.color!=="default"&&(o.vars||o).palette[e.color]!=null&&{color:(o.vars||o).palette[e.color].contrastText,backgroundColor:(o.vars||o).palette[e.color].main,"&:hover":{backgroundColor:(o.vars||o).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(o.vars||o).palette[e.color].main}}}}),({theme:o})=>({[`&.${_.disabled}`]:{color:(o.vars||o).palette.action.disabled,boxShadow:(o.vars||o).shadows[0],backgroundColor:(o.vars||o).palette.action.disabledBackground}})),bo=z.forwardRef(function(e,a){const s=L({props:e,name:"MuiFab"}),{children:t,className:u,color:d="default",component:n="button",disabled:c=!1,disableFocusRipple:l=!1,focusVisibleClassName:p,size:g="large",variant:i="circular",...b}=s,v={...s,color:d,component:n,disabled:c,disableFocusRipple:l,size:g,variant:i},C=uo(v);return r.jsx(po,{className:w(C.root,u),component:n,disabled:c,focusRipple:!l,focusVisibleClassName:w(C.focusVisible,p),ownerState:v,ref:a,...b,classes:C,children:t})}),F=bo,ho=o=>{switch(o){case 0:return;case 1:return H[500];case 2:return"black";default:return Q[600]}},go=o=>{const{ariaLabel:e,piece:a,enabled:s=!1,onClick:t=q}=o,d={backgroundColor:ho(a)};return s?r.jsx(F,{size:"small",onClick:t,style:d,role:"button","aria-label":e,children:r.jsx(I,{style:{color:"white"}})}):r.jsx(F,{disabled:!0,size:"small",style:d,"aria-label":"disabled column input",children:r.jsx("div",{})})},R=z.memo(go),P={padding:1,textAlign:"center"},vo=o=>{const{board:e,turn:a,insert:s}=o,t=e.map((d,n)=>{const c=d.map((l,p)=>r.jsx($,{style:P,children:r.jsx(R,{piece:l})},`c4c${n},${p}`));return r.jsx(E,{children:c},`c4r${n}`)}).reverse(),u=e[e.length-1].map((d,n)=>r.jsx($,{style:P,children:r.jsx(R,{enabled:!d,onClick:()=>s(n),piece:d?0:a,ariaLabel:`insert piece into column ${n}`})},`c4h${n}`));return r.jsxs(Z,{children:[r.jsx(eo,{children:r.jsx(E,{children:u})}),r.jsx(oo,{children:t})]})},xo=z.memo(o=>{const{winner:e,turn:a,newGame:s}=o,t=e?"Winner:":"Turn:",u=e||a;return r.jsx(J,{children:r.jsxs("div",{className:"flex-container",children:[r.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[r.jsx(T,{style:{marginRight:10},variant:"h4",component:"h2",children:t}),r.jsx(R,{piece:u})]}),r.jsx(Y,{onClick:s,variant:"contained",children:"Reset Game"})]})})}),mo=o=>{const{board:e,insert:a,winner:s,turn:t,newGame:u}=o;return r.jsxs(X,{elevation:2,style:{maxWidth:900,minWidth:300,display:"block",margin:"auto",paddingBottom:5},children:[r.jsx(xo,{newGame:u,turn:t,winner:s}),r.jsx(vo,{board:e,insert:a,turn:t})]})},fo=()=>{const[{turn:o,board:e,winner:a},s]=K(ao),t=()=>{s(A())},u=(n,c,l)=>{const p=[];for(let i=0;i<4;i+=1){const b=[],v=[];p.push([0,b,v])}for(let i=-3;i<=3;i+=1)m(l,n+i,c,p[0]),m(l,n,c+i,p[1]),m(l,n+i,c+i,p[2]),m(l,n-i,c+i,p[3]);const g=l.reduce(y,[]);p.forEach(i=>{i[f].length>=4&&(i[f].forEach(b=>{g[b[0]][b[1]]=3}),s({turn:o,winner:o,board:g}))})},d=n=>{if(!a&&!e[e.length-1][n]){let c=0;for(;e[c][n]!==0;)c+=1;const l=e.reduce(y,[]);l[c][n]=o,s({winner:a,turn:o===h.RED?h.BLACK:h.RED,board:l}),u(c,n,l)}};return r.jsxs(r.Fragment,{children:[r.jsx(T,{variant:"h2",component:"h1",gutterBottom:!0,children:"Welcome to Ken's Connect4 Game"}),r.jsx(mo,{board:e,insert:d,newGame:t,turn:o,winner:a})]})},ko=fo;export{ko as default};
//# sourceMappingURL=index-65dba0a9.js.map
