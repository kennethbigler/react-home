import{J as T,a2 as A,a7 as _,r as d,j as s,K as S}from"./index-16562204.js";import{z as R,T as j,G as y,v as P}from"./MenuItem-34ed4bd5.js";import{T as $,b as p,c,a as E}from"./TableRow-6e7ee974.js";import{T as B}from"./TableHead-dc711542.js";var o=(e=>(e.EMPTY="-",e.CHERRY="🍒",e.BAR="🍺",e.DOUBLE_BAR="🍻",e.TRIPLE_BAR="🥃",e.SEVEN="❌",e.JACKPOT="💰",e))(o||{});const C=3,u=[{symbol:"🍒",start:1,stop:2},{symbol:"-",start:3,stop:7},{symbol:"🍺",start:8,stop:12},{symbol:"-",start:13,stop:17},{symbol:"❌",start:18,stop:25},{symbol:"-",start:26,stop:30},{symbol:"🍺",start:31,stop:35},{symbol:"-",start:36,stop:41},{symbol:"🍒",start:42,stop:43},{symbol:"-",start:44,stop:49},{symbol:"🍻",start:50,stop:56},{symbol:"-",start:57,stop:62},{symbol:"🍒",start:63,stop:63},{symbol:"-",start:64,stop:69},{symbol:"🍻",start:70,stop:75},{symbol:"-",start:76,stop:81},{symbol:"🍺",start:82,stop:87},{symbol:"-",start:88,stop:93},{symbol:"🥃",start:94,stop:104},{symbol:"-",start:105,stop:115},{symbol:"💰",start:116,stop:117},{symbol:"-",start:118,stop:128}];function H(){const e=[];return u.forEach((t,n)=>{const r=n-1>0?n-1:u.length-1,l=(n+1)%u.length;for(let a=t.start;a<=t.stop;a+=1)e.push([u[r].symbol,t.symbol,u[l].symbol])}),e}const f=H();function M(){return f[Math.floor(Math.random()*f.length)]}const L=()=>{const e=[];for(let t=0;t<C;t+=1)e[t]=M();return e},Y=(e,t)=>{const n=["🍺","🍻","🥃"],r=e[0][1],l=e[1][1],a=e[2][1],i=[r,l,a];if(r===l&&r===a)switch(r){case"💰":return 1666*t;case"❌":return 300*t;case"🥃":return 100*t;case"🍻":return 50*t;case"🍺":return 25*t;case"🍒":return 12*t;default:return 0}else{if(n.includes(r)&&n.includes(l)&&n.includes(a))return 12*t;if(i.includes("🍒",i.indexOf("🍒")+1))return 6*t;if(i.includes("🍒"))return 3*t}return 0},b={pullHandle:L,getPayout:Y},g=T({key:"slotsAtom",default:JSON.parse(localStorage.getItem("slots-atom")||"null")||b.pullHandle(),effects:[({onSet:e})=>{e(t=>{localStorage.setItem("slots-atom",JSON.stringify(t))})}]}),w=A({key:"slotsState",get:({get:e})=>{const t=e(g),n=e(R),r=n[0],l=n[n.length-1];return{reel:t,player:r,dealer:l}},set:({get:e,set:t},n)=>{if(!(n instanceof _)){const{reel:r,player:l,dealer:a}=n;t(g,r);const i=e(R),m=[...i];m[0]=l,m[i.length-1]=a,t(R,m)}}}),N=[{symbol:`${o.JACKPOT} ${o.JACKPOT} ${o.JACKPOT}`,payout:1666},{symbol:`${o.SEVEN} ${o.SEVEN} ${o.SEVEN}`,payout:300},{symbol:`${o.TRIPLE_BAR} ${o.TRIPLE_BAR} ${o.TRIPLE_BAR}`,payout:100},{symbol:`${o.DOUBLE_BAR} ${o.DOUBLE_BAR} ${o.DOUBLE_BAR}`,payout:50},{symbol:`${o.BAR} ${o.BAR} ${o.BAR}`,payout:25},{symbol:`3 of any ${o.BAR} ${o.DOUBLE_BAR} ${o.TRIPLE_BAR}`,payout:12},{symbol:`${o.CHERRY} ${o.CHERRY} ${o.CHERRY}`,payout:12},{symbol:`${o.CHERRY} ${o.CHERRY}`,payout:6},{symbol:o.CHERRY,payout:3}],v=d.memo(()=>s.jsxs($,{children:[s.jsx(B,{children:s.jsxs(p,{children:[s.jsx(c,{children:"Slot Roll"}),s.jsx(c,{children:"Payout"})]})}),s.jsx(E,{children:N.map((e,t)=>s.jsxs(p,{children:[s.jsx(c,{children:e.symbol}),s.jsx(c,{children:`${e.payout} : 1`})]},t))})]})),I=d.memo(({playerName:e,playerMoney:t,dealerMoney:n})=>s.jsxs($,{children:[s.jsx(B,{children:s.jsxs(p,{children:[s.jsx(c,{children:"Player"}),s.jsx(c,{children:"Money"})]})}),s.jsxs(E,{children:[s.jsxs(p,{children:[s.jsx(c,{children:e}),s.jsx(c,{children:`$${t}`})]}),s.jsxs(p,{children:[s.jsx(c,{children:"House"}),s.jsx(c,{children:`$${n}`})]})]})]})),J={minHeight:39,fontWeight:900},D=e=>{const{reel:t}=e,n=d.useCallback(()=>{const r=[];for(let l=0;l<3;l+=1){const a=t.map((m,h)=>s.jsx(c,{children:s.jsx(j,{variant:"h4",component:"h2",align:"center",style:J,children:m[l]})},`${h},${l}`)),i=s.jsx(p,{children:a},`row${l}`);r.push(i)}return r},[t]);return s.jsx($,{children:s.jsx(E,{children:n()})})},O=()=>{const[{reel:e,player:t,dealer:n},r]=S(w),[l,a]=d.useState(0),i=()=>{const m=b.pullHandle(),{bet:h}=t,x=b.getPayout(m,h)-h;a(x),r({reel:m,player:{...t,money:t.money+x},dealer:{...n,money:n.money-x}})};return s.jsxs(s.Fragment,{children:[s.jsx(j,{variant:"h2",component:"h1",children:"Casino Slot Machine"}),s.jsxs(y,{container:!0,spacing:1,style:{marginTop:"2em"},children:[s.jsxs(y,{item:!0,sm:6,xs:12,children:[s.jsxs(y,{container:!0,spacing:1,style:{marginBottom:"1em"},children:[s.jsxs(y,{item:!0,sm:3,xs:12,children:[s.jsx(P,{onClick:i,style:{marginBottom:15},variant:"contained",children:"Spin"}),l?s.jsx(j,{variant:"h4",component:"h2",children:`You ${l>0?"won":"lost"} $${l}`}):null]}),s.jsx(y,{item:!0,sm:9,xs:12,children:s.jsx(D,{reel:e})})]}),s.jsx(I,{playerMoney:t.money,playerName:t.name,dealerMoney:n.money})]}),s.jsx(y,{item:!0,sm:6,xs:12,children:s.jsx(v,{})})]})]})},G=O;export{G as default};
//# sourceMappingURL=index-a6e8ed11.js.map
