import{Q as C,S as v,r as d,j as n,I as y,ab as E,H as k,O as G}from"./index-yQ5smefD.js";import{p as $}from"./PlayerMenu-BnqKcaXO.js";import{A as K}from"./Add-CsCuiTHr.js";import{R as P}from"./Remove-BB8i7d05.js";import{T as p,I as M}from"./Header-BlmtHWZ5.js";import{C as D}from"./Card-C4H5aIET.js";import{b as N}from"./blueGrey-DU_9M4pp.js";import{B as _}from"./Button-CZovVScn.js";const q={player:0,hand:0},rt=C("turnAtom",q),T=[{name:"2",weight:2,suit:"♣"},{name:"3",weight:3,suit:"♣"},{name:"4",weight:4,suit:"♣"},{name:"5",weight:5,suit:"♣"},{name:"6",weight:6,suit:"♣"},{name:"7",weight:7,suit:"♣"},{name:"8",weight:8,suit:"♣"},{name:"9",weight:9,suit:"♣"},{name:"10",weight:10,suit:"♣"},{name:"J",weight:11,suit:"♣"},{name:"Q",weight:12,suit:"♣"},{name:"K",weight:13,suit:"♣"},{name:"A",weight:14,suit:"♣"},{name:"2",weight:2,suit:"♦"},{name:"3",weight:3,suit:"♦"},{name:"4",weight:4,suit:"♦"},{name:"5",weight:5,suit:"♦"},{name:"6",weight:6,suit:"♦"},{name:"7",weight:7,suit:"♦"},{name:"8",weight:8,suit:"♦"},{name:"9",weight:9,suit:"♦"},{name:"10",weight:10,suit:"♦"},{name:"J",weight:11,suit:"♦"},{name:"Q",weight:12,suit:"♦"},{name:"K",weight:13,suit:"♦"},{name:"A",weight:14,suit:"♦"},{name:"2",weight:2,suit:"♥"},{name:"3",weight:3,suit:"♥"},{name:"4",weight:4,suit:"♥"},{name:"5",weight:5,suit:"♥"},{name:"6",weight:6,suit:"♥"},{name:"7",weight:7,suit:"♥"},{name:"8",weight:8,suit:"♥"},{name:"9",weight:9,suit:"♥"},{name:"10",weight:10,suit:"♥"},{name:"J",weight:11,suit:"♥"},{name:"Q",weight:12,suit:"♥"},{name:"K",weight:13,suit:"♥"},{name:"A",weight:14,suit:"♥"},{name:"2",weight:2,suit:"♠"},{name:"3",weight:3,suit:"♠"},{name:"4",weight:4,suit:"♠"},{name:"5",weight:5,suit:"♠"},{name:"6",weight:6,suit:"♠"},{name:"7",weight:7,suit:"♠"},{name:"8",weight:8,suit:"♠"},{name:"9",weight:9,suit:"♠"},{name:"10",weight:10,suit:"♠"},{name:"J",weight:11,suit:"♠"},{name:"Q",weight:12,suit:"♠"},{name:"K",weight:13,suit:"♠"},{name:"A",weight:14,suit:"♠"}],z=(e,s)=>e.weight-s.weight,L=()=>{const e=[];T.forEach(s=>e.push(s));for(let s=0;s<100;s+=1){const a=Math.floor(Math.random()*e.length),h=Math.floor(Math.random()*e.length),r=e[a];e[a]=e[h],e[h]=r}return e},A=C("deckAtom",T),ct=v(null,(e,s)=>{s(A,L())}),ut=v(null,(e,s,a,h,r=[])=>{const t=e(A),m=[];t.forEach(c=>m.push(c));const i=[];if(a<=m.length)for(let c=0;c<a;c+=1){const w=m.pop();w&&i.push(w)}const g=[...e($)],l=g.findIndex(c=>c.id===h),u=g[l];u.hands[0]={cards:[...r,...i],weight:0,soft:!1},u.hands[0].cards.sort(z),s(A,m),s($,g)}),O={border:0,backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:"0 3px 12px 3px",width:50},U={textAlign:"left"},V={margin:"auto",marginTop:5,textAlign:"center",width:"100%"},j={cardFace:O,cardTitle:U,suit:V},S=d.memo(({dropped:e,suit:s,name:a,cardHandler:h,playerNo:r,handNo:t,cardNo:m})=>{const i=d.useCallback(()=>{h&&h(r,t,m)},[h,m,t,r]),o={color:s==="♣"||s==="♠"?"black":y[500],backgroundColor:e?y[100]:"white"};return n.jsxs("button",{style:{...j.cardFace,...o},onClick:i,children:[n.jsx("div",{style:j.cardTitle,children:a+s}),n.jsx(p,{variant:"h4",style:{...j.suit,...o},children:s})]})});S.displayName="Card";const X={fontWeight:"bold",marginTop:"0.5em"},Y={fontWeight:"normal",marginTop:"0.5em"},Z=({cardHandler:e,cardsToDiscard:s,hand:a,handNo:h,isBlackJack:r,isHandTurn:t,isMultiHand:m,isPlayerTurn:i,playerNo:o})=>{const g=d.useMemo(()=>i&&(!m||m&&t)?{...X,color:E[700]}:Y,[i,m,t]),l=a.weight||0;return n.jsxs(n.Fragment,{children:[n.jsx(p,{variant:"h4",style:g,children:r&&`${l>21?"Bust":"Hand"}: ${l}`}),a.cards.map((u,c)=>{const w=s.includes(c);return u?n.jsx(S,{cardHandler:e,cardNo:c,dropped:w,handNo:h,name:u.name,playerNo:o,suit:u.suit},u.name+u.suit):null})]})},J={borderRadius:5,display:"inline-block",margin:10,padding:20},H={player:J},tt=({betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:h,isBlackJack:r,player:t,playerNo:m,turn:i})=>{const o=!!i&&m===i.player,g=t.hands.length>1,l=!!h&&r&&t.id!==0&&!t.isBot,u=Math.max(Math.min(t.money,5),0),c=Math.max(Math.min(t.money,100),10),w=()=>{e&&e(t.id,t.bet-5)},F=()=>{e&&e(t.id,t.bet+5)},I={fontWeight:o?"bold":"normal"};let x={background:k[900],color:"white"};return t.status==="win"?x={background:G[300],color:"white"}:t.status==="draw"?x={background:N[300],color:"white"}:t.status==="lose"?x={background:y[300],color:"white"}:o&&(x={background:k[300],color:"black"}),n.jsxs(D,{style:{...H.player,...x},children:[n.jsx(p,{variant:"h4",component:"h2",style:{...I},children:`${t.name}: $${t.money}`}),l&&n.jsx(M,{onClick:w,color:"primary",disabled:t.bet<=u,children:n.jsx(P,{})}),t.bet,l&&n.jsx(M,{onClick:F,color:"primary",disabled:t.bet>=c,children:n.jsx(K,{})}),r&&t.id!==0&&n.jsx(p,{variant:"h5",component:"h3",children:`Bet: $${t.bet}`}),t.hands.map((Q,f)=>{const R=!!i&&i.hand===f;return n.jsx("div",{children:!h&&n.jsx(Z,{cardHandler:s,cardsToDiscard:a,hand:Q,handNo:f,isBlackJack:r,isHandTurn:R,isMultiHand:g,isPlayerTurn:o,playerNo:m})},`hand${f}`)})]})},b=({betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:h,isBlackJack:r,players:t,turn:m})=>n.jsx(n.Fragment,{children:t.map((i,o)=>n.jsx(tt,{betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:h,isBlackJack:r,player:i,playerNo:o,turn:m},`player${o}`))}),W=d.memo(({onClick:e,name:s})=>n.jsx(_,{onClick:()=>e(s),style:{margin:12},variant:"contained",children:s}));W.displayName="Button";const B=({gameFunctions:e,onClick:s})=>n.jsx("div",{children:e.map(a=>n.jsx(W,{onClick:s,name:a},a))}),gt=({betHandler:e,cardClickHandler:s,cardsToDiscard:a=[],gameFunctions:h=[],gameOver:r=!1,hideHands:t=!1,isBlackJack:m=!0,players:i,turn:o,onClick:g})=>{const l=d.useMemo(()=>i.slice(0,o.player+1),[i,o.player]),u=d.useMemo(()=>i.slice(o.player+1),[i,o.player]),c=d.useMemo(()=>!t&&r===!1?i.slice(o.player,o.player+1):i,[t,r,i,o.player]);return m&&!t?n.jsxs(n.Fragment,{children:[n.jsx(b,{players:l,betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:t,isBlackJack:m,turn:o}),n.jsx(B,{gameFunctions:h,onClick:g}),n.jsx(b,{players:u,betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:t,isBlackJack:m,turn:{player:-1,hand:-1}})]}):n.jsxs(n.Fragment,{children:[n.jsx(b,{players:c,betHandler:e,cardHandler:s,cardsToDiscard:a,hideHands:t,isBlackJack:m,turn:o}),n.jsx(B,{gameFunctions:h,onClick:g})]})};export{gt as G,ct as a,ut as d,z as r,L as s,rt as t};
//# sourceMappingURL=GameTable-D5QOGX_Y.js.map
