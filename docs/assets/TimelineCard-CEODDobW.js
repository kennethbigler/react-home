import{r as x,E as T,j as o}from"./index-eG4mc5yy.js";import{d as v}from"./DateHelper-BL5QNkII.js";import{E as R}from"./ExpandableCard-gY5n_Ih5.js";import{u as $}from"./Header-coIKKBJv.js";import{M as F,w as L,T as O}from"./timeline-consts-BkpfTtS6.js";const A={cursor:"default",paddingTop:"5px",paddingBottom:"5px",textAlign:"center",borderRadius:2},W=x.memo(d=>{const{palette:{mode:e}}=$(),{body:n,width:i,color:m,title:h,inverted:p}=d;let l={display:"inline-block",width:`${i}%`,color:p?"black":T[50]};return n&&(l={...l,...A,backgroundColor:m,boxShadow:`2px 3px 4px 1px ${e!=="dark"?T[400]:T[700]}`}),o.jsx("div",{style:l,title:h,children:n||o.jsx("br",{})})});W.displayName="Segment";const C={cursor:"default",height:500,marginBottom:-500,minWidth:1},B={...C,backgroundColor:T[200],width:"100%",maxWidth:2.5},q={position:"relative",right:22},G=d=>{const{data:{body:e,width:n}}=d,i={display:"inline-block",width:`${n}%`};return e?o.jsx("div",{style:{...i,...C},title:e,children:o.jsx("div",{style:B,title:"year-marker",children:o.jsx("div",{style:q,children:e})})}):o.jsx("div",{title:"year",style:i,children:o.jsx("br",{})})},X={marginTop:10},z={marginTop:20},J={height:0},_=d=>{const{segments:e,yearMarkers:n=!1,first:i=!1}=d;let m=X;return n?m=J:i&&(m=z),o.jsx("div",{style:m,title:"timeline-row",children:e.map((h,p)=>n?o.jsx(G,{data:h},p):o.jsx(W,{...h},p))})},S=99,K=269,P=85,Q=54,Y=.3,E=(d,e)=>{e>0&&d.push({width:e})},U=d=>{const{start:e,end:n,selector:i,data:m,yearMarkerFrequency:h,enableLongTitles:p}=d,l=x.useMemo(()=>[...m].sort(F),[m]),b=[],y=x.useCallback(a=>{const s=n.diff(e,"months"),t=a.diff(e,"months"),g=Math.floor(t/s*S);return g>0?g:0},[n,e]),I=x.useCallback((a,s,t,g)=>{const{color:f,inverted:r,title:c,short:u,char:j}=s,M=g-t,w=M*(window.innerWidth-64)/S,k={color:f,inverted:r,width:M,title:c};w<Q?a.push({body:j||s[i].substr(0,1),...k}):w<P?a.push({body:u,...k}):!p||w<K?a.push({body:s[i],...k}):a.push({body:c,...k})},[i,p]),D=(a,s)=>{if(b[s])return[];const t=[],{start:g,end:f}=a;let r=y(g),c=y(f);E(t,r),I(t,a,r,c),b[s]=!0;for(let u=s+1;u<l.length;u+=1)if(!b[u]){const{start:j,end:M}=l[u];r=y(j),r>=c&&(E(t,r-c),c=y(M),I(t,l[u],r,c),b[u]=!0)}return E(t,S-c),[...t]},H=x.useCallback(()=>{const a=Number(e.format("YYYY")),s=Number(n.format("YYYY")),t=[];for(let r=a+1;r<=s;r+=h)t.push(v(`${r}`));const g={width:Y,body:t[0].format("'YY")},f=[{width:y(t[0])-Y},g];for(let r=1;r<t.length;r+=1){const c=y(t[r-1]),u=y(t[r]);f.push({width:u-c-Y}),f.push({width:Y,body:t[r].format("'YY")})}return f},[n,y,e,h]);return o.jsxs("div",{style:{width:"100%",paddingBottom:7},children:[o.jsx(_,{segments:H(),yearMarkers:!0},l.length),l.map((a,s)=>{const t=D(a,s);return t.length?o.jsx(_,{segments:t,first:s===0},s):null})]})},N="MMMM Y",st=d=>{const{data:e=L,backgroundColor:n=T[800],title:i=O,selector:m="company",start:h=v("2011-09"),end:p=v(),yearMarkerFrequency:l=1,enableLongTitles:b}=d;return o.jsx(R,{backgroundColor:n,subtitle:`${h.format(N)} - ${p.format(N)}`,title:i,children:o.jsx(U,{data:e,selector:m,start:h,end:p,yearMarkerFrequency:l,enableLongTitles:b})})};export{st as T};
//# sourceMappingURL=TimelineCard-CEODDobW.js.map
