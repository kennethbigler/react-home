import{M as S,r as h,j as n,E as A,A as B}from"./index-DMtdgkeS.js";import{l as v,T as f,u as H,P as E}from"./Header-CUtYRLvS.js";import{B as y}from"./Button-sUGzSBx_.js";import{c as G,T as M,a as O,b as P}from"./TableRow-ChLKlD5P.js";const x="X",g="O",j=null,k=()=>({history:[{board:Array(9).fill(j)}],turn:x,step:0}),_=S({key:"tikTacToeAtom",default:JSON.parse(localStorage.getItem("tik-tac-toe-atom")||"null")||k(),effects:[({onSet:t})=>{t(e=>{localStorage.setItem("tik-tac-toe-atom",JSON.stringify(e))})}]}),C=h.memo(({winner:t,turn:e,newGame:s})=>n.jsxs(v,{children:[n.jsx(f,{style:{flex:1},variant:"h4",component:"h2",children:t?`Winner: ${t}`:`Turn: ${e}`}),n.jsx(y,{onClick:s,variant:"contained",children:"Reset Game"})]}));C.displayName="Header";const $=t=>t%2?g:x;function b(t){const e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let s=0;s<e.length;s+=1){const[o,r,c]=e[s];if(t[o]!==j&&t[o]===t[r]&&t[o]===t[c])return{winner:t[o],winRow:e[s]}}return{winner:null,winRow:[]}}const F=t=>{const[e,s]=h.useState(!0),{history:o,step:r,jumpToStep:c}=t,d=h.useCallback((i,a)=>{const T=i.location||0,w=a?`Move #${a} (${$(a-1)}, ${Math.floor(T/3)}, ${T%3})`:"Game Start (Turn, Col, Row)",l=r===a?"secondary":"primary";return n.jsx(y,{color:l,onClick:()=>c(a),style:{display:"block"},children:w},a)},[c,r]),u=o.map(d);return e||u.reverse(),n.jsxs(n.Fragment,{children:[n.jsx(y,{onClick:()=>{s(!e)},style:{marginTop:20,marginBottom:20},variant:"contained",children:e?"Asc":"Desc"}),u]})},R=h.memo(t=>{const{value:e,winner:s,onClick:o}=t,{palette:{primary:{main:r}}}=H(),c=s?{color:"white",backgroundColor:r}:{};return n.jsx(y,{onClick:o,style:c,"aria-label":`Tic Tac Toe Play Button ${e?`${e} selected`:"available"}`,children:e||n.jsx("br",{})})});R.displayName="Cell";const I={padding:0,textAlign:"center",border:`1px solid ${A[400]}`},J=t=>{const{board:e,onClick:s,winRow:o}=t,r=[];for(let c=0;c<3;c+=1){const d=[];for(let i=0;i<3;i+=1){const a=c*3+i,T=o.includes(a);d.push(n.jsx(G,{style:I,children:n.jsx(R,{onClick:()=>s(a),value:e[a],winner:T})},`${c},${i}`))}const u=n.jsx(P,{children:d},`row${c}`);r.push(u)}return n.jsx(M,{"aria-label":"game of Tik Tac Toe in a 3 by 3 grid",children:n.jsx(O,{children:r})})},N={width:343,display:"block",margin:"auto"},z=()=>{const[t,e]=B(_),{turn:s,step:o,history:r}=t,c=l=>{const m=r.slice(0,o+1),p=m[o].board.slice();!b(p).winner&&p[l]===j&&(p[l]=s,e({history:m.concat([{board:p,location:l}]),step:m.length,turn:s===x?g:x}))},d=()=>e(k()),u=l=>{const m={step:l,turn:$(l),history:r};o===l&&(m.history=r.slice(0,o+1)),e(m)},a=r[o].board.slice(),{winner:T,winRow:w}=b(a);return n.jsxs(n.Fragment,{children:[n.jsx(f,{variant:"h2",component:"h1",gutterBottom:!0,children:"Tic-Tac-Toe"}),n.jsxs(E,{elevation:2,style:N,children:[n.jsx(C,{newGame:d,turn:s,winner:T}),n.jsx(J,{board:a,onClick:c,winRow:w})]}),n.jsx(F,{history:r,jumpToStep:u,step:o})]})};export{z as default};
//# sourceMappingURL=index-DehXsji3.js.map
