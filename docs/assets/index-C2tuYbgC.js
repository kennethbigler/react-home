import{j as t,S as B,D as C,o as y}from"./index-BYmmaOIz.js";import{G as u}from"./Grid2-EvU4AiF6.js";import{T as F}from"./TextField-mMqoTOMN.js";import{C as f}from"./Chip-DHtgYKKD.js";import{A}from"./Avatar-C2MIPOgb.js";import{T as m,M as X,D as R}from"./Header-BWQdkmh-.js";import{B as v}from"./ButtonGroup-CcJkpz3B.js";import{B as x}from"./Button-YBGCnGTf.js";import{D as E,a as D,b as N,c as L}from"./DialogTitle-DmO-loM9.js";import{F as $,I as V,S as H}from"./Select-PX9X60RR.js";import"./useThemeProps-fCjGdtev.js";import"./isMuiElement-BhesGXfG.js";import"./useSlotProps-WQD5ZKcI.js";const z=e=>{switch(e){case 0:return;case 1:return"error";case 2:default:return"primary"}},k=(e,r)=>r?e?"Forced":"Finale":e?"Side":"Story",I=({mission:e,onVictoryClick:r,onNameBlur:n,onRShopClick:a,onEShopClick:i})=>t.jsxs(t.Fragment,{children:[t.jsx(u,{size:{xs:6,sm:3},children:t.jsx(F,{label:`${k(e.isSide,!a)} Mission`,color:k(e.isSide,!a)==="Forced"?"error":void 0,variant:"outlined",value:e.title,onChange:n,onBlur:n})}),t.jsx(u,{size:{xs:6,sm:3},children:t.jsx(f,{avatar:t.jsx(A,{children:e.threat}),label:"Threat",color:z(e.victory),variant:e.victory>0?void 0:"outlined",onClick:r})}),a!==void 0&&t.jsxs(t.Fragment,{children:[t.jsx(u,{size:{xs:6,sm:3},children:t.jsx(f,{label:`Tier ${e.shop} Items, Spend XP`,color:e.rShop?"error":void 0,variant:e.rShop?void 0:"outlined",onClick:a})}),t.jsx(u,{size:{xs:6,sm:3},children:t.jsx(f,{label:"Agenda, Spend XP",color:e.eShop?"primary":void 0,variant:e.eShop?void 0:"outlined",onClick:i})})]})]}),s={isSide:!1,victory:0,rShop:!1,eShop:!1,title:""},M=e=>({...s,isSide:!0,threat:e,shop:""}),P=[{...s,threat:2,shop:"1",title:"Aftermath"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2 & 3",isSide:!0},{...s,threat:5,shop:"3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:""}],O=[{...s,threat:3,shop:"1 & 2",title:"Hunted Down"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],G=[{...s,threat:2,shop:"1",title:"The Battle of Hoth"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2",title:"Return to Echo Base"},{...s,threat:4,shop:"2 & 3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:"",title:"Our Last Hope"}],W=[{...s,threat:3,shop:"1 & 2",title:"Reclamation"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],J=[{...s,threat:2,shop:"1",title:"Trespass"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2",isSide:!0},{...s,threat:4,shop:"2 & 3",title:"Moment of Fate"},{...s,threat:5,shop:"3"},{...s,threat:5,shop:"3",isSide:!0},{...s,threat:6,shop:"3"},{...s,threat:6,shop:""}],q=[{...s,threat:2,shop:"1",title:"Dark Recon"},{...s,threat:2,shop:"1",isSide:!0},{...s,threat:3,shop:"1 & 2"},{...s,threat:3,shop:"1 & 2",isSide:!0},{...s,threat:4,shop:"2"},{...s,threat:4,shop:"2 & 3",isSide:!0},{...s,threat:5,shop:"2 & 3"},{...s,threat:5,shop:""}],K=[{...s,threat:3,shop:"1 & 2",title:"Call to Action"},{...s,threat:4,shop:"2",isSide:!0,title:"The Pirate's Plot"},{...s,threat:4,shop:"2"},{...s,threat:5,shop:"2",isSide:!0},{...s,threat:5,shop:"2 & 3"},{...s,threat:6,shop:"3",isSide:!0,title:"The Admiral's Grip"},{...s,threat:6,shop:"",title:"The Final Order"}],Q={campaign:P,campaignIdx:"0",forcedMissions:[M(2)],credits:"0",rebelXP:[0,0,0,0],xp:0,influence:0},S=B("impAssAtom",Q),U=[P,O,G,W,J,q,K],Y=()=>{const[{campaignIdx:e},r]=C(S);return{campaignIdx:e,handleCampaignChange:a=>{const i=[...U[parseInt(a)]];let c="0",o=[0,0,0,0],h=0;a==="1"||a==="3"?(o=[3,3,3,3],c="400",h=3):a==="6"&&(o=[2,2,2,2],c="300",h=2),r({campaignIdx:a,campaign:i,forcedMissions:[M(i[0].threat)],credits:c,rebelXP:o,xp:h,influence:0})}}},Z=()=>{const[{rebelXP:e,credits:r,...n},a]=C(S);return{rebelXP:e,credits:r,handleXPClick:(o,h)=>()=>{const l=[...e];l[o]=h,a({...n,credits:r,rebelXP:l})},updateCredits:o=>a({...n,rebelXP:e,credits:o.target.value||""})}},_=()=>{const[{xp:e,influence:r,...n},a]=C(S);return{xp:e,influence:r,handleXPClick:o=>()=>a({...n,influence:r,xp:o}),handleInfluenceClick:o=>()=>a({...n,xp:e,influence:o})}},ee=()=>{const[{campaign:e,forcedMissions:r,...n},a]=C(S);return{campaign:e,handleRShopClick:l=>()=>{if(!e[l].victory&&!e[l].rShop)return;const p=[...e],d={...e[l],rShop:!e[l].rShop};p[l]=d,a({...n,forcedMissions:r,campaign:p})},handleEShopClick:l=>()=>{if(!e[l].victory&&!e[l].eShop)return;const p=[...e],d={...e[l],eShop:!e[l].eShop};p[l]=d,a({...n,forcedMissions:r,campaign:p})},handleVictoryClick:l=>()=>{if(e[l].title==="")return;const p=[...e],d={...e[l],victory:(e[l].victory+1)%3};p[l]=d;const g=[...r],j=g.length-1;if(g[j].title===""){const T={...g[j],threat:p[l].threat};g[j]=T}a({...n,forcedMissions:g,campaign:p})},updateMissionName:l=>p=>{const d=[...e],g={...e[l],title:p.target.value||""};d[l]=g,a({...n,forcedMissions:r,campaign:d})}}},te=()=>{const[{forcedMissions:e,...r},n]=C(S);return{forcedMissions:e,handleVictoryClick:c=>()=>{if(e[c].title==="")return;const o=[...e];o[c].victory=(e[c].victory+1)%3,c===e.length-1&&o.push(M(e[c].threat)),n({...r,forcedMissions:o})},updateMissionName:c=>o=>{const h=[...e],l={...h[c],title:o.target.value||""};h[c]=l,n({...r,forcedMissions:h})}}},se=()=>{const{campaign:e,handleEShopClick:r,handleRShopClick:n,handleVictoryClick:a,updateMissionName:i}=ee();return t.jsxs(t.Fragment,{children:[t.jsx(m,{variant:"h3",gutterBottom:!0,children:"Missions"}),t.jsx(u,{container:!0,alignItems:"center",marginBottom:3,spacing:1,children:e.map((c,o)=>{const h=o>=e.length-1;return t.jsx(I,{mission:c,onNameBlur:i(o),onVictoryClick:a(o),onEShopClick:h?void 0:r(o),onRShopClick:h?void 0:n(o)},o)})})]})},w=[0,1,2,3,4,5,6],ie=()=>{const{xp:e,influence:r,handleXPClick:n,handleInfluenceClick:a}=_();return t.jsxs(u,{size:{xs:12,md:4},children:[t.jsx(m,{variant:"h3",gutterBottom:!0,children:"Empire"}),t.jsx(m,{children:"XP"}),t.jsx(v,{"aria-label":"Empire experience level",fullWidth:!0,sx:{marginBottom:2},children:w.map(i=>t.jsx(x,{variant:e===i?"contained":"outlined",onClick:n(i),"aria-label":`${i} experience`,children:i},i))}),t.jsx(m,{children:"Influence"}),t.jsx(v,{"aria-label":"Empire influence level",fullWidth:!0,children:w.map(i=>t.jsx(x,{variant:r===i?"contained":"outlined",onClick:a(i),"aria-label":`${i} influence`,children:i},i))})]})},ae=()=>{const{forcedMissions:e,handleVictoryClick:r,updateMissionName:n}=te();return t.jsxs(t.Fragment,{children:[t.jsx(m,{variant:"h3",gutterBottom:!0,children:"Forced Missions"}),t.jsx(u,{container:!0,alignItems:"center",marginBottom:3,children:e.map((a,i)=>t.jsx(I,{mission:a,onNameBlur:n(i),onVictoryClick:r(i)},i))})]})},b=["Imperial Assault Campaign Log","Twin Shadows Campaign Log","Return to Hoth Campaign Log","The Bespin Gambit Campaign Log","Jabba&apos;s Realm Campaign Log","Heart of the Empire Campaign Log","Tyrants of Lothal Campaign Log"],re=({oldC:e,newC:r,open:n,onClose:a,onSave:i})=>t.jsxs(E,{title:"info-popup",onClose:a,open:n,children:[t.jsx(D,{children:"New Campaign"}),t.jsxs(N,{children:["Are you sure you want to switch from:",t.jsx("br",{"aria-hidden":!0}),b[parseInt(e)]," > ",b[parseInt(r)],"?"]}),t.jsxs(L,{children:[t.jsx(x,{color:"error",onClick:i,children:"New Campaign"}),t.jsx(x,{color:"primary",onClick:a,children:"Cancel"})]})]}),ne=()=>{const{campaignIdx:e,handleCampaignChange:r}=Y(),[n,a]=y.useState(e),[i,c]=y.useState(!1),o=()=>c(!1),h=()=>{r(n),o()},l=p=>{a(p.target.value),c(!0)};return t.jsxs("div",{className:"flex-container",children:[t.jsx(m,{variant:"h2",component:"h1",gutterBottom:!0,children:"Imperial Assault"}),t.jsxs($,{children:[t.jsx(V,{id:"campaign-select-label",children:"Campaign"}),t.jsx(H,{labelId:"campaign-select-label",value:e,label:"Campaign",onChange:l,children:b.map((p,d)=>t.jsx(X,{value:`${d}`,children:p},`campaign-${d}`))})]}),t.jsx(re,{oldC:e,newC:n,open:i,onClose:o,onSave:h})]})},oe=[0,1,2,3],le=[0,1,2,3,4,5,6],ce=()=>{const{rebelXP:e,credits:r,handleXPClick:n,updateCredits:a}=Z();return t.jsxs(u,{size:{xs:12,md:8},children:[t.jsxs("div",{className:"flex-container",children:[t.jsx(m,{variant:"h3",gutterBottom:!0,children:"Rebels"}),t.jsx(F,{label:"CREDITS",color:"error",slotProps:{input:{startAdornment:"á–¬"}},value:r,onChange:a,onBlur:a})]}),t.jsx(u,{container:!0,spacing:2,marginBottom:3,children:oe.map(i=>t.jsxs(u,{size:{xs:12,sm:6},children:[t.jsxs(m,{children:["Rebel ",i+1]}),t.jsx(v,{"aria-label":`Rebel ${i}'s experience`,fullWidth:!0,color:"error",children:le.map(c=>t.jsx(x,{variant:e[i]===c?"contained":"outlined",onClick:n(i,c),"aria-label":`${c} experience`,children:c},`${i}-${c}`))})]},i))})]})},Me=()=>t.jsxs(t.Fragment,{children:[t.jsx(ne,{}),t.jsxs(u,{container:!0,spacing:2,children:[t.jsx(ce,{}),t.jsx(ie,{})]}),t.jsx(R,{"aria-hidden":!0}),t.jsx(se,{}),t.jsx(ae,{})]});export{Me as default};
//# sourceMappingURL=index-C2tuYbgC.js.map
