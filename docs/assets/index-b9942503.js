import{I as $,r as p,j as n,$ as R,J as S}from"./index-f6f0a7d4.js";import{A as v,T as f,v as x,f as A,P as B}from"./MenuItem-94bd3390.js";import{c as G,T as H,a as O,b as P}from"./TableRow-d5e4ac78.js";const y="X",g="O",j=null,k=()=>({history:[{board:Array(9).fill(j)}],turn:y,step:0}),_=$({key:"tikTacToeAtom",default:JSON.parse(localStorage.getItem("tik-tac-toe-atom")||"null")||k(),effects:[({onSet:t})=>{t(e=>{localStorage.setItem("tik-tac-toe-atom",JSON.stringify(e))})}]}),E=p.memo(({winner:t,turn:e,newGame:s})=>n.jsxs(v,{children:[n.jsx(f,{style:{flex:1},variant:"h4",component:"h2",children:t?`Winner: ${t}`:`Turn: ${e}`}),n.jsx(x,{onClick:s,variant:"contained",children:"Reset Game"})]})),C=t=>t%2?g:y;function b(t){const e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let s=0;s<e.length;s+=1){const[o,r,c]=e[s];if(t[o]!==j&&t[o]===t[r]&&t[o]===t[c])return{winner:t[o],winRow:e[s]}}return{winner:null,winRow:[]}}const I=t=>{const[e,s]=p.useState(!0),{history:o,step:r,jumpToStep:c}=t,u=p.useCallback((i,a)=>{const T=i.location||0,w=a?`Move #${a} (${C(a-1)}, ${Math.floor(T/3)}, ${T%3})`:"Game Start (Turn, Col, Row)",l=r===a?"secondary":"primary";return n.jsx(x,{color:l,onClick:()=>c(a),style:{display:"block"},children:w},a)},[c,r]),d=o.map(u);return!e&&d.reverse(),n.jsxs(n.Fragment,{children:[n.jsx(x,{onClick:()=>{s(!e)},style:{marginTop:20,marginBottom:20},variant:"contained",children:e?"Asc":"Desc"}),d]})},J=p.memo(t=>{const{value:e,winner:s,onClick:o}=t,{palette:{primary:{main:r}}}=A(),c=s?{color:"white",backgroundColor:r}:{};return n.jsx(x,{onClick:o,style:c,"aria-label":`Tic Tac Toe Play Button ${e?`${e} selected`:"available"}`,children:e||n.jsx("br",{})})}),M={padding:0,textAlign:"center",border:`1px solid ${R[400]}`},F=t=>{const{board:e,onClick:s,winRow:o}=t,r=[];for(let c=0;c<3;c+=1){const u=[];for(let i=0;i<3;i+=1){const a=c*3+i,T=o.includes(a);u.push(n.jsx(G,{style:M,children:n.jsx(J,{onClick:()=>s(a),value:e[a],winner:T})},`${c},${i}`))}const d=n.jsx(P,{children:u},`row${c}`);r.push(d)}return n.jsx(H,{children:n.jsx(O,{children:r})})},W={width:343,display:"block",margin:"auto"},X=()=>{const[t,e]=S(_),{turn:s,step:o,history:r}=t,c=l=>{const h=r.slice(0,o+1),m=h[o].board.slice();!b(m).winner&&m[l]===j&&(m[l]=s,e({history:h.concat([{board:m,location:l}]),step:h.length,turn:s===y?g:y}))},u=()=>e(k()),d=l=>{const h={step:l,turn:C(l),history:r};o===l&&(h.history=r.slice(0,o+1)),e(h)},a=r[o].board.slice(),{winner:T,winRow:w}=b(a);return n.jsxs(n.Fragment,{children:[n.jsx(f,{variant:"h2",component:"h1",gutterBottom:!0,children:"Tic-Tac-Toe"}),n.jsxs(B,{elevation:2,style:W,children:[n.jsx(E,{newGame:u,turn:s,winner:T}),n.jsx(F,{board:a,onClick:c,winRow:w})]}),n.jsx(I,{history:r,jumpToStep:d,step:o})]})},K=X;export{K as default};
//# sourceMappingURL=index-b9942503.js.map
