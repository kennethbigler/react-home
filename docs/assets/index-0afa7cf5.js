import{J as N,j as t,b as W,g as D,s as G,w as L,k as y,c as g,r as k,u as V,d as K,e as _,f as H,Q as O,K as S}from"./index-cb293786.js";import{r as U,i as q,B as J,n as Y,A as Q,T,t as X,P as Z}from"./MenuItem-f1629f13.js";import{l as ee}from"./lightGreen-e8907599.js";import{c as $,b as E,T as oe,a as se}from"./TableRow-1f2d22f0.js";import{T as ae}from"./TableHead-90899a48.js";const B=0,m=1,C=2;var h=(e=>(e[e.EMPTY=0]="EMPTY",e[e.RED=1]="RED",e[e.BLACK=2]="BLACK",e))(h||{});const te=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],R=(e,o)=>(e.push([...o]),e),I=()=>({board:te.reduce(R,[]),winner:void 0,turn:1}),re=N({key:"connect4Atom",default:JSON.parse(localStorage.getItem("connect4-atom")||"null")||I(),effects:[({onSet:e})=>{e(o=>{localStorage.setItem("connect4-atom",JSON.stringify(o))})}]}),f=(e,o,a,s)=>{if(e[o]!==void 0){const r=e[o][a];r!==void 0&&(r===s[B]&&r!==h.EMPTY?(s[m].push([o,a]),s[m].length>s[C].length&&(s[C]=[...s[m]])):(s[B]=r,s[m]=[[o,a]]))}};var w={},ne=q;Object.defineProperty(w,"__esModule",{value:!0});var M=w.default=void 0,ie=ne(U()),ce=t,le=(0,ie.default)((0,ce.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");M=w.default=le;function de(e){return D("MuiFab",e)}const ue=W("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),F=ue,pe=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],be=e=>{const{color:o,variant:a,classes:s,size:r}=e,u={root:["root",a,`size${y(r)}`,o==="inherit"?"colorInherit":o]},d=H(u,de,s);return g({},s,d)},he=G(J,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>L(e)||e==="classes",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[a.variant],o[`size${y(a.size)}`],a.color==="inherit"&&o.colorInherit,o[y(a.size)],o[a.color]]}})(({theme:e,ownerState:o})=>{var a,s;return g({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(a=(s=e.palette).getContrastText)==null?void 0:a.call(s,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${F.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},o.size==="small"&&{width:40,height:40},o.size==="medium"&&{width:48,height:48},o.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},o.variant==="extended"&&o.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},o.variant==="extended"&&o.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},o.color==="inherit"&&{color:"inherit"})},({theme:e,ownerState:o})=>g({},o.color!=="inherit"&&o.color!=="default"&&(e.vars||e).palette[o.color]!=null&&{color:(e.vars||e).palette[o.color].contrastText,backgroundColor:(e.vars||e).palette[o.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[o.color].main}}}),({theme:e})=>({[`&.${F.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),ge=k.forwardRef(function(o,a){const s=V({props:o,name:"MuiFab"}),{children:r,className:u,color:d="default",component:n="button",disabled:c=!1,disableFocusRipple:l=!1,focusVisibleClassName:p,size:x="large",variant:i="circular"}=s,b=K(s,pe),v=g({},s,{color:d,component:n,disabled:c,disableFocusRipple:l,size:x,variant:i}),j=be(v);return t.jsx(he,g({className:_(j.root,u),component:n,disabled:c,focusRipple:!l,focusVisibleClassName:_(j.focusVisible,p),ownerState:v,ref:a},b,{classes:j,children:r}))}),A=ge,xe=e=>{switch(e){case 0:return;case 1:return O[500];case 2:return"black";default:return ee[600]}},ve=e=>{const{ariaLabel:o,piece:a,enabled:s=!1,onClick:r=Y}=e,d={backgroundColor:xe(a)};return s?t.jsx(A,{size:"small",onClick:r,style:d,role:"button","aria-label":o,children:t.jsx(M,{style:{color:"white"}})}):t.jsx(A,{disabled:!0,size:"small",style:d,"aria-label":"disabled column input",children:t.jsx("div",{})})},z=k.memo(ve),P={padding:1,textAlign:"center"},me=e=>{const{board:o,turn:a,insert:s}=e,r=o.map((d,n)=>{const c=d.map((l,p)=>t.jsx($,{style:P,children:t.jsx(z,{piece:l})},`c4c${n},${p}`));return t.jsx(E,{children:c},`c4r${n}`)}).reverse(),u=o[o.length-1].map((d,n)=>t.jsx($,{style:P,children:t.jsx(z,{enabled:!d,onClick:()=>s(n),piece:d?0:a,ariaLabel:`insert piece into column ${n}`})},`c4h${n}`));return t.jsxs(oe,{children:[t.jsx(ae,{children:t.jsx(E,{children:u})}),t.jsx(se,{children:r})]})},fe=k.memo(e=>{const{winner:o,turn:a,newGame:s}=e,r=o?"Winner:":"Turn:",u=o||a;return t.jsx(Q,{children:t.jsxs("div",{className:"flex-container",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(T,{style:{marginRight:10},variant:"h4",component:"h2",children:r}),t.jsx(z,{piece:u})]}),t.jsx(X,{onClick:s,variant:"contained",children:"Reset Game"})]})})}),Ce=e=>{const{board:o,insert:a,winner:s,turn:r,newGame:u}=e;return t.jsxs(Z,{elevation:2,style:{maxWidth:900,minWidth:300,display:"block",margin:"auto",paddingBottom:5},children:[t.jsx(fe,{newGame:u,turn:r,winner:s}),t.jsx(me,{board:o,insert:a,turn:r})]})},je=()=>{const[{turn:e,board:o,winner:a},s]=S(re),r=()=>{s(I())},u=(n,c,l)=>{const p=[];for(let i=0;i<4;i+=1){const b=[],v=[];p.push([0,b,v])}for(let i=-3;i<=3;i+=1)f(l,n+i,c,p[0]),f(l,n,c+i,p[1]),f(l,n+i,c+i,p[2]),f(l,n-i,c+i,p[3]);const x=l.reduce(R,[]);p.forEach(i=>{i[C].length>=4&&(i[C].forEach(b=>{x[b[0]][b[1]]=3}),s({turn:e,winner:e,board:x}))})},d=n=>{if(!a&&!o[o.length-1][n]){let c=0;for(;o[c][n]!==0;)c+=1;const l=o.reduce(R,[]);l[c][n]=e,s({winner:a,turn:e===h.RED?h.BLACK:h.RED,board:l}),u(c,n,l)}};return t.jsxs(t.Fragment,{children:[t.jsx(T,{variant:"h2",component:"h1",gutterBottom:!0,children:"Welcome to Ken's Connect4 Game"}),t.jsx(Ce,{board:o,insert:d,newGame:r,turn:e,winner:a})]})},_e=je;export{_e as default};
//# sourceMappingURL=index-0afa7cf5.js.map
