{"version":3,"file":"index-BbTI6s2d.js","sources":["../../src/constants/werewolf.ts","../../src/components/games/werewolf/WerewolfPanel.tsx","../../src/components/games/werewolf/Werewolf.tsx"],"sourcesContent":["export interface Role {\n  name: string;\n  description: string;\n  value: number;\n  count?: number;\n}\n\nexport const villagers: Role[] = [\n  {\n    name: \"Mystic Seer\",\n    description: \"Each night, point to a player and learn their exact role.\",\n    value: 9,\n  },\n  {\n    name: \"Seer\",\n    description:\n      \"Each night choose a player to learn if that player is a Villager or a Werewolf.\",\n    value: 7,\n  },\n  {\n    name: \"Mentalist\",\n    description:\n      \"Each night you may point to two players, and are told if those players are on the same team or not.\",\n    value: 6,\n  },\n  {\n    name: \"Revealer\",\n    description:\n      \"Each night you may point to a player. If that player is a Werewolf, that player is eliminated. If that player is not, you are eliminated.\",\n    value: 4,\n  },\n  {\n    name: \"Apprentice Seer\",\n    description:\n      \"If the Seer is eliminated, you become the Seer, waking each night to look for Werewolves.\",\n    value: 4,\n  },\n  {\n    name: \"Witch\",\n    description:\n      \"You may save or eliminate a player at night once each per game.\",\n    value: 4,\n  },\n  {\n    name: \"Drunk\",\n    description:\n      \"You are a Villager until the 3rd night, when you sober up and learn your real role.\",\n    value: 4,\n  },\n  {\n    name: \"Bodyguard\",\n    description:\n      \"Each night, choose a player who cannot be eliminated that night.\",\n    value: 3,\n  },\n  {\n    name: \"Prince\",\n    description:\n      \"If you are voted to be eliminated, your role is revealed and you stay.\",\n    value: 3,\n  },\n  {\n    name: \"Diseased\",\n    description:\n      \"If you are eliminated by Werewolves, they don't get to eliminate anyone the following night.\",\n    value: 3,\n  },\n  {\n    name: \"Hunter\",\n    description:\n      \"If you are eliminated, you may immediately eliminate another player.\",\n    value: 3,\n  },\n  {\n    name: \"Huntress\",\n    description: \"You may eliminate a player at night once per game.\",\n    value: 3,\n  },\n  {\n    name: \"Priest\",\n    description:\n      \"One night per game, choose a player to be protected. That player may not be eliminated at night.\",\n    value: 3,\n  },\n  {\n    name: \"P.I.\",\n    description:\n      \"One night per game, choose a player. You'll be told if that player or one of his neighbors is a Werewolf.\",\n    value: 3,\n  },\n  {\n    name: \"Tough Guy\",\n    description:\n      \"If the Werewolves attempt to eliminate you, you are not eliminated until the following night.\",\n    value: 3,\n  },\n  {\n    name: \"Aura Seer\",\n    description:\n      \"Choose a player each night to see if that player is not a Werewolf or Villager.\",\n    value: 3,\n  },\n  {\n    name: \"Ghost\",\n    description:\n      \"The first night, you are eliminated. Communicate to the players with single letters each day.\",\n    value: 2,\n  },\n  {\n    name: \"Mayor\",\n    description: \"Your vote counts twice.\",\n    value: 2,\n  },\n  {\n    name: \"Mason\",\n    description: \"The first night, wake up to see who the other Mason is.\",\n    value: 2,\n    count: 3,\n  },\n  {\n    name: \"Village Idiot\",\n    description: \"You always vote for players to be eliminated.\",\n    value: 2,\n  },\n  {\n    name: \"Old Hag\",\n    description:\n      \"Each night, choose a player to leave the village during the next day.\",\n    value: 1,\n  },\n  {\n    name: \"Spellcaster\",\n    description:\n      \"Each night, choose a player who may not speak the following day.\",\n    value: 1,\n  },\n  {\n    name: \"Villager\",\n    description: \"Find the Werewolves and eliminate them.\",\n    value: 1,\n    count: 14,\n  },\n  {\n    name: \"Lycan\",\n    description: \"You are a Villager, but appear to the seer as a Werewolf.\",\n    value: -1,\n  },\n  {\n    name: \"Pacifist\",\n    description: \"You must always vote for players to not be eliminated.\",\n    value: -1,\n  },\n  {\n    name: \"DoppelgÃ¤nger\",\n    description:\n      \"The first night, choose a player. When that player is eliminated you become that role.\",\n    value: -2,\n  },\n  {\n    name: \"Mad Bomber\",\n    description:\n      \"If you are eliminated, the players immediately to your left and right are eliminated as well.\",\n    value: -2,\n  },\n  {\n    name: \"Cupid\",\n    description:\n      \"The first night, choose two players to be linked together. If one of them is eliminated, the other is eliminated as well.\",\n    value: -3,\n  },\n  {\n    name: \"Troublemaker\",\n    description:\n      \"One night per game, stir up trouble by calling for players to be eliminated the following day.\",\n    value: -3,\n  },\n];\n\nexport const outsiders: Role[] = [\n  {\n    name: \"Cult Leader\",\n    description:\n      \"Each night, choose a player to join your cult. If all alive players are in your cult, you win.\",\n    value: 1,\n  },\n  {\n    name: \"Hoodlum\",\n    description:\n      \"Choose 2 players on the first night. To win, they must be eliminated and you must still be in the game at the end of the game.\",\n    value: 0,\n  },\n  {\n    name: \"Tanner\",\n    description:\n      \"You hate your job and your life. You win if you are eliminated.\",\n    value: -2,\n  },\n  {\n    name: \"Cursed\",\n    description:\n      \"You are on the Village team unless you are targeted for elimination by the Werewolves, at which time you become a Werewolf.\",\n    value: -3,\n  },\n  {\n    name: \"Vampire\",\n    description:\n      \"Each night, choose a player. That player is eliminated when a player gets accused and 2nd-ed the next day.\",\n    value: -7,\n    count: 8,\n  },\n];\n\nexport const wolves: Role[] = [\n  {\n    name: \"Alpha Wolf\",\n    description:\n      \"Once per game, following the elimination of a werewolf during the day, you may turn the Werewolves' target into a Werewolf instead of eliminating them.\",\n    value: -9,\n  },\n  {\n    name: \"Wolf Cub\",\n    description:\n      \"Each night, wake with the Werewolves. If you are eliminated, the Werewolves eliminate two players the following night.\",\n    value: -8,\n  },\n  {\n    name: \"Werewolf\",\n    description:\n      \"Each night, wake with the other Werewolves and choose a player to eliminate.\",\n    value: -6,\n    count: 12,\n  },\n  {\n    name: \"Minion\",\n    description:\n      \"You know who the Werewolves are, but you do not wake up with them at night.\",\n    value: -6,\n  },\n  {\n    name: \"Lone Wolf\",\n    description:\n      \"Each night, wake with the other Werewolves. You only win if you are the last player in the game.\",\n    value: -5,\n  },\n  {\n    name: \"Sorceress\",\n    description: \"Each night, look for the Seer. You are on the werewolf team.\",\n    value: -3,\n  },\n];\n","import { memo, SyntheticEvent, CSSProperties } from \"react\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Grid,\n  Rating,\n  Typography,\n} from \"@mui/material\";\ninterface WerewolfPanelProps {\n  expanded?: string;\n  expandedKey: string;\n  handleChange: (\n    panel: string,\n  ) => (_event: SyntheticEvent<Element, Event>, exp?: boolean) => void;\n  handleStar: (value: number, count: number, role: string) => void;\n  name: string;\n  description: string;\n  value: number;\n  count?: number;\n}\n\nconst containerStyles: CSSProperties = {\n  display: \"flex\",\n  justifyContent: \"space-between\",\n  alignItems: \"center\",\n  width: \"100%\",\n  marginLeft: 10,\n  marginRight: 10,\n};\n\nconst WerewolfPanel = memo(\n  ({\n    expanded,\n    expandedKey,\n    handleChange,\n    handleStar,\n    name,\n    description,\n    value,\n    count,\n  }: WerewolfPanelProps) => (\n    <Grid size={12}>\n      <Accordion\n        expanded={expanded === expandedKey}\n        onChange={handleChange(expandedKey)}\n      >\n        <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n          <Rating\n            max={count || 1}\n            sx={{\n              flexWrap: \"wrap\",\n              minWidth: Math.min(24 * (count || 1), 24 * 7),\n            }}\n            onChange={(_e, numStars) =>\n              handleStar(numStars ? value : -value, numStars || 0, name)\n            }\n          />\n          <div style={containerStyles}>\n            <Typography>{name}</Typography>\n            <Typography>Cost: {value}</Typography>\n          </div>\n        </AccordionSummary>\n        <AccordionDetails>{description}</AccordionDetails>\n      </Accordion>\n    </Grid>\n  ),\n);\n\nWerewolfPanel.displayName = \"WerewolfPanel\";\n\nexport default WerewolfPanel;\n","import { memo, useState, useCallback, SyntheticEvent } from \"react\";\nimport {\n  Role,\n  villagers,\n  outsiders,\n  wolves,\n} from \"../../../constants/werewolf\";\nimport WerewolfPanel from \"./WerewolfPanel\";\nimport ExpandableCard from \"../../common/expandable-card\";\nimport { Typography, Chip, Grid } from \"@mui/material\";\nconst Werewolf = memo(() => {\n  const [expanded, setExpanded] = useState(\"\");\n  const [gameTotal, setGameTotal] = useState<number | undefined>(undefined);\n  const [masonCount, setMasonCount] = useState(0);\n  const [villagerCount, setVillagerCount] = useState(0);\n  const [vampireCount, setVampireCount] = useState(0);\n  const [wolfCount, setWolfCount] = useState(0);\n\n  const handleChange = useCallback(\n    (panel: string) =>\n      (_event: SyntheticEvent<Element, Event>, exp?: boolean): void => {\n        setExpanded(exp ? panel : \"\");\n      },\n    [setExpanded],\n  );\n\n  const handleStar = (value: number, count: number, role: string) => {\n    switch (role) {\n      case \"Mason\":\n        setGameTotal(\n          (gameTotal || 0) + value * (count ? count - masonCount : masonCount),\n        );\n        setMasonCount(count);\n        return;\n      case \"Villager\":\n        setGameTotal(\n          (gameTotal || 0) +\n            value * (count ? count - villagerCount : villagerCount),\n        );\n        setVillagerCount(count);\n        return;\n      case \"Vampire\":\n        setGameTotal(\n          (gameTotal || 0) +\n            value * (count ? count - vampireCount : vampireCount),\n        );\n        setVampireCount(count);\n        return;\n      case \"Werewolf\":\n        setGameTotal(\n          (gameTotal || 0) + value * (count ? count - wolfCount : wolfCount),\n        );\n        setWolfCount(count);\n        return;\n      default:\n        setGameTotal((gameTotal || 0) + value);\n    }\n  };\n\n  const getRolePanel = (role: Role, i: number) => {\n    const { name, description, value, count } = role;\n\n    return (\n      <WerewolfPanel\n        key={i}\n        {...{\n          expanded,\n          name,\n          description,\n          value,\n          count,\n          expandedKey: `${name}-${i}`,\n          handleChange,\n          handleStar,\n        }}\n      />\n    );\n  };\n\n  const villagerPanels = villagers.map(getRolePanel);\n  const outsiderPanels = outsiders.map(getRolePanel);\n  const wolfPanels = wolves.map(getRolePanel);\n\n  return (\n    <>\n      <Typography variant=\"h2\" component=\"h1\" gutterBottom>\n        Werewolf\n      </Typography>\n      {gameTotal !== undefined && (\n        <Chip\n          label={`Total: ${gameTotal}`}\n          color=\"primary\"\n          sx={{ position: \"fixed\", bottom: 15, right: 15, zIndex: 1 }}\n        />\n      )}\n      <Grid container spacing={2}>\n        <Grid size={{ xs: 12, xl: 6 }}>\n          <ExpandableCard title=\"Villagers\">{villagerPanels}</ExpandableCard>\n        </Grid>\n        <Grid size={{ xs: 12, xl: 6 }}>\n          <ExpandableCard title=\"Outsiders\">{outsiderPanels}</ExpandableCard>\n          <ExpandableCard title=\"Wolves\">{wolfPanels}</ExpandableCard>\n        </Grid>\n      </Grid>\n    </>\n  );\n});\n\nWerewolf.displayName = \"Werewolf\";\n\nexport default Werewolf;\n"],"names":["villagers","outsiders","wolves","containerStyles","WerewolfPanel","memo","expanded","expandedKey","handleChange","handleStar","name","description","value","count","jsx","Grid","jsxs","Accordion","AccordionSummary","ExpandMoreIcon","Rating","_e","numStars","Typography","AccordionDetails","Werewolf","setExpanded","useState","gameTotal","setGameTotal","masonCount","setMasonCount","villagerCount","setVillagerCount","vampireCount","setVampireCount","wolfCount","setWolfCount","useCallback","panel","_event","exp","role","getRolePanel","i","villagerPanels","outsiderPanels","wolfPanels","Fragment","Chip","ExpandableCard"],"mappings":"0MAOO,MAAMA,EAAoB,CAC/B,CACE,KAAM,cACN,YAAa,4DACb,MAAO,CAAA,EAET,CACE,KAAM,OACN,YACE,kFACF,MAAO,CAAA,EAET,CACE,KAAM,YACN,YACE,sGACF,MAAO,CAAA,EAET,CACE,KAAM,WACN,YACE,4IACF,MAAO,CAAA,EAET,CACE,KAAM,kBACN,YACE,4FACF,MAAO,CAAA,EAET,CACE,KAAM,QACN,YACE,kEACF,MAAO,CAAA,EAET,CACE,KAAM,QACN,YACE,sFACF,MAAO,CAAA,EAET,CACE,KAAM,YACN,YACE,mEACF,MAAO,CAAA,EAET,CACE,KAAM,SACN,YACE,yEACF,MAAO,CAAA,EAET,CACE,KAAM,WACN,YACE,+FACF,MAAO,CAAA,EAET,CACE,KAAM,SACN,YACE,uEACF,MAAO,CAAA,EAET,CACE,KAAM,WACN,YAAa,qDACb,MAAO,CAAA,EAET,CACE,KAAM,SACN,YACE,mGACF,MAAO,CAAA,EAET,CACE,KAAM,OACN,YACE,4GACF,MAAO,CAAA,EAET,CACE,KAAM,YACN,YACE,gGACF,MAAO,CAAA,EAET,CACE,KAAM,YACN,YACE,kFACF,MAAO,CAAA,EAET,CACE,KAAM,QACN,YACE,gGACF,MAAO,CAAA,EAET,CACE,KAAM,QACN,YAAa,0BACb,MAAO,CAAA,EAET,CACE,KAAM,QACN,YAAa,0DACb,MAAO,EACP,MAAO,CAAA,EAET,CACE,KAAM,gBACN,YAAa,gDACb,MAAO,CAAA,EAET,CACE,KAAM,UACN,YACE,wEACF,MAAO,CAAA,EAET,CACE,KAAM,cACN,YACE,mEACF,MAAO,CAAA,EAET,CACE,KAAM,WACN,YAAa,0CACb,MAAO,EACP,MAAO,EAAA,EAET,CACE,KAAM,QACN,YAAa,4DACb,MAAO,EAAA,EAET,CACE,KAAM,WACN,YAAa,yDACb,MAAO,EAAA,EAET,CACE,KAAM,eACN,YACE,yFACF,MAAO,EAAA,EAET,CACE,KAAM,aACN,YACE,gGACF,MAAO,EAAA,EAET,CACE,KAAM,QACN,YACE,4HACF,MAAO,EAAA,EAET,CACE,K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"}