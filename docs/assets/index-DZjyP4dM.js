import{r as w,F as R,j as t,P as k,O as z,A as F,M as Y}from"./index-BWHjTv6b.js";import{a as H}from"./amber-NwMsXasC.js";import{P as B,T as g}from"./Header-lykjkA5B.js";import{D as L,a as V,b as q,c as M}from"./DialogTitle-B2YsF1ds.js";import{B as h}from"./Button-DZHmTYsy.js";import{G as O}from"./Grid-DODxoH4K.js";import{p as j,P as I}from"./PlayerMenu-CtAMiMMj.js";import"./useThemeProps-DkbzLbj5.js";import"./isMuiElement-BZHAbYkq.js";import"./Select-BXsS3rlR.js";import"./useSlotProps-B_m-uAmb.js";import"./TextField-Dyyyqfl7.js";const p=(o=0)=>{const e=o.toString().split(""),l=e[0]==="-"?1:0;for(let n=e.length-3;n>l;n-=3)e.splice(n,0,",");return e.splice(l,0,"$"),e.join("")},J={width:"90%",marginLeft:"5%",marginRight:"5%",marginBottom:5,padding:5,textAlign:"center",color:"white"},T=w.memo(({on:o,val:e})=>{const l={backgroundColor:o?H[500]:R[700]},n={...J,...l};return t.jsx(B,{style:n,children:o?p(e):t.jsx("del",{children:p(e)})})});T.displayName="Money";const N={width:"50%",display:"inline-block"},b=(o,e,l=o.length)=>o.slice(e,l).map(n=>t.jsx(T,{on:n.on,val:n.val},n.loc)),K=({deal:o,noDeal:e,offer:l,open:n,swap:s,numCases:a,board:d})=>{const r=[...d].sort((f,u)=>f.val-u.val),x=b(r,0,r.length/2),v=b(r,r.length/2);return t.jsxs(L,{fullWidth:!0,open:n,children:[t.jsx(V,{children:`${p(l)} - Deal or No Deal?`}),t.jsxs(q,{children:[t.jsx("div",{style:N,children:x}),t.jsx("div",{style:N,children:v})]}),a>2?t.jsxs(M,{children:[t.jsx(h,{color:"success",onClick:o,children:"Deal"}),t.jsx(h,{color:"error",onClick:e,children:"No Deal"})]}):t.jsxs(M,{children:[t.jsx(h,{color:"success",onClick:o,children:"Deal"}),t.jsx(h,{color:"secondary",onClick:e,children:"My Case"}),t.jsx(h,{color:"error",onClick:s,children:"Other Case"})]})]})},Q=({briefcase:o,isOver:e,onClick:l,secondary:n})=>{const s=n?"secondary":"primary",a=o.on&&!e?o.loc:p(o.val);return t.jsx(h,{color:s,disabled:!o.on,onClick:l,style:{margin:10},variant:"contained",children:a})},U={maxWidth:796,padding:9,textAlign:"center",display:"block",margin:"auto",marginTop:20},X=({board:o,isOver:e,onClick:l,playerChoice:n})=>t.jsx(B,{elevation:2,style:U,children:o.map((s,a)=>t.jsx(Q,{briefcase:s,isOver:e,onClick:()=>l(a),secondary:n&&n.loc===s.loc},a))}),Z=({playerChoice:o,casesToOpen:e,isOver:l,newGame:n,name:s,money:a,dndOpen:d})=>t.jsxs(O,{container:!0,spacing:1,children:[t.jsxs(O,{size:{xs:12,sm:6},children:[t.jsx(g,{variant:"h3",component:"h2",gutterBottom:!0,children:`Your Case: ${o?o.loc:"?"}${l?` - ${p(o&&o.val)}`:""}`}),t.jsx(g,{variant:"h4",component:"h3",gutterBottom:!0,children:!d&&(l?`You Won ${p(l)}`:`Number of Cases to Open: ${e}`)}),l&&t.jsx(h,{onClick:n,variant:"contained",children:"New Game"})]}),t.jsx(O,{size:{xs:12,sm:6},children:t.jsx(g,{variant:"h3",align:"right",gutterBottom:!0,children:`${s}: ${p(a)}`})})]}),C=6,_=()=>({board:[{val:1,loc:1,on:!0},{val:2,loc:2,on:!0},{val:5,loc:3,on:!0},{val:10,loc:4,on:!0},{val:25,loc:5,on:!0},{val:50,loc:6,on:!0},{val:75,loc:7,on:!0},{val:100,loc:8,on:!0},{val:200,loc:9,on:!0},{val:300,loc:10,on:!0},{val:400,loc:11,on:!0},{val:500,loc:12,on:!0},{val:750,loc:13,on:!0},{val:1e3,loc:14,on:!0},{val:5e3,loc:15,on:!0},{val:1e4,loc:16,on:!0},{val:25e3,loc:17,on:!0},{val:5e4,loc:18,on:!0},{val:75e3,loc:19,on:!0},{val:1e5,loc:20,on:!0},{val:2e5,loc:21,on:!0},{val:3e5,loc:22,on:!0},{val:4e5,loc:23,on:!0},{val:5e5,loc:24,on:!0},{val:75e4,loc:25,on:!0},{val:1e6,loc:26,on:!0}],turn:1,playerChoice:void 0,casesToOpen:C,dndOpen:!1,isOver:0}),oo=o=>{for(let e=0;e<100;e+=1){const l=Math.floor(Math.random()*o.length),n=Math.floor(Math.random()*o.length),s=o[l].loc;o[l].loc=o[n].loc,o[n].loc=s}},A=()=>{const o=_();return oo(o.board),o.board.forEach(e=>{e.on=!0}),o.board.sort((e,l)=>e.loc-l.loc),o},D=z("dealOrNoDealAtom",A()),eo=k(o=>{const{board:e,turn:l}=o(D),{name:n}=o(j)[0];let s=0,a=0;e.forEach(r=>{r.on&&(s+=1,a+=r.val)});const d=Math.round(a/s*(l/10));return{numCases:s,offer:d,name:n}}),no=k(o=>{const e=o(D),{money:l,status:n}=o(j)[0];return{dnd:e,money:l,status:n}},(o,e,{dnd:l,money:n,status:s})=>{if(e(D,l),n!==void 0&&s!==void 0){const a=o(j),d=[...a];d[0]={...a[0],money:n,status:s},e(j,d)}}),to=w.memo(()=>{const[{dnd:o,money:e,status:l},n]=F(no),{numCases:s,offer:a,name:d}=Y(eo),{board:r,dndOpen:x,isOver:v,turn:f,playerChoice:u,casesToOpen:y}=o,$=()=>n({dnd:A()}),S=c=>{const i=r[c];if(u){if(!v&&y>0&&i.loc!==u.loc&&i.on){const m=[...r],W={...m[c],on:!1};m[c]=W,n({dnd:{...o,board:m,dndOpen:y===1,casesToOpen:y-1}})}}else n({dnd:{...o,playerChoice:i},money:e-100,status:l})},P=()=>{const c=Math.ceil(a/1e3);n({dnd:{...o,dndOpen:!1,isOver:c},money:e+c,status:c>100?"win":"lose"})},G=()=>{if(s<=2){const c=u?.val||0,i=Math.ceil(c/1e3);n({dnd:{...o,dndOpen:!1,isOver:i},money:e+i,status:i>100?"win":"lose"})}else n({dnd:{...o,dndOpen:!1,turn:f+1,casesToOpen:f<C-1?C-f:1}})},E=()=>{for(let c=0;c<r.length;c+=1){const i=r[c];if(i.on&&u&&i.loc!==u.loc){const m=Math.ceil(i.val/1e3);n({dnd:{...o,dndOpen:!1,isOver:m},money:e+m,status:m>100?"win":"lose"});return}}};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex-container",children:[t.jsx(g,{variant:"h2",component:"h1",gutterBottom:!0,children:"Deal or No Deal"}),t.jsx(I,{})]}),t.jsx(Z,{casesToOpen:y,isOver:v,newGame:$,name:d,money:e,playerChoice:u,dndOpen:x}),t.jsx(X,{board:r,isOver:!!v,onClick:S,playerChoice:u}),t.jsx(K,{board:r,deal:P,noDeal:G,numCases:s,offer:a,open:x,swap:E})]})});to.displayName="DealOrNoDeal";export{to as default};
//# sourceMappingURL=index-DZjyP4dM.js.map
