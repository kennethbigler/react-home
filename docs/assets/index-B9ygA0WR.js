import{O as A,r as y,j as e,F as R,A as B}from"./index-D-p8dcBW.js";import{l as S,T as b,u as H,P as G}from"./Header-DC_CR6z1.js";import{B as h}from"./Button-C7SEnXIt.js";import{c as P,T as v,a as E,b as F}from"./TableRow-D_QgPAcm.js";const p="X",g="O",j=null,f=()=>({history:[{board:Array(9).fill(j)}],turn:p,step:0}),M=A("tikTacToeAtom",f()),k=y.memo(({winner:t,turn:n,newGame:o})=>e.jsxs(S,{children:[e.jsx(b,{style:{flex:1},variant:"h4",component:"h2",children:t?`Winner: ${t}`:`Turn: ${n}`}),e.jsx(h,{onClick:o,variant:"contained",children:"Reset Game"})]}));k.displayName="Header";const C=t=>t%2?g:p;function w(t){const n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let o=0;o<n.length;o+=1){const[s,r,i]=n[o];if(t[s]!==j&&t[s]===t[r]&&t[s]===t[i])return{winner:t[s],winRow:n[o]}}return{winner:null,winRow:[]}}const O=({history:t,step:n,jumpToStep:o})=>{const[s,r]=y.useState(!0),i=(l,c)=>{const T=l.location||0,x=c?`Move #${c} (${C(c-1)}, ${Math.floor(T/3)}, ${T%3})`:"Game Start (Turn, Col, Row)",a=n===c?"secondary":"primary";return e.jsx(h,{color:a,onClick:()=>o(c),style:{display:"block"},children:x},c)},d=t.map(i);return s||d.reverse(),e.jsxs(e.Fragment,{children:[e.jsx(h,{onClick:()=>{r(!s)},style:{marginTop:20,marginBottom:20},variant:"contained",children:s?"Asc":"Desc"}),d]})},$=y.memo(({value:t,winner:n,onClick:o})=>{const{palette:{primary:{main:s}}}=H(),r=n?{color:"white",backgroundColor:s}:{};return e.jsx(h,{onClick:o,style:r,"aria-label":`Tic Tac Toe Play Button ${t?`${t} selected`:"available"}`,children:t||e.jsx("br",{})})});$.displayName="Cell";const W={padding:0,textAlign:"center",border:`1px solid ${R[400]}`},X=({board:t,onClick:n,winRow:o})=>{const s=[];for(let r=0;r<3;r+=1){const i=[];for(let l=0;l<3;l+=1){const c=r*3+l,T=o.includes(c);i.push(e.jsx(P,{style:W,children:e.jsx($,{onClick:()=>n(c),value:t[c],winner:T})},`${r},${l}`))}const d=e.jsx(F,{children:i},`row${r}`);s.push(d)}return e.jsx(v,{"aria-label":"game of Tik Tac Toe in a 3 by 3 grid",children:e.jsx(E,{children:s})})},D={width:343,display:"block",margin:"auto"},N=y.memo(()=>{const[{turn:t,step:n,history:o},s]=B(M),r=a=>{const u=o.slice(0,n+1),m=u[n].board.slice();!w(m).winner&&m[a]===j&&(m[a]=t,s({history:u.concat([{board:m,location:a}]),step:u.length,turn:t===p?g:p}))},i=()=>s(f()),d=a=>{const u={step:a,turn:C(a),history:o};n===a&&(u.history=o.slice(0,n+1)),s(u)},c=o[n].board.slice(),{winner:T,winRow:x}=w(c);return e.jsxs(e.Fragment,{children:[e.jsx(b,{variant:"h2",component:"h1",gutterBottom:!0,children:"Tic-Tac-Toe"}),e.jsxs(G,{elevation:2,style:D,children:[e.jsx(k,{newGame:i,turn:t,winner:T}),e.jsx(X,{board:c,onClick:r,winRow:x})]}),e.jsx(O,{history:o,jumpToStep:d,step:n})]})});N.displayName="TicTacToe";export{N as default};
//# sourceMappingURL=index-B9ygA0WR.js.map
