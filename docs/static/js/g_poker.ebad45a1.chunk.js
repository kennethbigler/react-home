"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[396],{41881:function(r,n,e){e.d(n,{Z:function(){return T}});var t=e(72791),a=e(1413),c=e(9221),i=e(20890),s=e(57621),u=e(37596),o=e(80007),d=e(13771),l=e(82460),p=e(51798),f={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},h=e(80184),v=t.memo((function(r){var n=r.dropped,e=r.suit,c=r.name,s=r.cardHandler,u=r.playerNo,o=r.handNo,d=r.cardNo,p=t.useCallback((function(){s&&s(u,o,d)}),[s,d,o,u]),v={color:"\u2663"===e||"\u2660"===e?"black":l.Z[500],backgroundColor:n?l.Z[100]:"white"};return(0,h.jsxs)("div",{style:(0,a.Z)((0,a.Z)({},f.cardFace),v),onClick:p,role:"main",children:[(0,h.jsx)("div",{style:f.cardTitle,children:c+e}),(0,h.jsx)(i.Z,{variant:"h4",style:(0,a.Z)((0,a.Z)({},f.suit),v),children:e})]})})),k=v,x={fontWeight:"bold",marginTop:"0.5em"},m={fontWeight:"normal",marginTop:"0.5em"},b=function(r){var n=r.cardHandler,e=r.cardsToDiscard,c=r.hand,s=r.handNo,u=r.isBlackJack,o=r.isHandTurn,d=r.isMultiHand,l=r.isPlayerTurn,f=r.playerNo,v=t.useMemo((function(){return l&&(!d||d&&o)?(0,a.Z)((0,a.Z)({},x),{},{color:p.Z[700]}):m}),[l,d,o]),b=c.weight||0;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.Z,{variant:"h4",style:v,children:u&&"".concat(b>21?"Bust":"Hand",": ").concat(b)}),c.cards.map((function(r,t){var a=e.includes(t);return(0,h.jsx)(k,{cardHandler:n,cardNo:t,dropped:a,handNo:s,name:r.name,playerNo:f,suit:r.suit},r.name+r.suit)}))]})},y={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},g=function(r){var n=r.betHandler,e=r.cardHandler,p=r.cardsToDiscard,f=r.hideHands,v=r.isBlackJack,k=r.player,x=r.playerNo,m=r.turn,g=!!m&&x===m.player,Z=k.hands.length>1,w=!!f&&v&&0!==k.id&&!k.isBot,H=Math.max(Math.min(k.money,5),0),j=Math.max(Math.min(k.money,100),10),C=t.useCallback((function(r,e){n&&n(k.id,r,e)}),[n,k.id]),T=g?{background:u.Z[200]}:{},B=g?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===k.status&&(T={background:o.Z[300]}),"draw"===k.status&&(T={background:d.Z[300]}),"lose"===k.status&&(T={background:l.Z[300]}),(0,h.jsxs)(s.Z,{style:(0,a.Z)((0,a.Z)({},y.player),T),children:[(0,h.jsx)(i.Z,{variant:"h4",style:(0,a.Z)({},B),children:"".concat(k.name,": $").concat(k.money)}),w&&(0,h.jsx)(c.ZP,{max:j,min:H,onChange:C,step:5,style:y.width,value:k.bet}),v&&0!==k.id&&(0,h.jsx)(i.Z,{variant:"h5",children:"Bet: $".concat(k.bet)}),k.hands.map((function(r,n){var t=!!m&&m.hand===n;return(0,h.jsx)("div",{children:!f&&(0,h.jsx)(b,{cardHandler:e,cardsToDiscard:p,hand:r,handNo:n,isBlackJack:v,isHandTurn:t,isMultiHand:Z,isPlayerTurn:g,playerNo:x})},"hand".concat(n))}))]})},Z=function(r){var n=r.betHandler,e=r.cardHandler,t=r.cardsToDiscard,a=r.hideHands,c=r.isBlackJack,i=r.players,s=r.turn;return(0,h.jsx)(h.Fragment,{children:i.map((function(r,i){return(0,h.jsx)(g,{betHandler:n,cardHandler:e,cardsToDiscard:t,hideHands:a,isBlackJack:c,player:r,playerNo:i,turn:s},"player".concat(i))}))})},w=e(24518),H={margin:12},j=t.memo((function(r){var n=r.onClick,e=r.name;return(0,h.jsx)(w.Z,{color:"primary",onClick:function(){return n(e)},style:H,variant:"contained",children:e})})),C=function(r){var n=r.gameFunctions,e=r.onClick;return(0,h.jsx)("div",{children:n.map((function(r){return(0,h.jsx)(j,{onClick:e,name:r},r)}))})},T=function(r){var n=r.betHandler,e=r.cardClickHandler,a=r.cardsToDiscard,c=void 0===a?[]:a,i=r.gameFunctions,s=void 0===i?[]:i,u=r.gameOver,o=void 0!==u&&u,d=r.hideHands,l=void 0!==d&&d,p=r.isBlackJack,f=void 0===p||p,v=r.players,k=r.turn,x=r.onClick,m=t.useMemo((function(){return v.slice(0,k.player+1)}),[v,k.player]),b=t.useMemo((function(){return v.slice(k.player+1)}),[v,k.player]),y=t.useMemo((function(){return l||!1!==o?v:v.slice(k.player,k.player+1)}),[l,o,v,k.player]);return f&&!l?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Z,{players:m,betHandler:n,cardHandler:e,cardsToDiscard:c,hideHands:l,isBlackJack:f,turn:k}),(0,h.jsx)(C,{gameFunctions:s,onClick:x}),(0,h.jsx)(Z,{players:b,betHandler:n,cardHandler:e,cardsToDiscard:c,hideHands:l,isBlackJack:f,turn:{player:-1,hand:-1}})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Z,{players:y,betHandler:n,cardHandler:e,cardsToDiscard:c,hideHands:l,isBlackJack:f,turn:k}),(0,h.jsx)(C,{gameFunctions:s,onClick:x})]})}},14906:function(r,n,e){e.r(n),e.d(n,{default:function(){return H}});var t=e(93433),a=e(1413),c=e(72791),i=e(20890),s=e(16030),u=e(41881),o=e(39717),d=e(15861),l=e(87757),p=e.n(l),f=e(25252),h=e(96688),v=e(87632),k=function(r,n){if(n.includes(4))return 7;var e=n.includes(3),t=n.indexOf(2),a=-1!==t;if(e&&a)return 6;if(e)return 3;if(a&&n.includes(2,t+1))return 2;if(a)return 1;for(var c=n.lastIndexOf(1)-n.indexOf(1)===4||n[12]&&n[0]&&n[1]&&n[2]&&n[3],i=!0,s=0;s<r.length;s+=1)if(r[s].suit!==r[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},x=function(r){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0];return r.forEach((function(r){n[r.weight-2]+=1})),n},m=function(r,n,e){for(var t=[],a=[n.indexOf(1)],c=1;c<r;c+=1)a[c]=n.indexOf(1,a[c-1]+1);for(var i=0;i<e.length;i+=1)for(var s=0;s<a.length;s+=1)if(e[i].weight-2===a[s]){t.push(i);break}return t},b=function(){var r=(0,d.Z)(p().mark((function r(n,e){var t,a,c,i,s,u;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,t=n.hands[0].cards,a=x(t),c=k(t,a),r.t0=c,r.next=0===r.t0?7:1===r.t0?11:2===r.t0||3===r.t0?15:(4===r.t0||5===r.t0||6===r.t0||7===r.t0||r.t0,19);break;case 7:return i=a.lastIndexOf(1)>=11?m(4,a,t):[0,1,2,3,4],r.next=10,e(i,n);case 10:return r.abrupt("break",20);case 11:return s=m(3,a,t),r.next=14,e(s,n);case 14:return r.abrupt("break",20);case 15:return u=m(1,a,t),r.next=18,e(u,n);case 18:case 19:return r.abrupt("break",20);case 20:r.next=25;break;case 22:r.prev=22,r.t1=r.catch(0),console.error(r.t1);case 25:case"end":return r.stop()}}),r,null,[[0,22]])})));return function(n,e){return r.apply(this,arguments)}}(),y=function(r,n){var e={val:0,id:0};r.forEach((function(r){if(!(0===r.id||r.id>5)){var n=parseInt(function(r){for(var n=x(r),e=k(r,n),t=["0","0","0","0","0"],a=0,c=4,i=0,s=-1;a<5;){var u=n.indexOf(c,s+1);-1===u?(c-=1,s=-1):(t[i]=u.toString(14),i+=1,a+=c,s=u)}return"".concat(e).concat(t.reduce((function(r,n){return"".concat(r).concat(n)})))}(r.hands[0].cards),14);n>e.val&&(e={val:n,id:r.id})}})),r.forEach((function(r){0===r.id||r.id>5||(r.id===e.id?n(r.id,"win",20):n(r.id,"lose",-5))}))},g=e(46581),Z=function(r,n,e,t,a,c){var i=function(){var n=(0,d.Z)(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r((0,o.$d)());case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,d.Z)(p().mark((function n(e,t){var a,c;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=t.id,c=t.hands,n.next=4,r((0,h.Uh)(c,a,e));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r,e){return n.apply(this,arguments)}}(),u=function(n,e,t){r((0,h.o8)(n,e,t))},l=function(){var n=(0,d.Z)(p().mark((function n(e,t){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r((0,o.qU)());case 3:return n.next=5,(0,f.Z)(e,function(){var r=(0,d.Z)(p().mark((function r(n,e){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t<=e&&e<5)){r.next=3;break}return r.next=3,b(n,s);case 3:case"end":return r.stop()}}),r)})));return function(n,e){return r.apply(this,arguments)}}());case 5:y(e,u),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(r,e){return n.apply(this,arguments)}}(),k=function(){var r=(0,d.Z)(p().mark((function r(){var n;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n=e[t]||{isBot:!1},a||c||!n.isBot){r.next=5;break}return r.next=5,l(e,t);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}(),x=function(){var n=(0,d.Z)(p().mark((function n(e){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r((0,o.sg)(e));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(r){return n.apply(this,arguments)}}(),m=function(){var n=(0,d.Z)(p().mark((function n(e){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r((0,o.kO)());case 3:return n.next=5,v.Z.shuffle().then((0,d.Z)(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.Z)(e,function(){var n=(0,d.Z)(p().mark((function n(e){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(0!==e.id&&e.id<=5)){n.next=9;break}return n.prev=1,n.next=4,r((0,h.V0)(e.id,5));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(r){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)}))));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(r){return n.apply(this,arguments)}}(),Z=function(){var n=(0,d.Z)(p().mark((function n(e,t,a){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s(a,e[t]);case 3:return n.next=5,r((0,o.Ot)());case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(r,e,t){return n.apply(this,arguments)}}(),w=function(){var r=(0,d.Z)(p().mark((function r(a){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,r.t0=a,r.next=r.t0===g._1.DISCARD_CARDS?4:r.t0===g._1.END_TURN?7:r.t0===g._1.NEW_GAME?10:r.t0===g._1.START_GAME?13:16;break;case 4:return r.next=6,Z(e,t,n);case 6:return r.abrupt("break",17);case 7:return r.next=9,i();case 9:return r.abrupt("break",17);case 10:return r.next=12,x(e);case 12:return r.abrupt("break",17);case 13:return r.next=15,m(e);case 15:return r.abrupt("break",17);case 16:console.error("Unknown Game Function: ",a);case 17:r.next=22;break;case 19:r.prev=19,r.t1=r.catch(0),console.error(r.t1);case 22:case"end":return r.stop()}}),r,null,[[0,19]])})));return function(n){return r.apply(this,arguments)}}();return{checkUpdate:k,handleGameFunctionClick:w}},w=e(80184),H=function(){var r=(0,s.v9)((function(r){return(0,a.Z)({turn:r.turn,players:r.players},r.poker)})),n=r.turn,e=r.players,d=r.cardsToDiscard,l=r.gameFunctions,p=r.gameOver,f=r.hideHands,h=(0,s.I0)(),v=c.useCallback((function(r,n,e){var a=(0,t.Z)(d),c=a.indexOf(e);-1===c?a.push(e):a.splice(c,1),h((0,o.uS)(a))}),[d,h]),k=Z(h,d,e,n.player,f,p),x=k.checkUpdate,m=k.handleGameFunctionClick;return x().catch((function(){console.error("check update failed")})),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.Z,{variant:"h2",gutterBottom:!0,children:"5 Card Draw Poker"}),(0,w.jsx)(u.Z,{cardClickHandler:v,cardsToDiscard:d,gameFunctions:l,onClick:m,gameOver:p,hideHands:f,isBlackJack:!1,players:e,turn:n})]})}}}]);
//# sourceMappingURL=g_poker.ebad45a1.chunk.js.map