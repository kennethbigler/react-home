"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[931],{41867:function(n,t,e){e.r(t),e.d(t,{default:function(){return L}});var r=e(93433),o=e(1413),a=e(29439),c=e(72791),i=e(56030),s=e(27391),u=e(24518),l=e(2199),d=e(26759),h=e(53767),p=e(13208),f=e(10703),g=e(95892),v=e(64387),x=e(76933),Z=e(80184),m={color:"black"},j=function(n){var t=n.roundNumber,e=n.options,r=n.onSelect,i=c.useState(!1),s=(0,a.Z)(i,2),j=s[0],M=s[1],y=c.useRef(null),b=function(n){y.current&&y.current.contains(n.target)||M(!1)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(l.Z,{ref:y,variant:"contained","aria-label":"split button",color:t+2===e.length?"error":"primary",children:[(0,Z.jsx)(u.Z,{style:m,children:e[t]}),(0,Z.jsx)(u.Z,{size:"small","aria-controls":j?"split-button-menu":void 0,"aria-expanded":j?"true":void 0,"aria-label":"select matchup","aria-haspopup":"menu",style:m,onClick:function(){M((function(n){return!n}))},children:(0,Z.jsx)(d.Z,{})})]}),(0,Z.jsx)(g.Z,{open:j,anchorEl:y.current,role:void 0,transition:!0,disablePortal:!0,children:function(n){var a=n.TransitionProps,c=n.placement;return(0,Z.jsx)(p.Z,(0,o.Z)((0,o.Z)({},a),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(h.Z,{onClickAway:b,children:(0,Z.jsx)(x.Z,{id:"split-button-menu",autoFocusItem:!0,children:e.map((function(n,e){return(0,Z.jsx)(v.Z,{selected:e===t,onClick:function(n){return function(n,t){r(t),M(!1)}(0,e)},children:n},n)}))})})})}))}})]})},M=function(n){return isNaN(n)?-1:n},y=function(n){var t,e=n.matches,r=n.noMatch,o=n.options,i=n.onSelect,l=n.roundNumber,d=n.roundPairings,h=n.updateNoMatch,p=n.updateScore,f=c.useState(M(null===(t=d[l])||void 0===t?void 0:t.score)),g=(0,a.Z)(f,2),v=g[0],x=g[1];return(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsx)(j,{roundNumber:l,options:o,onSelect:function(n){var t;x(M(null===(t=d[n])||void 0===t?void 0:t.score)),i(n)}}),l<o.length-2&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{variant:"outlined",onClick:function(){d[l].pairs.forEach((function(n,t){e[t]===n||r[t][n]||h(t,n)}))},children:"Blackout"}),(0,Z.jsx)(s.Z,{id:"score-input",label:"Score",variant:"outlined",type:"number",value:v,onChange:function(n){x(parseInt(n.target.value,10)||0),p(parseInt(n.target.value,10))}})]})]})},b=e(45987),S=e(79836),C=e(53994),k=e(39281),w=e(56890),N=e(35855),E=e(53382),P=e(65661),A=e(5289),O=e(97123),q=e(39157),T=function(n){var t=n.open,e=n.content,r=n.onMatch,o=n.onNoMatch,a=n.onCancel;return(0,Z.jsxs)(A.Z,{onClose:a,open:t,children:[(0,Z.jsx)(P.Z,{children:"TB Result"}),(0,Z.jsxs)(q.Z,{children:["Are ",e," a perfect match?"]}),(0,Z.jsxs)(O.Z,{children:[(0,Z.jsx)(u.Z,{onClick:r,children:"Match"}),(0,Z.jsx)(u.Z,{onClick:o,color:"error",children:"No Match"}),(0,Z.jsx)(u.Z,{onClick:a,color:"warning",children:"Cancel"})]})]})},W=function(n){var t=n.gents,e=n.hist,r=n.ladies,o=n.matches,i=n.noMatch,s=n.options,l=n.roundNumber,d=n.roundPairings,h=n.updateMatch,p=n.updateNoMatch,f=n.updatePairs,g=s.length===l+2,v=s.length===l+1,x=c.useState(!1),m=(0,a.Z)(x,2),j=m[0],M=m[1],y=c.useState([-1,-1]),b=(0,a.Z)(y,2),S=b[0],k=b[1],w=function(){M(!1)};return(0,Z.jsxs)(E.Z,{children:[r.map((function(n,r){return(0,Z.jsxs)(N.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Z.jsx)(C.Z,{component:"th",scope:"row",children:n}),t.map((function(t,a){var c,s,h,p="outlined",x="primary";g?(i[r]&&i[r][a]||o[r]===a)&&(p="contained"):(null===(c=d[l])||void 0===c?void 0:c.pairs[r])===a&&(p="contained"),i[r]&&i[r][a]&&(x="error"),o[r]===a&&(x="success");var m,j,y,b=e[r]&&(null===(s=e[r][a])||void 0===s||null===(h=s.rounds)||void 0===h?void 0:h.length)||0;return v&&b>0&&(p="contained"),(0,Z.jsx)(C.Z,{sx:{padding:0,textAlign:"center"},children:(0,Z.jsx)(u.Z,{variant:p,color:x,onClick:(m=l,j=r,y=a,function(){var n;if(!v){if(g)return k([j,y]),void M(!0);var t=null===(n=d[m])||void 0===n?void 0:n.pairs.indexOf(y);-1!==t&&f(m,t,-1),f(m,j,y)}}),children:v?b:"".concat(n[0],"-").concat(t[0])})},t)}))]},"ayto-table-row-".concat(n))})),(0,Z.jsx)(T,{open:j,content:"".concat(r[S[0]]," & ").concat(t[S[1]]),onCancel:w,onMatch:function(){var n=(0,a.Z)(S,2),t=n[0],e=n[1];h(t,e),w()},onNoMatch:function(){var n=(0,a.Z)(S,2),t=n[0],e=n[1];p(t,e),w()}})]})},F=["gents"],I=function(n){var t=n.gents,e=(0,b.Z)(n,F);return(0,Z.jsx)(k.Z,{component:f.Z,children:(0,Z.jsxs)(S.Z,{"aria-label":"are you the one data entry table",children:[(0,Z.jsx)(w.Z,{children:(0,Z.jsxs)(N.Z,{children:[(0,Z.jsx)(C.Z,{}),t.map((function(n){return(0,Z.jsx)(C.Z,{sx:{paddingLeft:0,paddingRight:0,textAlign:"center"},children:n},n)}))]})}),(0,Z.jsx)(W,(0,o.Z)({gents:t},e))]})})},J=e(67414),z=e(81918),B=e(85523),K=e(91440),R=function(n){var t=n.gents,e=n.ladies,r=n.matches,o=n.noMatch,i=n.roundPairings,s=n.hist,u=n.tempScore,l=n.calculatedEquations,d=c.useState(!1),h=(0,a.Z)(d,2),p=h[0],f=h[1];return(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(J.Z,{direction:"row",justifyContent:"space-between",children:[(0,Z.jsx)("h1",{children:"Analysis"}),(0,Z.jsx)(B.Z,{control:(0,Z.jsx)(K.Z,{checked:p,onChange:function(n){f(n.target.checked)},name:"show-all"}),label:"Show All Couples"})]}),(0,Z.jsx)(J.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:i.map((function(n,a){var c=n.pairs,i=n.score,l=c.map((function(n,c){if(c<0||n<0)return null;var i=s[c][n].rounds.length>1,u=i?"primary":"default";if(p)o[c][n]&&(u="error"),r[c]===n&&(u="success");else if(o[c][n]||r[c]===n)return null;var l="".concat(e[c],"-").concat(t[n]).concat(i?" ".concat(s[c][n].rounds.length):""," - ").concat(s[c][n].odds,"%");return(0,Z.jsx)(z.Z,{label:l,color:u},"eq-r".concat(a,"-l").concat(c,"-g").concat(n))}));return l.every((function(n){return null===n}))?null:(0,Z.jsxs)(J.Z,{spacing:1,children:[(0,Z.jsxs)("h2",{style:{textAlign:"center"},children:["Matchup ",a+1]}),l,(0,Z.jsx)(z.Z,{label:p?i:i-u[a],color:"warning"})]},"equation-".concat(a))}))}),l.length>0&&(0,Z.jsx)("hr",{}),(0,Z.jsx)(J.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:l.map((function(n,r){var o=n.pairs,a=n.score;return(0,Z.jsxs)(J.Z,{spacing:1,children:[(0,Z.jsxs)("h2",{style:{textAlign:"center"},children:["Calculated ",r+1]}),o.map((function(n,r){return(0,Z.jsx)(z.Z,{label:"".concat(e[r],"-").concat(t[n]," ").concat(s[r][n].rounds.length," - ").concat(s[r][n].odds,"%"),color:"primary"},"eq-calc-l".concat(r,"-g").concat(n))})),(0,Z.jsx)(z.Z,{label:"max ".concat(a),color:"warning"})]},"equation-".concat(r))}))})]})},H=["Alicia","Carolina","Cas","Gianna","Hannah","Kam","Kari","Kathryn","Shannon","Taylor","Tyranny"],Y=["Andre","Derrick","Edward","Hayden","Jaylan","Joey","Michael","Mike","Osvaldo","Ozzy","Tyler"],_=["Matchup 1","Matchup 2","Matchup 3","Matchup 4","Matchup 5","Matchup 6","Matchup 7","Matchup 8","Matchup 9","Matchup 10","Truth Booth","Consolidated"],D=(0,i.cn)({key:"areYouTheOneAtom",default:JSON.parse(localStorage.getItem("are-you-the-one-atom")||"null")||{matches:H.map((function(){return-1})),noMatch:H.map((function(){return Y.map((function(){return!1}))})),roundPairings:[]},effects:[function(n){(0,n.onSet)((function(n){localStorage.setItem("are-you-the-one-atom",JSON.stringify(n))}))}]}),G=function(n,t,e,r){var o=[],c=[],i=[];r.forEach((function(r,a){var s=r.pairs;c[a]=0,i[a]=n,s.forEach((function(n,r){(r<0||n<0||e[r][n])&&(i[a]-=1),t[r]===n&&(c[a]+=1,i[a]-=1),!o[r]&&(o[r]=[]),!o[r][n]&&(o[r][n]={odds:0,oddsWeight:0,rounds:[]}),o[r][n].rounds.push(a)}))}));var s={};r.forEach((function(n,r){var u=n.pairs,l=n.score;u.forEach((function(n,u){var d=o[u][n];if(!e[u][n])if(t[u]!==n){var h=i[r]?100*(l-c[r])/i[r]:0;if(0===d.oddsWeight?d.odds=Math.floor(h):h&&d.odds?d.odds=Math.floor((d.odds*d.oddsWeight+h)/(d.oddsWeight+1)):d.odds=0,d.oddsWeight+=1,!(d.rounds.length<2)){for(var p=[d.rounds.reduce((function(n,t){return n+t.toString()}),"")],f=r+1;f<d.rounds.length;f+=1)p.push("".concat(d.rounds[r]).concat(d.rounds[f]));p.forEach((function(t){!s[t]&&(s[t]={couples:[],score:l});var e=!0;s[t].couples.forEach((function(t){var r=(0,a.Z)(t,2),o=r[0],c=r[1];e=e&&o!==u&&c!==n})),e&&s[t].couples.push([u,n]),s[t].score=Math.min(l-c[r],s[t].score)}))}}else d.odds=100}))}));var u=[];return Object.keys(s).forEach((function(n){if(s[n].couples.length>1&&s[n].couples.length>s[n].score){var t=[];s[n].couples.forEach((function(n){var e=(0,a.Z)(n,2),r=e[0],o=e[1];t[r]=o}));var e=!1;u.forEach((function(r,o){for(var a=r.pairs,c=r.score,i=!0,l=!0,d=0;d<a.length;d+=1)t[d]!==a[d]&&(t[d]?(i=!1,l=!1):i=!1);e=e||i||l&&s[n].score>=c,i&&(u[o].score=Math.min(c,s[n].score))})),!e&&u.push({pairs:t,score:s[n].score})}})),{hist:o,tempScore:c,calculatedEquations:u}},L=function(){var n=(0,i.FV)(D),t=(0,a.Z)(n,2),e=t[0],s=e.matches,u=e.noMatch,l=e.roundPairings,d=t[1],h=c.useState(0),p=(0,a.Z)(h,2),f=p[0],g=p[1],v=G(H.length,s,u,l),x=v.hist,m=v.tempScore,j=v.calculatedEquations,M=function(n,t){var e=u.map((function(n){return(0,r.Z)(n)}));!e[n]&&(e[n]=[]),e[n][t]=!e[n][t],d({matches:s,noMatch:e,roundPairings:l})};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h1",{children:"Are You The One?"}),(0,Z.jsx)(y,{matches:s,noMatch:u,onSelect:function(n){g(n)},options:_,roundNumber:f,roundPairings:l,updateNoMatch:M,updateScore:function(n){var t=l[f]?(0,o.Z)({},l[f]):{pairs:[],score:0};t.score=n;var e=(0,r.Z)(l);e[f]=t,d({matches:s,noMatch:u,roundPairings:e})}}),(0,Z.jsx)("br",{}),(0,Z.jsx)(I,{gents:Y,hist:x,ladies:H,matches:s,noMatch:u,options:_,roundNumber:f,roundPairings:l,updateMatch:function(n,t){var e=(0,r.Z)(s),a=u.map((function(n){return(0,r.Z)(n)}));!a[n]&&(a[n]=[]),e[n]=t;for(var c=0;c<Y.length;c+=1)a[n][c]=c!==t;for(var i=0;i<H.length;i+=1)!a[i]&&(a[i]=[]),a[i][t]=i!==n;for(var h=(0,r.Z)(l),p=0;p<_.length-2;p+=1)if(!l[p]||l[p].pairs[n]<0||void 0===l[p].pairs[n]){var f=h[p]?(0,o.Z)((0,o.Z)({},l[p]),{},{pairs:(0,r.Z)(l[p].pairs)}):{pairs:[],score:0};f.pairs[n]=t,h[p]=f}d({matches:e,noMatch:a,roundPairings:h})},updateNoMatch:M,updatePairs:function(n,t,e){var a=l[n]?(0,o.Z)((0,o.Z)({},l[n]),{},{pairs:(0,r.Z)(l[n].pairs)}):{pairs:[],score:0};a.pairs[t]=e;var c=(0,r.Z)(l);c[f]=a,d({matches:s,noMatch:u,roundPairings:c})}}),(0,Z.jsx)(R,{calculatedEquations:j,gents:Y,hist:x,ladies:H,matches:s,noMatch:u,roundPairings:l,tempScore:m})]})}}}]);
//# sourceMappingURL=g_are_you_the_one.415f8ac0.chunk.js.map