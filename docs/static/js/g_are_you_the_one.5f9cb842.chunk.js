"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[931],{41867:function(n,t,r){r.r(t),r.d(t,{default:function(){return G}});var e=r(93433),o=r(1413),a=r(29439),c=r(72791),i=r(56030),s=r(27391),u=r(24518),l=r(2199),d=r(26759),h=r(53767),p=r(13208),f=r(10703),g=r(95892),v=r(64387),x=r(76933),Z=r(80184),m=function(n){var t=n.roundNumber,r=n.options,e=n.onSelect,i=c.useState(!1),s=(0,a.Z)(i,2),m=s[0],j=s[1],M=c.useRef(null),y=function(n){M.current&&M.current.contains(n.target)||j(!1)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(l.Z,{ref:M,variant:"contained","aria-label":"split button",color:t+2===r.length?"error":"primary",children:[(0,Z.jsx)(u.Z,{children:r[t]}),(0,Z.jsx)(u.Z,{size:"small","aria-controls":m?"split-button-menu":void 0,"aria-expanded":m?"true":void 0,"aria-label":"select matchup","aria-haspopup":"menu",onClick:function(){j((function(n){return!n}))},children:(0,Z.jsx)(d.Z,{})})]}),(0,Z.jsx)(g.Z,{open:m,anchorEl:M.current,role:void 0,transition:!0,disablePortal:!0,children:function(n){var a=n.TransitionProps,c=n.placement;return(0,Z.jsx)(p.Z,(0,o.Z)((0,o.Z)({},a),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(h.Z,{onClickAway:y,children:(0,Z.jsx)(x.Z,{id:"split-button-menu",autoFocusItem:!0,children:r.map((function(n,r){return(0,Z.jsx)(v.Z,{selected:r===t,onClick:function(n){return function(n,t){e(t),j(!1)}(0,r)},children:n},n)}))})})})}))}})]})},j=function(n){return isNaN(n)?-1:n},M=function(n){var t,r=n.matches,e=n.noMatch,o=n.options,i=n.onSelect,l=n.roundNumber,d=n.roundPairings,h=n.updateNoMatch,p=n.updateScore,f=c.useState(j(null===(t=d[l])||void 0===t?void 0:t.score)),g=(0,a.Z)(f,2),v=g[0],x=g[1];return(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsx)(m,{roundNumber:l,options:o,onSelect:function(n){var t;x(j(null===(t=d[n])||void 0===t?void 0:t.score)),i(n)}}),l<o.length-2&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{variant:"outlined",onClick:function(){d[l].pairs.forEach((function(n,t){r[t]===n||e[t][n]||h(t,n)}))},children:"Blackout"}),(0,Z.jsx)(s.Z,{id:"score-input",label:"Score",variant:"outlined",type:"number",value:v,onChange:function(n){x(parseInt(n.target.value,10)||0),p(parseInt(n.target.value,10))}})]})]})},y=r(45987),b=r(79836),S=r(53994),C=r(39281),k=r(56890),w=r(35855),N=r(53382),E=r(65661),P=r(5289),A=r(97123),O=r(39157),q=function(n){var t=n.open,r=n.content,e=n.onMatch,o=n.onNoMatch,a=n.onCancel;return(0,Z.jsxs)(P.Z,{onClose:a,open:t,children:[(0,Z.jsx)(E.Z,{children:"TB Result"}),(0,Z.jsxs)(O.Z,{children:["Are ",r," a perfect match?"]}),(0,Z.jsxs)(A.Z,{children:[(0,Z.jsx)(u.Z,{onClick:e,children:"Match"}),(0,Z.jsx)(u.Z,{onClick:o,color:"error",children:"No Match"}),(0,Z.jsx)(u.Z,{onClick:a,color:"warning",children:"Cancel"})]})]})},T=function(n){var t=n.gents,r=n.hist,e=n.ladies,o=n.matches,i=n.noMatch,s=n.options,l=n.roundNumber,d=n.roundPairings,h=n.updateMatch,p=n.updateNoMatch,f=n.updatePairs,g=s.length===l+2,v=s.length===l+1,x=c.useState(!1),m=(0,a.Z)(x,2),j=m[0],M=m[1],y=c.useState([-1,-1]),b=(0,a.Z)(y,2),C=b[0],k=b[1],E=function(){M(!1)};return(0,Z.jsxs)(N.Z,{children:[e.map((function(n,e){return(0,Z.jsxs)(w.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Z.jsx)(S.Z,{component:"th",scope:"row",children:n}),t.map((function(t,a){var c,s,h,p="outlined",x="primary";g?(i[e]&&i[e][a]||o[e]===a)&&(p="contained"):(null===(c=d[l])||void 0===c?void 0:c.pairs[e])===a&&(p="contained"),i[e]&&i[e][a]&&(x="error"),o[e]===a&&(x="success");var m,j,y,b=r[e]&&(null===(s=r[e][a])||void 0===s||null===(h=s.rounds)||void 0===h?void 0:h.length)||0;return v&&b>0&&(p="contained"),(0,Z.jsx)(S.Z,{sx:{padding:0,textAlign:"center"},children:(0,Z.jsx)(u.Z,{variant:p,color:x,onClick:(m=l,j=e,y=a,function(){var n;if(!v){if(g)return k([j,y]),void M(!0);var t=null===(n=d[m])||void 0===n?void 0:n.pairs.indexOf(y);-1!==t&&f(m,t,-1),f(m,j,y)}}),children:v?b:"".concat(n[0],"-").concat(t[0])})},t)}))]},"ayto-table-row-".concat(n))})),(0,Z.jsx)(q,{open:j,content:"".concat(e[C[0]]," & ").concat(t[C[1]]),onCancel:E,onMatch:function(){var n=(0,a.Z)(C,2),t=n[0],r=n[1];h(t,r),E()},onNoMatch:function(){var n=(0,a.Z)(C,2),t=n[0],r=n[1];p(t,r),E()}})]})},W=["gents"],F=function(n){var t=n.gents,r=(0,y.Z)(n,W);return(0,Z.jsx)(C.Z,{component:f.Z,children:(0,Z.jsxs)(b.Z,{"aria-label":"are you the one data entry table",children:[(0,Z.jsx)(k.Z,{children:(0,Z.jsxs)(w.Z,{children:[(0,Z.jsx)(S.Z,{}),t.map((function(n){return(0,Z.jsx)(S.Z,{sx:{paddingLeft:0,paddingRight:0,textAlign:"center"},children:n},n)}))]})}),(0,Z.jsx)(T,(0,o.Z)({gents:t},r))]})})},I=r(67414),J=r(81918),z=r(85523),B=r(91440),K=function(n){var t=n.gents,r=n.ladies,e=n.matches,o=n.noMatch,i=n.roundPairings,s=n.hist,u=n.tempScore,l=n.calculatedEquations,d=c.useState(!1),h=(0,a.Z)(d,2),p=h[0],f=h[1];return(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(I.Z,{direction:"row",justifyContent:"space-between",children:[(0,Z.jsx)("h1",{children:"Analysis"}),(0,Z.jsx)(z.Z,{control:(0,Z.jsx)(B.Z,{checked:p,onChange:function(n){f(n.target.checked)},name:"show-all"}),label:"Show All Couples"})]}),(0,Z.jsx)(I.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:i.map((function(n,a){var c=n.pairs,i=n.score,l=c.map((function(n,c){if(c<0||n<0)return null;var i=s[c][n].rounds.length>1,u=i?"primary":"default";if(p)o[c][n]&&(u="error"),e[c]===n&&(u="success");else if(o[c][n]||e[c]===n)return null;var l="".concat(r[c],"-").concat(t[n]).concat(i?" ".concat(s[c][n].rounds.length):""," - ").concat(s[c][n].odds,"%");return(0,Z.jsx)(J.Z,{label:l,color:u},"eq-r".concat(a,"-l").concat(c,"-g").concat(n))}));return l.every((function(n){return null===n}))?null:(0,Z.jsxs)(I.Z,{spacing:1,children:[(0,Z.jsxs)("h2",{style:{textAlign:"center"},children:["Matchup ",a+1]}),l,(0,Z.jsx)(J.Z,{label:p?i:i-u[a],color:"warning"})]},"equation-".concat(a))}))}),l.length>0&&(0,Z.jsx)("hr",{}),(0,Z.jsx)(I.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:l.map((function(n,e){var o=n.pairs,a=n.score;return(0,Z.jsxs)(I.Z,{spacing:1,children:[(0,Z.jsxs)("h2",{style:{textAlign:"center"},children:["Calculated ",e+1]}),o.map((function(n,e){return(0,Z.jsx)(J.Z,{label:"".concat(r[e],"-").concat(t[n]," ").concat(s[e][n].rounds.length," - ").concat(s[e][n].odds,"%"),color:"primary"},"eq-calc-l".concat(e,"-g").concat(n))})),(0,Z.jsx)(J.Z,{label:"max ".concat(a),color:"warning"})]},"equation-".concat(e))}))})]})},R=["Alicia","Carolina","Cas","Gianna","Hannah","Kam","Kari","Kathryn","Shannon","Taylor","Tyranny"],H=["Andre","Derrick","Edward","Hayden","Jaylan","Joey","Michael","Mike","Osvaldo","Ozzy","Tyler"],Y=["Matchup 1","Matchup 2","Matchup 3","Matchup 4","Matchup 5","Matchup 6","Matchup 7","Matchup 8","Matchup 9","Matchup 10","Truth Booth","Consolidated"],_=(0,i.cn)({key:"areYouTheOneAtom",default:JSON.parse(localStorage.getItem("are-you-the-one-atom")||"null")||{matches:R.map((function(){return-1})),noMatch:R.map((function(){return H.map((function(){return!1}))})),roundPairings:[]},effects:[function(n){(0,n.onSet)((function(n){localStorage.setItem("are-you-the-one-atom",JSON.stringify(n))}))}]}),D=function(n,t,r,e){var o=[],c=[],i=[];e.forEach((function(e,a){var s=e.pairs;c[a]=0,i[a]=n,s.forEach((function(n,e){(e<0||n<0||r[e][n])&&(i[a]-=1),t[e]===n&&(c[a]+=1,i[a]-=1),!o[e]&&(o[e]=[]),!o[e][n]&&(o[e][n]={odds:0,oddsWeight:0,rounds:[]}),o[e][n].rounds.push(a)}))}));var s={};e.forEach((function(n,e){var u=n.pairs,l=n.score;u.forEach((function(n,u){var d=o[u][n];if(!r[u][n])if(t[u]!==n){var h=i[e]?100*(l-c[e])/i[e]:0;if(0===d.oddsWeight?d.odds=Math.floor(h):h&&d.odds?d.odds=Math.floor((d.odds*d.oddsWeight+h)/(d.oddsWeight+1)):d.odds=0,d.oddsWeight+=1,!(d.rounds.length<2)){for(var p=[d.rounds.reduce((function(n,t){return n+t.toString()}),"")],f=e+1;f<d.rounds.length;f+=1)p.push("".concat(d.rounds[e]).concat(d.rounds[f]));p.forEach((function(t){!s[t]&&(s[t]={couples:[],score:l});var r=!0;s[t].couples.forEach((function(t){var e=(0,a.Z)(t,2),o=e[0],c=e[1];r=r&&o!==u&&c!==n})),r&&s[t].couples.push([u,n]),s[t].score=Math.min(l-c[e],s[t].score)}))}}else d.odds=100}))}));var u=[];return Object.keys(s).forEach((function(n){if(s[n].couples.length>1&&s[n].couples.length>s[n].score){var t=[];s[n].couples.forEach((function(n){var r=(0,a.Z)(n,2),e=r[0],o=r[1];t[e]=o}));var r=!1;u.forEach((function(e,o){for(var a=e.pairs,c=e.score,i=!0,l=!0,d=0;d<a.length;d+=1)t[d]!==a[d]&&(t[d]?(i=!1,l=!1):i=!1);r=r||i||l&&s[n].score>=c,i&&(u[o].score=Math.min(c,s[n].score))})),!r&&u.push({pairs:t,score:s[n].score})}})),{hist:o,tempScore:c,calculatedEquations:u}},G=function(){var n=(0,i.FV)(_),t=(0,a.Z)(n,2),r=t[0],s=r.matches,u=r.noMatch,l=r.roundPairings,d=t[1],h=c.useState(0),p=(0,a.Z)(h,2),f=p[0],g=p[1],v=D(R.length,s,u,l),x=v.hist,m=v.tempScore,j=v.calculatedEquations,y=function(n,t){var r=u.map((function(n){return(0,e.Z)(n)}));!r[n]&&(r[n]=[]),r[n][t]=!r[n][t],d({matches:s,noMatch:r,roundPairings:l})};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h1",{children:"Are You The One?"}),(0,Z.jsx)(M,{matches:s,noMatch:u,onSelect:function(n){g(n)},options:Y,roundNumber:f,roundPairings:l,updateNoMatch:y,updateScore:function(n){var t=l[f]?(0,o.Z)({},l[f]):{pairs:[],score:0};t.score=n;var r=(0,e.Z)(l);r[f]=t,d({matches:s,noMatch:u,roundPairings:r})}}),(0,Z.jsx)("br",{}),(0,Z.jsx)(F,{gents:H,hist:x,ladies:R,matches:s,noMatch:u,options:Y,roundNumber:f,roundPairings:l,updateMatch:function(n,t){var r=(0,e.Z)(s),a=u.map((function(n){return(0,e.Z)(n)}));!a[n]&&(a[n]=[]),r[n]=t;for(var c=0;c<H.length;c+=1)a[n][c]=c!==t;for(var i=0;i<R.length;i+=1)!a[i]&&(a[i]=[]),a[i][t]=i!==n;for(var h=(0,e.Z)(l),p=0;p<Y.length-2;p+=1)if(!l[p]||l[p].pairs[n]<0||void 0===l[p].pairs[n]){var f=h[p]?(0,o.Z)((0,o.Z)({},l[p]),{},{pairs:(0,e.Z)(l[p].pairs)}):{pairs:[],score:0};f.pairs[n]=t,h[p]=f}d({matches:r,noMatch:a,roundPairings:h})},updateNoMatch:y,updatePairs:function(n,t,r){var a=l[n]?(0,o.Z)((0,o.Z)({},l[n]),{},{pairs:(0,e.Z)(l[n].pairs)}):{pairs:[],score:0};a.pairs[t]=r;var c=(0,e.Z)(l);c[f]=a,d({matches:s,noMatch:u,roundPairings:c})}}),(0,Z.jsx)(K,{calculatedEquations:j,gents:H,hist:x,ladies:R,matches:s,noMatch:u,roundPairings:l,tempScore:m})]})}}}]);
//# sourceMappingURL=g_are_you_the_one.5f9cb842.chunk.js.map