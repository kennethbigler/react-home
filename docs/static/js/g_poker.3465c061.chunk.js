(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[10],{298:function(e,r,t){"use strict";var a=t(0),n=t.n(a),c=t(3),i=t(743),o=t(176),u=t.n(o),s=t(165),l=t.n(s),d=t(55),p=t.n(d),f=t(142),b=t.n(f),m=t(692),h=t(243),y=t(391),O=t.n(y),k={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}};function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(t,!0).forEach((function(r){Object(c.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var j=n.a.memo((function(e){var r=e.dropped,t=e.suit,a=e.name,c=e.cardHandler,i=e.playerNo,o=e.handNo,u=e.cardNo,s=n.a.useCallback((function(){c&&c(i,o,u)}),[c,u,o,i]),l={color:"\u2663"===t||"\u2660"===t?"black":b.a[500],backgroundColor:r?b.a[100]:"white"};return n.a.createElement("div",{style:v({},k.cardFace,{},l),onClick:s,role:"main"},n.a.createElement("div",{style:k.cardTitle},a+t),n.a.createElement(m.a,{variant:"h4",style:v({},k.suit,{},l)},t))}));function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}var E={fontWeight:"bold",marginTop:"0.5em"},P={fontWeight:"normal",marginTop:"0.5em"},x=function(e){var r=e.cardHandler,t=e.cardsToDiscard,a=e.hand,i=e.handNo,o=e.isBlackJack,u=e.isHandTurn,s=e.isMultiHand,l=e.isPlayerTurn,d=e.playerNo,p=n.a.useMemo((function(){return l&&(!s||s&&u)?function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(t,!0).forEach((function(r){Object(c.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},E,{color:O.a[700]}):P}),[l,s,u]),f=a.weight||0;return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{variant:"h4",style:p},o&&"".concat(f>21?"Bust":"Hand",": ").concat(f)),a.cards.map((function(e,a){var c=t.includes(a);return n.a.createElement(j,{key:e.name+e.suit,cardHandler:r,cardNo:a,dropped:c,handNo:i,name:e.name,playerNo:d,suit:e.suit})})))},H={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}};function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(t,!0).forEach((function(r){Object(c.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var T=function(e){var r=e.betHandler,t=e.cardHandler,a=e.cardsToDiscard,c=e.hideHands,o=e.isBlackJack,s=e.player,d=e.playerNo,f=e.turn,y=!!f&&d===f.player,O=s.hands.length>1,k=!!c&&o&&0!==s.id&&!s.isBot,g=Math.max(Math.min(s.money,5),0),v=Math.max(Math.min(s.money,100),10),j=n.a.useCallback((function(e,t){r&&r(s.id,e,t)}),[r,s.id]),w=y?{background:u.a[200]}:{},E=y?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===s.status&&(w={background:l.a[300]}),"draw"===s.status&&(w={background:p.a[300]}),"lose"===s.status&&(w={background:b.a[300]}),n.a.createElement(h.a,{style:C({},H.player,{},w)},n.a.createElement(m.a,{variant:"h4",style:C({},E)},"".concat(s.name,": $").concat(s.money)),k&&n.a.createElement(i.a,{max:v,min:g,onChange:j,step:5,style:H.width,value:s.bet}),o&&0!==s.id&&n.a.createElement(m.a,{variant:"h5"},"Bet: $".concat(s.bet)),s.hands.map((function(e,r){var i=!!f&&f.hand===r;return n.a.createElement("div",{key:"hand".concat(r)},!c&&n.a.createElement(x,{cardHandler:t,cardsToDiscard:a,hand:e,handNo:r,isBlackJack:o,isHandTurn:i,isMultiHand:O,isPlayerTurn:y,playerNo:d}))})))},F=function(e){var r=e.betHandler,t=e.cardHandler,a=e.cardsToDiscard,c=e.hideHands,i=e.isBlackJack,o=e.players,u=e.turn;return n.a.createElement(n.a.Fragment,null,o.map((function(e,o){return n.a.createElement(T,{key:"player".concat(o),betHandler:r,cardHandler:t,cardsToDiscard:a,hideHands:c,isBlackJack:i,player:e,playerNo:o,turn:u})})))},B=t(687),N={margin:12},J=n.a.memo((function(e){var r=e.onClick,t=e.name;return n.a.createElement(B.a,{color:"primary",onClick:function(){return r(t)},style:N,variant:"contained"},t)})),M=function(e){var r=e.gameFunctions,t=e.onClick;return n.a.createElement("div",null,r.map((function(e){return n.a.createElement(J,{key:e,onClick:t,name:e})})))},S=function(e){var r=e.betHandler,t=e.cardClickHandler,a=e.cardsToDiscard,c=e.gameFunctions,i=e.gameOver,o=e.hideHands,u=e.isBlackJack,s=e.players,l=e.turn,d=e.onClick,p=n.a.useMemo((function(){return s.slice(0,l.player+1)}),[s,l.player]),f=n.a.useMemo((function(){return s.slice(l.player+1)}),[s,l.player]),b=n.a.useMemo((function(){return o||!1!==i?s:s.slice(l.player,l.player+1)}),[o,i,s,l.player]);return n.a.createElement(n.a.Fragment,null,u&&!o?n.a.createElement(n.a.Fragment,null,n.a.createElement(F,{players:p,betHandler:r,cardHandler:t,cardsToDiscard:a,hideHands:o,isBlackJack:u,turn:l}),n.a.createElement(M,{gameFunctions:c,onClick:d}),n.a.createElement(F,{players:f,betHandler:r,cardHandler:t,cardsToDiscard:a,hideHands:o,isBlackJack:u,turn:{player:-1,hand:-1}})):n.a.createElement(n.a.Fragment,null,n.a.createElement(F,{players:b,betHandler:r,cardHandler:t,cardsToDiscard:a,hideHands:o,isBlackJack:u,turn:l}),n.a.createElement(M,{gameFunctions:c,onClick:d})))};S.defaultProps={cardsToDiscard:[],gameFunctions:[],gameOver:!1,hideHands:!1,isBlackJack:!0};var A=S;r.a=A},727:function(e,r,t){"use strict";t.r(r);var a=t(10),n=t(3),c=t(0),i=t.n(c),o=t(692),u=t(31),s=t(298),l=t(60),d=t(5),p=t.n(d),f=t(11),b=t(58),m=t(8),h=t(21),y=function(e,r){if(r.includes(4))return 7;var t=r.includes(3),a=r.indexOf(2),n=-1!==a;if(t&&n)return 6;if(t)return 3;if(n&&r.includes(2,a+1))return 2;if(n)return 1;for(var c=r.lastIndexOf(1)-r.indexOf(1)===4||r[12]&&r[0]&&r[1]&&r[2]&&r[3],i=!0,o=0;o<e.length;o+=1)if(e[o].suit!==e[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},O=function(e){var r=[0,0,0,0,0,0,0,0,0,0,0,0,0];return e.forEach((function(e){r[(e.weight||2)-2]+=1})),r},k=function(e){for(var r=O(e),t=y(e,r),a=["0","0","0","0","0"],n=0,c=4,i=0,o=-1;n<5;){var u=r.indexOf(c,o+1);-1===u?(c-=1,o=-1):(a[i]=u.toString(14),i+=1,n+=c,o=u)}return"".concat(t).concat(a.reduce((function(e,r){return"".concat(e).concat(r)})))},g=function(e,r,t){for(var a=[],n=[r.indexOf(1)],c=1;c<e;c+=1)n[c]=r.indexOf(1,n[c-1]+1);for(var i=0;i<t.length;i+=1)for(var o=0;o<n.length;o+=1)if(t[i].weight-2===n[o]){a.push(i);break}return a},v=t(1),j=function(e,r,t,a,n,c){var o=i.a.useCallback(Object(f.a)(p.a.mark((function r(){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(Object(l.d)());case 2:case"end":return r.stop()}}),r)}))),[e]),u=i.a.useCallback(function(){var r=Object(f.a)(p.a.mark((function r(t,a){var n,c;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.id,c=a.hands,r.next=3,e(Object(m.g)(c,n,t));case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[e]),s=i.a.useCallback(function(){var e=Object(f.a)(p.a.mark((function e(r){var t,a,n,c,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.hands[0].cards,a=O(t),n=y(t,a),e.t0=n,e.next=0===e.t0?6:1===e.t0?10:2===e.t0?14:3===e.t0?14:4===e.t0?18:5===e.t0?18:6===e.t0?18:7===e.t0?18:(e.t0,18);break;case 6:return c=a.lastIndexOf(1)>=11?g(4,a,t):[0,1,2,3,4],e.next=9,u(c,r);case 9:return e.abrupt("break",19);case 10:return i=g(3,a,t),e.next=13,u(i,r);case 13:return e.abrupt("break",19);case 14:return o=g(1,a,t),e.next=17,u(o,r);case 17:case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[u]),d=i.a.useCallback(Object(f.a)(p.a.mark((function r(){var n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(Object(l.c)());case 2:return r.next=4,Object(b.a)(t,function(){var e=Object(f.a)(p.a.mark((function e(r,t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a<=t&&t<5)){e.next=3;break}return e.next=3,s(r);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}());case 4:n={val:0,id:0},t.forEach((function(e){if(!(0===e.id||e.id>5)){var r=parseInt(k(e.hands[0].cards),14);r>n.val&&(n={val:r,id:e.id})}})),t.forEach((function(r){0===r.id||r.id>5||(r.id===n.id?e(Object(m.d)(r.id,"win",20)):e(Object(m.d)(r.id,"lose",-5)))}));case 7:case"end":return r.stop()}}),r)}))),[s,e,t,a]),j=i.a.useCallback(Object(f.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[a]||{isBot:!1},n||c||!r.isBot){e.next=4;break}return e.next=4,d();case 4:case"end":return e.stop()}}),e)}))),[d,t,c,n,a]),w=i.a.useCallback((function(){e(Object(l.e)(t))}),[e,t]),E=i.a.useCallback((function(){e(Object(l.f)()),h.a.shuffle().then((function(){Object(b.a)(t,function(){var r=Object(f.a)(p.a.mark((function r(t){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0!==t.id&&t.id<=5)){r.next=3;break}return r.next=3,e(Object(m.c)(t.id,5));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}))}),[e,t]),P=i.a.useCallback((function(){u(r,t[a]),e(Object(l.b)())}),[u,e,t,a,r]);return{checkUpdate:j,handleGameFunctionClick:i.a.useCallback((function(e){switch(e){case v.d.DISCARD_CARDS:P();break;case v.d.END_TURN:o();break;case v.d.NEW_GAME:w();break;case v.d.START_GAME:E();break;default:console.error("Unknown Game Function: ",e)}}),[o,P,w,E])}};function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}var E=function(){var e=Object(u.d)((function(e){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(t,!0).forEach((function(r){Object(n.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({turn:e.turn,players:e.players},e.poker)})),r=e.turn,t=e.players,c=e.cardsToDiscard,d=e.gameFunctions,p=e.gameOver,f=e.hideHands,b=Object(u.c)(),m=i.a.useCallback((function(e,r,t){var n=Object(a.a)(c),i=n.indexOf(t);-1===i?n.push(t):n.splice(i,1),b(Object(l.g)(n))}),[c,b]),h=j(b,c,t,r.player,f,p),y=h.checkUpdate,O=h.handleGameFunctionClick;return y(),i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{variant:"h2",gutterBottom:!0},"5 Card Draw Poker"),i.a.createElement(s.a,{cardClickHandler:m,cardsToDiscard:c,gameFunctions:d,onClick:O,gameOver:p,hideHands:f,isBlackJack:!1,players:t,turn:r}))};r.default=E}}]);
//# sourceMappingURL=g_poker.3465c061.chunk.js.map