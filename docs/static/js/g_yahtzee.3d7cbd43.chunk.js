"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[653],{79937:function(e,n,t){var r=t(29439),o=(t(72791),t(5289)),c=t(65661),s=t(39157),u=t(97123),a=t(24518),i=t(11337),l=t(80184);n.Z=function(e){var n=(0,i.Z)(),t=(0,r.Z)(n,3),d=t[0],h=t[1],f=t[2],m=e.buttonText,p=e.title,x=e.children;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{color:"primary",onClick:h,variant:"contained",children:m||p}),(0,l.jsxs)(o.Z,{title:"info-popup",onClose:f,open:d,maxWidth:"md",fullWidth:!0,children:[(0,l.jsx)(c.Z,{children:p}),(0,l.jsx)(s.Z,{children:x}),(0,l.jsx)(u.Z,{children:(0,l.jsx)(a.Z,{color:"primary",onClick:f,children:"Close"})})]})]})}},6306:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(1413),o=t(93433),c=t(72791),s=t(20890),u=t(56030),a=function(){return Math.floor(6*Math.random())+1},i=function(){return a()};var l=t(24518),d=t(79836),h=t(53382),f=t(53994),m=t(56890),p=t(35855),x=t(80184),S=c.memo((function(e){return(0,x.jsx)(m.Z,{children:(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{children:"Minimum Required for Bonus"}),(0,x.jsx)(f.Z,{children:"How to Score"}),(0,x.jsx)(f.Z,{style:e.style,children:"Game Score"})]})})})),Z=t(29439),j=c.memo((function(e){var n=e.topSum,t=e.finalTopSum,r=e.style;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{colSpan:2,children:"Total == 63"}),(0,x.jsx)(f.Z,{style:r,children:n})]}),(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{children:"Bonus if >= 63"}),(0,x.jsx)(f.Z,{children:"Score 35"}),(0,x.jsx)(f.Z,{style:r,children:n>=63?35:0})]}),(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{colSpan:2,children:"Upper Half Total"}),(0,x.jsx)(f.Z,{style:r,children:t})]}),(0,x.jsx)(p.Z,{})]})})),v=function(e){var n=e.values,t=e.showScoreButtons,r=e.getScoreButton,o=e.top,s=e.style,u=c.useCallback((function(e){return n.reduce((function(n,t){return t===e&&(n[0]+=1,n[1]+=e),n}),[0,0])}),[n]),a=c.useCallback((function(e,n,o,c){return e>=0?e:t?r(n,o,!0,c):null}),[r,t]),i=c.useCallback((function(){return o.map((function(e,n){var t=e.name,r=e.score,o=n+1,c=u(n+1),i=(0,Z.Z)(c,2),l=i[0],d=i[1],h=l>=1;return(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{children:"".concat(t,": ").concat(o,",").concat(o,",").concat(o," = ").concat(3*o)}),(0,x.jsx)(f.Z,{children:"Add Only ".concat(t)}),(0,x.jsx)(f.Z,{style:s,children:a(r,h,d,n)})]},t)}))}),[u,a,s,o]),l=e.topSum,d=e.finalTopSum;return(0,x.jsxs)(x.Fragment,{children:[i(),(0,x.jsx)(j,{topSum:l,finalTopSum:d,style:s})]})},y="Sum of Dice",b=function(e,n){var t=e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{}),r=!1;return Object.values(t).forEach((function(e){e>=n&&(r=!0)})),r},T=function(e,n){var t=e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{}),r=0;return[1,2,3,4,5,6].forEach((function(e){r<n&&(t[e]?r+=1:r=0)})),r>=n},g=c.memo((function(e){var n=e.finalTopSum,t=e.bottomSum,r=e.style;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{colSpan:2,children:"Lower Half Total"}),(0,x.jsx)(f.Z,{style:r,children:t})]}),(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{colSpan:2,children:"Upper Half Total"}),(0,x.jsx)(f.Z,{style:r,children:n})]}),(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{colSpan:2,children:"Grand Total"}),(0,x.jsx)(f.Z,{style:r,children:n+t})]})]})})),k=function(e,n){switch(e){case 0:return b(n,3);case 1:return b(n,4);case 2:return function(e){var n=e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{}),t=!1,r=!1;return Object.values(n).forEach((function(e){e>=3?t=!0:e>=2&&(r=!0)})),t&&r}(n);case 3:return T(n,4);case 4:return T(n,5);case 5:return b(n,5);case 6:return!0;default:return console.error("Unexpected Value"),!1}},w=function(e){var n=e.values,t=e.showScoreButtons,r=e.getScoreButton,o=e.top,s=c.useCallback((function(e,c,s,u){return e>=0?e:t?s&&function(e,n){return Object.entries(e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{})).reduce((function(e,t){var r=(0,Z.Z)(t,2),o=r[0];return 5===r[1]&&n[Number(o)-1].score>=0||e}),!1)}(n,o)?r(!0,c+100,!1,u):r(k(u,n),c,!1,u):null}),[r,t,o,n]),u=e.bottom,a=e.style,i=c.useCallback((function(){var e=u[5].score>0;return u.map((function(t,r){var o=t.name,c=t.hint,u=t.points,i=t.score,l=u===y?function(e){return e.reduce((function(e,n){return e+n}),0)}(n):u;return(0,x.jsxs)(p.Z,{children:[(0,x.jsx)(f.Z,{children:o}),(0,x.jsx)(f.Z,{children:c}),(0,x.jsx)(f.Z,{style:a,children:s(i,l,e,r)})]},o)}))}),[u,s,a,n]),l=e.finalTopSum,d=e.bottomSum;return(0,x.jsxs)(x.Fragment,{children:[i(),(0,x.jsx)(g,{bottomSum:d,finalTopSum:l,style:a})]})},B={textAlign:"center"},C=function(e){var n=e.bottom,t=e.bottomSum,r=e.finalTopSum,o=e.showScoreButtons,s=e.top,u=e.topSum,a=e.values,i=e.onTopScore,f=e.onBottomScore,m=c.useCallback((function(e,n,t,r){return e?(0,x.jsx)(l.Z,{color:"primary",variant:"outlined",onClick:t?function(){return i(n,r)}:function(){return f(n,r)},children:"Add ".concat(n," Points")}):(0,x.jsx)(l.Z,{color:"primary",variant:"outlined",onClick:t?function(){return i(0,r)}:function(){return f(0,r)},children:"0"})}),[f,i]);return(0,x.jsxs)(d.Z,{size:"small",children:[(0,x.jsx)(S,{style:B}),(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(v,{finalTopSum:r,getScoreButton:m,showScoreButtons:o,style:B,top:s,values:a,topSum:u}),(0,x.jsx)(w,{finalTopSum:r,getScoreButton:m,showScoreButtons:o,style:B,top:s,values:a,bottom:n,bottomSum:t})]})]})},F=t(18559),R=t.n(F),O=t(20601),z=t(28265),H=t(90466),G=t(12891),N=t(35667),A=t(18602),E=t(13967),M=t(79937),U=function(e){var n=(0,E.Z)().palette.secondary.main,t=e.scores,r=c.useMemo((function(){return function(e){return e.map((function(e){return{value:e}}))}(t)}),[t]),o=(r[r.length-1]||{value:0}).value,u=(R()(r,"value")||{value:0}).value;return(0,x.jsxs)(M.Z,{title:"Yahtzee Score History",buttonText:"Score History",children:[(0,x.jsx)(O.h,{width:"100%",height:300,children:(0,x.jsxs)(z.T,{data:r,children:[(0,x.jsx)("defs",{children:(0,x.jsxs)("linearGradient",{id:"mainColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,x.jsx)("stop",{offset:"20%",stopColor:n,stopOpacity:.8}),(0,x.jsx)("stop",{offset:"100%",stopColor:n,stopOpacity:0})]})}),(0,x.jsx)(H.K,{dataKey:"name",interval:"preserveStartEnd"}),(0,x.jsx)(G.B,{width:40,orientation:"right",tickLine:!1}),(0,x.jsx)(N.u,{}),(0,x.jsx)(A.u,{type:"monotone",dataKey:"value",stroke:n,fillOpacity:1,fill:"url(#mainColor)"})]})}),(0,x.jsx)(s.Z,{variant:"h4",children:"Most Recent: ".concat(o)}),(0,x.jsx)(s.Z,{variant:"h4",children:"Top Score: ".concat(u)})]})},L=function(e){var n=e.scores;return(0,x.jsxs)("div",{className:"flex-container",children:[(0,x.jsx)(s.Z,{variant:"h2",children:"Yahtzee"}),(0,x.jsx)(U,{scores:n})]})},Y={display:"block",margin:"auto",width:320},D=function(e){var n=e.values,t=e.saved,r=e.roll,o=e.handleUnsave,c=e.handleSave,u=e.handleDiceRoll,a=e.getButtonText;return(0,x.jsxs)("div",{className:"flex-container",children:[(0,x.jsx)(s.Z,{variant:"h4",children:"Roll #".concat(r,"/3")}),(0,x.jsxs)("div",{style:Y,children:[t.map((function(e,n){return(0,x.jsx)(l.Z,{color:"secondary",onClick:function(){return o(n)},variant:"outlined",children:e},n)})),n.map((function(e,n){return(0,x.jsx)(l.Z,{color:"primary",onClick:function(){return c(n)},variant:"outlined",children:e},n)}))]}),(0,x.jsx)(l.Z,{color:"primary",onClick:u,variant:"contained",disabled:3===r,children:a(r)})]})},J=(0,u.cn)({key:"yahtzeeAtom",default:JSON.parse(localStorage.getItem("yahtzee-atom")||"null")||(0,r.Z)((0,r.Z)({},{roll:0,values:[0,0,0,0,0],saved:[],turn:0,showScoreButtons:!1,topScores:[-1,-1,-1,-1,-1,-1],bottomScores:[-1,-1,-1,-1,-1,-1,-1]}),{},{scores:[]}),effects:[function(e){(0,e.onSet)((function(e){localStorage.setItem("yahtzee-atom",JSON.stringify(e))}))}]}),K=function(){var e=(0,u.FV)(J),n=(0,Z.Z)(e,2),t=n[0],c=n[1];return{state:t,newGame:function(e){return c((0,r.Z)((0,r.Z)({},{roll:0,values:[0,0,0,0,0],saved:[],turn:0,showScoreButtons:!1,topScores:[-1,-1,-1,-1,-1,-1],bottomScores:[-1,-1,-1,-1,-1,-1,-1]}),{},{scores:[].concat((0,o.Z)(t.scores),[e])}))},diceClick:function(e,n){return c((0,r.Z)((0,r.Z)({},t),{},{values:e,saved:n}))},updateTop:function(e){return c((0,r.Z)((0,r.Z)({},t),{},{topScores:e,showScoreButtons:!1,roll:0,values:[0,0,0,0,0],saved:[]}))},updateBottom:function(e){return c((0,r.Z)((0,r.Z)({},t),{},{bottomScores:e,showScoreButtons:!1,roll:0,values:[0,0,0,0,0],saved:[]}))},updateRoll:function(e,n,o){return c((0,r.Z)((0,r.Z)({},t),{},{values:e,saved:n,roll:o,showScoreButtons:!0}))}}},I=(0,u.nZ)({key:"sumsYahtzeeSelector",get:function(e){var n=(0,e.get)(J),t=n.topScores,r=n.bottomScores,o=0,c=t.reduce((function(e,n){return n>=0&&(o+=1,e+=n),e}),0),s=c;return c>=63&&(s+=35),{topSum:c,bottomSum:r.reduce((function(e,n){return n>=0&&(o+=1,e+=n),e}),0),finalTopSum:s,finish:o>=13}}}),V=[{name:"Aces"},{name:"Twos"},{name:"Threes"},{name:"Fours"},{name:"Fives"},{name:"Sixes"}],W=[{name:"3 of a kind",hint:y,points:y},{name:"4 of a kind",hint:y,points:y},{name:"Full House",hint:"Score 25",points:25},{name:"Sm. Straight (4)",hint:"Score 30",points:30},{name:"Lg. Straight (5)",hint:"Score 40",points:40},{name:"Yahtzee",hint:"Score 50",points:50},{name:"Chance",hint:y,points:y}],_=function(){var e=K(),n=e.state,t=e.diceClick,a=e.newGame,l=e.updateTop,d=e.updateBottom,h=e.updateRoll,f=n.topScores,m=n.bottomScores,p=n.values,S=n.saved,Z=n.roll,j=n.showScoreButtons,v=n.scores,y=(0,u.sJ)(I),b=y.topSum,T=y.bottomSum,g=y.finalTopSum,k=y.finish,w=c.useCallback((function(e){if(k)return"New Game";switch(e){case 0:return"First Roll";case 1:return"Second Roll";case 2:return"Last Roll";case 3:return"Score";default:return"Error"}}),[k]),B=f.map((function(e,n){return(0,r.Z)((0,r.Z)({},V[n]),{},{score:e})})),F=m.map((function(e,n){return(0,r.Z)((0,r.Z)({},W[n]),{},{score:e})}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(L,{scores:v}),(0,x.jsx)("hr",{}),(0,x.jsx)(D,{values:p,saved:S,roll:Z,handleUnsave:function(e){var n=(0,o.Z)(p),r=(0,o.Z)(S);n.push(r.splice(e,1)[0]),n.sort(),t(n,r)},handleSave:function(e){if(0!==p[e]){var n=(0,o.Z)(p),r=(0,o.Z)(S);r.push(n.splice(e,1)[0]),r.sort(),t(n,r)}},handleDiceRoll:function(){if(k)return console.log(g+T),void a(g+T);if(!(Z>=3)){for(var e=(0,o.Z)(p),n=(0,o.Z)(S),t=0;t<e.length;t+=1)e[t]=i();e.sort(),n.sort(),h(e,n,Z+1)}},getButtonText:w}),(0,x.jsx)("hr",{}),(0,x.jsx)(s.Z,{variant:"h4",children:"Total: ".concat(g+T)}),(0,x.jsx)(C,{values:[].concat((0,o.Z)(S),(0,o.Z)(p)),bottom:F,top:B,onTopScore:function(e,n){var t=(0,o.Z)(f);t[n]=e,l(t)},onBottomScore:function(e,n){var t=(0,o.Z)(m);t[n]=e,d(t)},showScoreButtons:j,topSum:b,finalTopSum:g,bottomSum:T})]})}},11337:function(e,n,t){var r=t(29439),o=t(72791);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=o.useState(e),t=(0,r.Z)(n,2),c=t[0],s=t[1],u=function(){s(!0)},a=function(){s(!1)};return[c,u,a]}}}]);
//# sourceMappingURL=g_yahtzee.3d7cbd43.chunk.js.map