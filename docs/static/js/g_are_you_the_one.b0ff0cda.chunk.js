"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[931],{75027:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(29439),o=t(1413),c=t(72791),a=t(27391),i=t(24518),s=t(2199),l=t(26759),u=t(53767),d=t(13208),h=t(10703),p=t(95892),f=t(64387),x=t(76933),g=t(80184),j=function(n){var e=n.roundNumber,t=n.options,a=n.onSelect,j=c.useState(!1),v=(0,r.Z)(j,2),Z=v[0],m=v[1],b=c.useRef(null),M=function(n){b.current&&b.current.contains(n.target)||m(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(s.Z,{ref:b,variant:"contained","aria-label":"split button",color:e+2===t.length?"error":"primary",children:[(0,g.jsx)(i.Z,{children:t[e]}),(0,g.jsx)(i.Z,{size:"small","aria-controls":Z?"split-button-menu":void 0,"aria-expanded":Z?"true":void 0,"aria-label":"select matchup","aria-haspopup":"menu",onClick:function(){m((function(n){return!n}))},children:(0,g.jsx)(l.Z,{})})]}),(0,g.jsx)(p.Z,{open:Z,anchorEl:b.current,role:void 0,transition:!0,disablePortal:!0,children:function(n){var r=n.TransitionProps,c=n.placement;return(0,g.jsx)(d.Z,(0,o.Z)((0,o.Z)({},r),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:(0,g.jsx)(h.Z,{children:(0,g.jsx)(u.Z,{onClickAway:M,children:(0,g.jsx)(x.Z,{id:"split-button-menu",autoFocusItem:!0,children:t.map((function(n,t){return(0,g.jsx)(f.Z,{selected:t===e,onClick:function(n){return function(n,e){a(e),m(!1)}(0,t)},children:n},n)}))})})})}))}})]})},v=function(n){return isNaN(n)?-1:n},Z=function(n){var e,t=n.matches,o=n.noMatch,s=n.options,l=n.onSelect,u=n.roundNumber,d=n.roundPairings,h=n.updateNoMatch,p=n.updateScore,f=c.useState(v(null===(e=d[u])||void 0===e?void 0:e.score)),x=(0,r.Z)(f,2),Z=x[0],m=x[1];return(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)(j,{roundNumber:u,options:s,onSelect:function(n){var e;m(v(null===(e=d[n])||void 0===e?void 0:e.score)),l(n)}}),u<s.length-2&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Z,{variant:"outlined",onClick:function(){d[u].pairs.forEach((function(n,e){t[e]===n||o[e][n]||h(e,n)}))},children:"Blackout"}),(0,g.jsx)(a.Z,{id:"score-input",label:"Score",variant:"outlined",type:"number",value:Z,onChange:function(n){m(parseInt(n.target.value,10)||0),p(parseInt(n.target.value,10))}})]})]})},m=t(45987),b=t(79836),M=t(53994),S=t(39281),C=t(56890),y=t(35855),w=t(53382),k=t(65661),E=t(5289),N=t(97123),P=t(39157),A=function(n){var e=n.open,t=n.content,r=n.onMatch,o=n.onNoMatch,c=n.onCancel;return(0,g.jsxs)(E.Z,{onClose:c,open:e,children:[(0,g.jsx)(k.Z,{children:"TB Result"}),(0,g.jsxs)(P.Z,{children:["Are ",t," a perfect match?"]}),(0,g.jsxs)(N.Z,{children:[(0,g.jsx)(i.Z,{onClick:r,children:"Match"}),(0,g.jsx)(i.Z,{onClick:o,color:"error",children:"No Match"}),(0,g.jsx)(i.Z,{onClick:c,color:"warning",children:"Cancel"})]})]})},W=function(n){var e=n.gents,t=n.hist,o=n.ladies,a=n.matches,s=n.noMatch,l=n.options,u=n.roundNumber,d=n.roundPairings,h=n.updateMatch,p=n.updateNoMatch,f=n.updatePairs,x=l.length===u+2,j=l.length===u+1,v=c.useState(!1),Z=(0,r.Z)(v,2),m=Z[0],b=Z[1],S=c.useState([-1,-1]),C=(0,r.Z)(S,2),k=C[0],E=C[1],N=function(){b(!1)};return(0,g.jsxs)(w.Z,{children:[o.map((function(n,r){return(0,g.jsxs)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,g.jsx)(M.Z,{component:"th",scope:"row",children:n}),e.map((function(e,o){var c,l,h,p="outlined",v="primary";x?(s[r]&&s[r][o]||a[r]===o)&&(p="contained"):(null===(c=d[u])||void 0===c?void 0:c.pairs[r])===o&&(p="contained"),s[r]&&s[r][o]&&(v="error"),a[r]===o&&(v="success");var Z,m,S,C=t[r]&&(null===(l=t[r][o])||void 0===l||null===(h=l.rounds)||void 0===h?void 0:h.length)||0;return j&&C>0&&(p="contained"),(0,g.jsx)(M.Z,{sx:{padding:0,textAlign:"center"},children:(0,g.jsx)(i.Z,{variant:p,color:v,onClick:(Z=u,m=r,S=o,function(){var n;if(!j){if(x)return E([m,S]),void b(!0);var e=null===(n=d[Z])||void 0===n?void 0:n.pairs.indexOf(S);-1!==e&&f(Z,e,-1),f(Z,m,S)}}),children:j?C:"".concat(n[0],"-").concat(e[0])})},e)}))]},"ayto-table-row-".concat(n))})),(0,g.jsx)(A,{open:m,content:"".concat(o[k[0]]," & ").concat(e[k[1]]),onCancel:N,onMatch:function(){var n=(0,r.Z)(k,2),e=n[0],t=n[1];h(e,t),N()},onNoMatch:function(){var n=(0,r.Z)(k,2),e=n[0],t=n[1];p(e,t),N()}})]})},q=["gents"],F=function(n){var e=n.gents,t=(0,m.Z)(n,q);return(0,g.jsx)(S.Z,{component:h.Z,children:(0,g.jsxs)(b.Z,{"aria-label":"are you the one data entry table",children:[(0,g.jsx)(C.Z,{children:(0,g.jsxs)(y.Z,{children:[(0,g.jsx)(M.Z,{}),e.map((function(n){return(0,g.jsx)(M.Z,{sx:{paddingLeft:0,paddingRight:0,textAlign:"center"},children:n},n)}))]})}),(0,g.jsx)(W,(0,o.Z)({gents:e},t))]})})},O=t(67414),T=t(81918),Y=t(85523),I=t(91440),R=function(n){var e=n.gents,t=n.ladies,o=n.matches,a=n.noMatch,i=n.roundPairings,s=n.hist,l=n.tempScore,u=n.calculatedEquations,d=c.useState(!1),h=(0,r.Z)(d,2),p=h[0],f=h[1];return(0,g.jsxs)("div",{children:[(0,g.jsxs)(O.Z,{direction:"row",justifyContent:"space-between",children:[(0,g.jsx)("h1",{children:"Analysis"}),(0,g.jsx)(Y.Z,{control:(0,g.jsx)(I.Z,{checked:p,onChange:function(n){f(n.target.checked)},name:"show-all"}),label:"Show All Couples"})]}),(0,g.jsx)(O.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:i.map((function(n,r){var c=n.pairs,i=n.score,u=c.map((function(n,c){if(c<0||n<0)return null;var i=s[c][n].rounds.length>1,l=i?"primary":"default";if(p)a[c][n]&&(l="error"),o[c]===n&&(l="success");else if(a[c][n]||o[c]===n)return null;var u="".concat(t[c],"-").concat(e[n]).concat(i?" ".concat(s[c][n].rounds.length):""," - ").concat(s[c][n].odds,"%");return(0,g.jsx)(T.Z,{label:u,color:l},"eq-r".concat(r,"-l").concat(c,"-g").concat(n))}));return u.every((function(n){return null===n}))?null:(0,g.jsxs)(O.Z,{spacing:1,children:[(0,g.jsxs)("h2",{style:{textAlign:"center"},children:["Matchup ",r+1]}),u,(0,g.jsx)(T.Z,{label:p?i:i-l[r],color:"warning"})]},"equation-".concat(r))}))}),u.length>0&&(0,g.jsx)("hr",{}),(0,g.jsx)(O.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:u.map((function(n,r){var o=n.pairs,c=n.score;return(0,g.jsxs)(O.Z,{spacing:1,children:[(0,g.jsxs)("h2",{style:{textAlign:"center"},children:["Calculated ",r+1]}),o.map((function(n,r){return(0,g.jsx)(T.Z,{label:"".concat(t[r],"-").concat(e[n]," ").concat(s[r][n].rounds.length," - ").concat(s[r][n].odds,"%"),color:"primary"},"eq-calc-l".concat(r,"-g").concat(n))})),(0,g.jsx)(T.Z,{label:"max ".concat(c),color:"warning"})]},"equation-".concat(r))}))})]})},_=t(14917),B=t(93971),L=t(33834),z=function(n,e,t,o){var c=[],a=[],i=[];o.forEach((function(r,o){var s=r.pairs;a[o]=0,i[o]=n,s.forEach((function(n,r){(r<0||n<0||t[r][n])&&(i[o]-=1),e[r]===n&&(a[o]+=1,i[o]-=1),!c[r]&&(c[r]=[]),!c[r][n]&&(c[r][n]={odds:0,oddsWeight:0,rounds:[]}),c[r][n].rounds.push(o)}))}));var s={};o.forEach((function(n,o){var l=n.pairs,u=n.score;l.forEach((function(n,l){var d=c[l][n];if(!t[l][n])if(e[l]!==n){var h=i[o]?100*(u-a[o])/i[o]:0;if(0===d.oddsWeight?d.odds=Math.floor(h):h&&d.odds?d.odds=Math.floor((d.odds*d.oddsWeight+h)/(d.oddsWeight+1)):d.odds=0,d.oddsWeight+=1,!(d.rounds.length<2)){for(var p=[d.rounds.reduce((function(n,e){return n+e.toString()}),"")],f=o+1;f<d.rounds.length;f+=1)p.push("".concat(d.rounds[o]).concat(d.rounds[f]));p.forEach((function(e){!s[e]&&(s[e]={couples:[],score:u});var t=!0;s[e].couples.forEach((function(e){var o=(0,r.Z)(e,2),c=o[0],a=o[1];t=t&&c!==l&&a!==n})),t&&s[e].couples.push([l,n]),s[e].score=Math.min(u-a[o],s[e].score)}))}}else d.odds=100}))}));var l=[];return Object.keys(s).forEach((function(n){if(s[n].couples.length>1&&s[n].couples.length>s[n].score){var e=[];s[n].couples.forEach((function(n){var t=(0,r.Z)(n,2),o=t[0],c=t[1];e[o]=c}));var t=!1;l.forEach((function(r,o){for(var c=r.pairs,a=r.score,i=!0,u=!0,d=0;d<c.length;d+=1)e[d]!==c[d]&&(e[d]?(i=!1,u=!1):i=!1);t=t||i||u&&s[n].score>=a,i&&(l[o].score=Math.min(a,s[n].score))})),!t&&l.push({pairs:e,score:s[n].score})}})),{hist:c,tempScore:a,calculatedEquations:l}},G=function(){var n=(0,_.CG)((function(n){return(0,o.Z)({},n.ayto)})),e=n.roundPairings,t=n.noMatch,a=n.matches,i=(0,_.TL)(),s=c.useState(0),l=(0,r.Z)(s,2),u=l[0],d=l[1],h=z(B.MS.length,a,t,e),p=h.hist,f=h.tempScore,x=h.calculatedEquations,j=function(n,e){i((0,L.wn)({li:n,gi:e}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{children:"Are You The One?"}),(0,g.jsx)(Z,{matches:a,noMatch:t,onSelect:function(n){d(n)},options:B.YM,roundNumber:u,roundPairings:e,updateNoMatch:j,updateScore:function(n){i((0,L.Vs)({score:n,ri:u}))}}),(0,g.jsx)("br",{}),(0,g.jsx)(F,{gents:B.Zs,hist:p,ladies:B.MS,matches:a,noMatch:t,options:B.YM,roundNumber:u,roundPairings:e,updateMatch:function(n,t){i((0,L._J)({li:n,gi:t}));for(var r=0;r<B.YM.length-2;r+=1)(!e[r]||e[r].pairs[n]<0||void 0===e[r].pairs[n])&&i((0,L.tW)({ri:r,li:n,gi:t}))},updateNoMatch:j,updatePairs:function(n,e,t){i((0,L.tW)({ri:n,li:e,gi:t}))}}),(0,g.jsx)(R,{calculatedEquations:x,gents:B.Zs,hist:p,ladies:B.MS,matches:a,noMatch:t,roundPairings:e,tempScore:f})]})}}}]);
//# sourceMappingURL=g_are_you_the_one.b0ff0cda.chunk.js.map