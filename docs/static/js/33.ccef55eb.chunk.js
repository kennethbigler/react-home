(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{428:function(a,e,n){"use strict";var t=n(0),r=n.n(t),i=n(28),c=n.n(i),d=n(80),s=n(743),l=n(317),o=n.n(l),u=n(311),m=n.n(u),p=n(85),f=n.n(p),h=n(292),g=n.n(h),y=n(784),v=n(348),k=n(426),H=n.n(k),b=n(287),w=n.n(b),O={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",maxWidth:30,textAlign:"center",width:"100%"}},T=Object(t.memo)(function(a){var e=a.dropped,n=a.suit,t=a.name,i={color:"\u2663"===n||"\u2660"===n?"black":g.a[500],backgroundColor:e?g.a[100]:"white"};return r.a.createElement("div",{style:Object(d.a)({},O.cardFace,i),onClick:function(){(0,a.cardHandler)(a.playerNo,a.handNo,a.cardNo)},role:"main"},r.a.createElement("div",{style:O.cardTitle},t+n),r.a.createElement(y.a,{variant:"h3",style:Object(d.a)({},O.suit,i)},n))}),E=function(a){var e=a.cardHandler,n=a.cardsToDiscard,t=a.hand,i=a.handNo,s=a.isBlackJack,l=a.isHandTurn,o=a.isMultiHand,u=a.isPlayerTurn,m=a.playerNo,p=l&&o&&u||!o&&u?{fontWeight:"bold",color:H.a[700]}:{fontWeight:"normal"};return r.a.createElement("div",null,r.a.createElement(y.a,{variant:"h4",style:Object(d.a)({},p,{marginTop:"0.5em"})},s&&(t.weight>21?"Bust: ":"Hand Weight: ")+t.weight),c()(t.cards,function(a,t){var c=w()(n,t);return r.a.createElement(T,{key:a.name+a.suit,cardHandler:e,cardNo:t,dropped:c,handNo:i,name:a.name,playerNo:m,suit:a.suit})}))},D={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},N=function(a){var e=a.betHandler,n=a.cardHandler,t=a.cardsToDiscard,i=a.hideHands,l=a.isBlackJack,u=a.player,p=a.playerNo,h=a.turn,k=!!h&&p===h.player,H=u.hands.length>1,b=!!i&&l&&0!==u.id&&!u.isBot,w=Math.max(Math.min(u.money,5),0),O=Math.max(Math.min(u.money,100),10),T=k?{background:o.a[200]}:{},N=k?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===u.status&&(T={background:m.a[300]}),"draw"===u.status&&(T={background:f.a[300]}),"lose"===u.status&&(T={background:g.a[300]}),r.a.createElement(v.a,{style:Object(d.a)({},D.player,T)},r.a.createElement(y.a,{variant:"h4",style:Object(d.a)({},N)},u.name,": $",u.money),b&&r.a.createElement(s.a,{max:O,min:w,onChange:function(a,n){return e(u.id,a,n)},step:5,style:D.width,value:u.bet}),l&&0!==u.id&&r.a.createElement(y.a,{variant:"h5"},"Bet: $",u.bet),c()(u.hands,function(a,e){var c=!!h&&h.hand===e;return r.a.createElement("div",{key:"hand".concat(e)},!i&&r.a.createElement(E,{cardHandler:n,cardsToDiscard:t,hand:a,handNo:e,isBlackJack:l,isHandTurn:c,isMultiHand:H,isPlayerTurn:k,playerNo:p}))}))},j=function(a){var e=a.betHandler,n=a.cardHandler,t=a.cardsToDiscard,i=a.hideHands,d=a.isBlackJack,s=a.players,l=a.turn;return r.a.createElement("div",null,c()(s,function(a,c){return r.a.createElement(N,{key:"player".concat(c),betHandler:e,cardHandler:n,cardsToDiscard:t,hideHands:i,isBlackJack:d,player:a,playerNo:c,turn:l})}))},x=n(777),C=Object(t.memo)(function(a){var e=a.func,n=a.name;return r.a.createElement(x.a,{color:"primary",onClick:e,style:{margin:12},variant:"contained"},n)}),B=function(a){var e=a.gameFunctions;return r.a.createElement("div",null,c()(e,function(a){return r.a.createElement(C,{key:a.name,func:a.func,name:a.name})}))},G=function(a){var e=a.betHandler,n=a.cardClickHandler,t=a.cardsToDiscard,i=a.gameFunctions,c=a.gameOver,d=a.hideHands,s=a.isBlackJack,l=a.players,o=a.turn,u=l.slice(0,o.player+1),m=l.slice(o.player+1),p=d||!1!==c?l:l.slice(o.player,o.player+1),f={betHandler:e,cardsToDiscard:t,hideHands:d,isBlackJack:s,turn:o,cardHandler:n};return r.a.createElement("div",null,s&&!d?r.a.createElement("div",null,r.a.createElement(j,Object.assign({players:u},f)),r.a.createElement(B,{gameFunctions:i}),r.a.createElement(j,Object.assign({players:m},f))):r.a.createElement("div",null,r.a.createElement(j,Object.assign({players:p},f)),r.a.createElement(B,{gameFunctions:i})))};G.defaultProps={isBlackJack:!0};e.a=G},817:function(a,e,n){"use strict";n.r(e);var t=n(74),r=n(75),i=n(77),c=n(76),d=n(78),s=n(0),l=n.n(s),o=n(39),u=n.n(o),m=n(287),p=n.n(m),f=n(294),h=n.n(f),g=n(126),y=n.n(g),v=n(784),k=n(38),H=n(24),b=n(84),w=n(99),O=n(428),T=n(17),E=0,D=5,N=function(a){function e(a){var n;return Object(t.a)(this,e),(n=Object(i.a)(this,Object(c.a)(e).call(this,a))).setNewGameRedux=function(){var a=n.props,e=a.turnActions,t=a.playerActions,r=a.players;e.resetTurn(),u()(r,function(a){return t.resetStatus(a.id)})},n.getNewGameState=function(){return{gameFunctions:[{name:"Start Game",func:n.startGame}],cardsToDiscard:[],hideHands:!0,gameOver:!1}},n.getHand=function(){var a=n.props,e=a.turn,t=a.players;return y()(t[e.player],"hands[0].cards",null)},n.getHistogram=function(a){var e=[0,0,0,0,0,0,0,0,0,0,0,0,0];return u()(a,function(a){e[a.weight-2]+=1}),e},n.newGame=function(){n.setNewGameRedux(),n.setState(n.getNewGameState())},n.startGame=function(){n.setState({gameFunctions:[{name:"Discard Cards",func:n.handleDiscard}],hideHands:!1}),n.dealHands()},n.endTurn=function(){n.props.turnActions.incrPlayerTurn(),n.setState({gameFunctions:[{name:"Discard Cards",func:n.handleDiscard}],cardsToDiscard:[]})},n.endGame=function(){var a=n.props,e=a.players,t=a.playerActions,r={val:0,id:0};u()(e,function(a){if(!(a.id===E||a.id>D)){var e=parseInt(n.evaluate(a.hands[0].cards),14);e>r.val&&(r={val:e,id:a.id})}}),u()(e,function(a){a.id===E||a.id>D||(a.id===r.id?t.payout(a.id,"win",20):t.payout(a.id,"lose",-5))}),n.setState({gameFunctions:[{name:"New Game",func:n.newGame}],gameOver:!0})},n.rankHand=function(a,e){if(p()(e,4))return 7;var n=p()(e,3),t=e.indexOf(2),r=-1!==t;if(n&&r)return 6;if(n)return 3;if(r&&p()(e,2,t+1))return 2;if(r)return 1;for(var i=e.lastIndexOf(1)-e.indexOf(1)===4||e[12]&&e[0]&&e[1]&&e[2]&&e[3],c=!0,d=0;d<a.length;d+=1)if(a[d].suit!==a[0].suit){c=!1;break}return i&&c?8:c?5:i?4:0},n.discard=function(a){var e=n.props,t=e.turn,r=e.playerActions,i=e.players[t.player],c=i.id,d=i.hands;r.swapCards(d,c,a)},n.handleDiscard=function(){var a=n.state.cardsToDiscard;n.discard(a),n.setState({gameFunctions:[{name:"End Turn",func:n.endTurn}],cardsToDiscard:[]})},n.discardHelper=function(a,e){for(var t=n.getHand(),r=[],i=[e.indexOf(1)],c=1;c<a;c+=1)i[c]=e.indexOf(1,i[c-1]+1);for(var d=0;d<t.length;d+=1)for(var s=0;s<i.length;s+=1)if(t[d].weight-2===i[s]){r.push(d);break}n.discard(r)},n.computer=function(){var a=n.getHand(),e=n.getHistogram(a);switch(n.rankHand(a,e)){case 0:e.lastIndexOf(1)>=11?n.discardHelper(4,e):n.discard([0,1,2,3,4]);break;case 1:n.discardHelper(3,e);break;case 2:case 3:n.discardHelper(1,e)}n.endTurn()},n.cardClickHandler=function(a,e,t){var r=n.state.cardsToDiscard,i=r.indexOf(t);-1===i?r.push(t):r.splice(i,1),n.setState({cardsToDiscard:r})},n.evaluate=function(a){for(var e=n.getHistogram(a),t=n.rankHand(a,e),r=[0,0,0,0,0],i=0,c=4,d=0,s=-1;i<5;){var l=e.indexOf(c,s+1);-1===l?(c-=1,s=-1):(r[d]=l.toString(14),d+=1,i+=c,s=l)}return"".concat(t).concat(h()(r,function(a,e){return"".concat(a).concat(e)}))},n.dealHands=function(){var a=n.props,e=a.playerActions,t=a.players;T.a.shuffle(),u()(t,function(a){return a.id!==E&&a.id<=D&&e.newHand(a.id,5)})},n.setNewGameRedux(),n.state=n.getNewGameState(),n}return Object(d.a)(e,a),Object(r.a)(e,[{key:"componentDidUpdate",value:function(){var a=this.props,e=a.players,n=a.turn,t=this.state,r=t.hideHands,i=t.gameOver,c=e[n.player],d=c.id!==E&&c.id<=D;r||i||!c.isBot||(d?this.computer():this.endGame())}},{key:"render",value:function(){var a=this.props,e=a.turn,n=a.players,t=this.state,r=t.cardsToDiscard,i=t.gameFunctions,c=t.gameOver,d=t.hideHands;return l.a.createElement("div",null,l.a.createElement(v.a,{variant:"h2",gutterBottom:!0},"5 Card Draw Poker"),l.a.createElement(O.a,{cardClickHandler:this.cardClickHandler,cardsToDiscard:r,gameFunctions:i,gameOver:c,hideHands:d,isBlackJack:!1,players:n,turn:e}))}}]),e}(s.Component);var j=Object(k.b)(function(a){return{turn:a.turn,players:a.players}},function(a){return{turnActions:Object(H.a)({incrPlayerTurn:w.c,resetTurn:w.d},a),playerActions:Object(H.a)({swapCards:b.g,newHand:b.c,payout:b.d,resetStatus:b.e},a)}})(N);e.default=j}}]);
//# sourceMappingURL=33.ccef55eb.chunk.js.map