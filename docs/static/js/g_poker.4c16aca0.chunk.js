(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[10],{298:function(a,e,n){"use strict";var r=n(0),t=n.n(r),c=n(1),i=n(725),u=n(175),l=n.n(u),o=n(164),s=n.n(o),d=n(54),f=n.n(d),m=n(140),p=n.n(m),k=n(681),b=n(243),h=n(391),v=n.n(h),y={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},g=t.a.memo((function(a){var e=a.dropped,n=a.suit,r=a.name,i=a.cardHandler,u=a.playerNo,l=a.handNo,o=a.cardNo,s=t.a.useCallback((function(){i&&i(u,l,o)}),[i,o,l,u]),d={color:"\u2663"===n||"\u2660"===n?"black":p.a[500],backgroundColor:e?p.a[100]:"white"};return t.a.createElement("div",{style:Object(c.a)({},y.cardFace,{},d),onClick:s,role:"main"},t.a.createElement("div",{style:y.cardTitle},r+n),t.a.createElement(k.a,{variant:"h4",style:Object(c.a)({},y.suit,{},d)},n))})),O={fontWeight:"bold",marginTop:"0.5em"},x={fontWeight:"normal",marginTop:"0.5em"},E=function(a){var e=a.cardHandler,n=a.cardsToDiscard,r=a.hand,i=a.handNo,u=a.isBlackJack,l=a.isHandTurn,o=a.isMultiHand,s=a.isPlayerTurn,d=a.playerNo,f=t.a.useMemo((function(){return s&&(!o||o&&l)?Object(c.a)({},O,{color:v.a[700]}):x}),[s,o,l]),m=r.weight||0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(k.a,{variant:"h4",style:f},u&&"".concat(m>21?"Bust":"Hand",": ").concat(m)),r.cards.map((function(a,r){var c=n.includes(r);return t.a.createElement(g,{key:a.name+a.suit,cardHandler:e,cardNo:r,dropped:c,handNo:i,name:a.name,playerNo:d,suit:a.suit})})))},H={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},w=function(a){var e=a.betHandler,n=a.cardHandler,r=a.cardsToDiscard,u=a.hideHands,o=a.isBlackJack,d=a.player,m=a.playerNo,h=a.turn,v=!!h&&m===h.player,y=d.hands.length>1,g=!!u&&o&&0!==d.id&&!d.isBot,O=Math.max(Math.min(d.money,5),0),x=Math.max(Math.min(d.money,100),10),w=t.a.useCallback((function(a,n){e&&e(d.id,a,n)}),[e,d.id]),C=v?{background:l.a[200]}:{},j=v?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===d.status&&(C={background:s.a[300]}),"draw"===d.status&&(C={background:f.a[300]}),"lose"===d.status&&(C={background:p.a[300]}),t.a.createElement(b.a,{style:Object(c.a)({},H.player,{},C)},t.a.createElement(k.a,{variant:"h4",style:Object(c.a)({},j)},"".concat(d.name,": $").concat(d.money)),g&&t.a.createElement(i.a,{max:x,min:O,onChange:w,step:5,style:H.width,value:d.bet}),o&&0!==d.id&&t.a.createElement(k.a,{variant:"h5"},"Bet: $".concat(d.bet)),d.hands.map((function(a,e){var c=!!h&&h.hand===e;return t.a.createElement("div",{key:"hand".concat(e)},!u&&t.a.createElement(E,{cardHandler:n,cardsToDiscard:r,hand:a,handNo:e,isBlackJack:o,isHandTurn:c,isMultiHand:y,isPlayerTurn:v,playerNo:m}))})))},C=function(a){var e=a.betHandler,n=a.cardHandler,r=a.cardsToDiscard,c=a.hideHands,i=a.isBlackJack,u=a.players,l=a.turn;return t.a.createElement(t.a.Fragment,null,u.map((function(a,u){return t.a.createElement(w,{key:"player".concat(u),betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:c,isBlackJack:i,player:a,playerNo:u,turn:l})})))},j=n(676),T={margin:12},F=t.a.memo((function(a){var e=a.onClick,n=a.name;return t.a.createElement(j.a,{color:"primary",onClick:function(){return e(n)},style:T,variant:"contained"},n)})),B=function(a){var e=a.gameFunctions,n=a.onClick;return t.a.createElement("div",null,e.map((function(a){return t.a.createElement(F,{key:a,onClick:n,name:a})})))},D=function(a){var e=a.betHandler,n=a.cardClickHandler,r=a.cardsToDiscard,c=a.gameFunctions,i=a.gameOver,u=a.hideHands,l=a.isBlackJack,o=a.players,s=a.turn,d=a.onClick,f=t.a.useMemo((function(){return o.slice(0,s.player+1)}),[o,s.player]),m=t.a.useMemo((function(){return o.slice(s.player+1)}),[o,s.player]),p=t.a.useMemo((function(){return u||!1!==i?o:o.slice(s.player,s.player+1)}),[u,i,o,s.player]);return t.a.createElement(t.a.Fragment,null,l&&!u?t.a.createElement(t.a.Fragment,null,t.a.createElement(C,{players:f,betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:u,isBlackJack:l,turn:s}),t.a.createElement(B,{gameFunctions:c,onClick:d}),t.a.createElement(C,{players:m,betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:u,isBlackJack:l,turn:{player:-1,hand:-1}})):t.a.createElement(t.a.Fragment,null,t.a.createElement(C,{players:p,betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:u,isBlackJack:l,turn:s}),t.a.createElement(B,{gameFunctions:c,onClick:d})))};D.defaultProps={cardsToDiscard:[],gameFunctions:[],gameOver:!1,hideHands:!1,isBlackJack:!0};var N=D;e.a=N},716:function(a,e,n){"use strict";n.r(e);var r=n(9),t=n(1),c=n(0),i=n.n(c),u=n(681),l=n(31),o=n(298),s=n(59),d=n(4),f=n.n(d),m=n(10),p=n(57),k=n(7),b=n(20),h=function(a,e){if(e.includes(4))return 7;var n=e.includes(3),r=e.indexOf(2),t=-1!==r;if(n&&t)return 6;if(n)return 3;if(t&&e.includes(2,r+1))return 2;if(t)return 1;for(var c=e.lastIndexOf(1)-e.indexOf(1)===4||e[12]&&e[0]&&e[1]&&e[2]&&e[3],i=!0,u=0;u<a.length;u+=1)if(a[u].suit!==a[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},v=function(a){var e=[0,0,0,0,0,0,0,0,0,0,0,0,0];return a.forEach((function(a){e[(a.weight||2)-2]+=1})),e},y=function(a){for(var e=v(a),n=h(a,e),r=["0","0","0","0","0"],t=0,c=4,i=0,u=-1;t<5;){var l=e.indexOf(c,u+1);-1===l?(c-=1,u=-1):(r[i]=l.toString(14),i+=1,t+=c,u=l)}return"".concat(n).concat(r.reduce((function(a,e){return"".concat(a).concat(e)})))},g=function(a,e,n){for(var r=[],t=[e.indexOf(1)],c=1;c<a;c+=1)t[c]=e.indexOf(1,t[c-1]+1);for(var i=0;i<n.length;i+=1)for(var u=0;u<t.length;u+=1)if(n[i].weight-2===t[u]){r.push(i);break}return r},O=n(2),x=function(a,e,n,r,t,c){var u=i.a.useCallback(Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(s.d)());case 2:case"end":return e.stop()}}),e)}))),[a]),l=i.a.useCallback(function(){var e=Object(m.a)(f.a.mark((function e(n,r){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,c=r.hands,e.next=3,a(Object(k.g)(c,t,n));case 3:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),[a]),o=i.a.useCallback(function(){var a=Object(m.a)(f.a.mark((function a(e){var n,r,t,c,i,u;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.hands[0].cards,r=v(n),t=h(n,r),a.t0=t,a.next=0===a.t0?6:1===a.t0?10:2===a.t0?14:3===a.t0?14:4===a.t0?18:5===a.t0?18:6===a.t0?18:7===a.t0?18:(a.t0,18);break;case 6:return c=r.lastIndexOf(1)>=11?g(4,r,n):[0,1,2,3,4],a.next=9,l(c,e);case 9:return a.abrupt("break",19);case 10:return i=g(3,r,n),a.next=13,l(i,e);case 13:return a.abrupt("break",19);case 14:return u=g(1,r,n),a.next=17,l(u,e);case 17:case 18:return a.abrupt("break",19);case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[l]),d=i.a.useCallback(Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(s.c)());case 2:return e.next=4,Object(p.a)(n,function(){var a=Object(m.a)(f.a.mark((function a(e,n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r<=n&&n<5)){a.next=3;break}return a.next=3,o(e);case 3:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}());case 4:t={val:0,id:0},n.forEach((function(a){if(!(0===a.id||a.id>5)){var e=parseInt(y(a.hands[0].cards),14);e>t.val&&(t={val:e,id:a.id})}})),n.forEach((function(e){0===e.id||e.id>5||(e.id===t.id?a(Object(k.d)(e.id,"win",20)):a(Object(k.d)(e.id,"lose",-5)))}));case 7:case"end":return e.stop()}}),e)}))),[o,a,n,r]),x=i.a.useCallback(Object(m.a)(f.a.mark((function a(){var e;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=n[r]||{isBot:!1},t||c||!e.isBot){a.next=4;break}return a.next=4,d();case 4:case"end":return a.stop()}}),a)}))),[d,n,c,t,r]),E=i.a.useCallback((function(){a(Object(s.e)(n))}),[a,n]),H=i.a.useCallback((function(){a(Object(s.f)()),b.a.shuffle().then((function(){Object(p.a)(n,function(){var e=Object(m.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0!==n.id&&n.id<=5)){e.next=3;break}return e.next=3,a(Object(k.c)(n.id,5));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}))}),[a,n]),w=i.a.useCallback((function(){l(e,n[r]),a(Object(s.b)())}),[l,a,n,r,e]);return{checkUpdate:x,handleGameFunctionClick:i.a.useCallback((function(a){switch(a){case O.d.DISCARD_CARDS:w();break;case O.d.END_TURN:u();break;case O.d.NEW_GAME:E();break;case O.d.START_GAME:H();break;default:console.error("Unknown Game Function: ",a)}}),[u,w,E,H])}},E=function(){var a=Object(l.c)((function(a){return Object(t.a)({turn:a.turn,players:a.players},a.poker)})),e=a.turn,n=a.players,c=a.cardsToDiscard,d=a.gameFunctions,f=a.gameOver,m=a.hideHands,p=Object(l.b)(),k=i.a.useCallback((function(a,e,n){var t=Object(r.a)(c),i=t.indexOf(n);-1===i?t.push(n):t.splice(i,1),p(Object(s.g)(t))}),[c,p]),b=x(p,c,n,e.player,m,f),h=b.checkUpdate,v=b.handleGameFunctionClick;return h(),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{variant:"h2",gutterBottom:!0},"5 Card Draw Poker"),i.a.createElement(o.a,{cardClickHandler:k,cardsToDiscard:c,gameFunctions:d,onClick:v,gameOver:f,hideHands:m,isBlackJack:!1,players:n,turn:e}))};e.default=E}}]);
//# sourceMappingURL=g_poker.4c16aca0.chunk.js.map