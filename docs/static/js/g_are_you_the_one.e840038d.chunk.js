"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[931],{75027:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r=t(29439),o=t(1413),c=t(72791),a=t(16030),i=t(27391),s=t(24518),u=t(2199),l=t(26759),d=t(53767),h=t(13208),f=t(10703),p=t(95892),x=t(64387),j=t(76933),v=t(80184),Z=function(n){var e=n.roundNumber,t=n.options,a=n.onSelect,i=c.useState(!1),Z=(0,r.Z)(i,2),g=Z[0],m=Z[1],b=c.useRef(null),M=function(n){b.current&&b.current.contains(n.target)||m(!1)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(u.Z,{ref:b,variant:"contained","aria-label":"split button",color:e+2===t.length?"error":"primary",children:[(0,v.jsx)(s.Z,{children:t[e]}),(0,v.jsx)(s.Z,{size:"small","aria-controls":g?"split-button-menu":void 0,"aria-expanded":g?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){m((function(n){return!n}))},children:(0,v.jsx)(l.Z,{})})]}),(0,v.jsx)(p.Z,{open:g,anchorEl:b.current,role:void 0,transition:!0,disablePortal:!0,children:function(n){var r=n.TransitionProps,c=n.placement;return(0,v.jsx)(h.Z,(0,o.Z)((0,o.Z)({},r),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:(0,v.jsx)(f.Z,{children:(0,v.jsx)(d.Z,{onClickAway:M,children:(0,v.jsx)(j.Z,{id:"split-button-menu",autoFocusItem:!0,children:t.map((function(n,t){return(0,v.jsx)(x.Z,{selected:t===e,onClick:function(n){return function(n,e){a(e),m(!1)}(0,t)},children:n},n)}))})})})}))}})]})},g=function(n){return isNaN(n)?-1:n},m=function(n){var e,t=n.matches,o=n.noMatch,a=n.options,u=n.onSelect,l=n.roundNumber,d=n.roundPairings,h=n.updateNoMatch,f=n.updateScore,p=c.useState(g(null===(e=d[l])||void 0===e?void 0:e.score)),x=(0,r.Z)(p,2),j=x[0],m=x[1];return(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,v.jsx)(Z,{roundNumber:l,options:a,onSelect:function(n){var e;m(g(null===(e=d[n])||void 0===e?void 0:e.score)),u(n)}}),l<a.length-2&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.Z,{variant:"outlined",onClick:function(){d[l].pairs.forEach((function(n,e){t[e]===n||o[e][n]||h(e,n)}))},children:"Blackout"}),(0,v.jsx)(i.Z,{id:"score-input",label:"Score",variant:"outlined",type:"number",value:j,onChange:function(n){m(parseInt(n.target.value,10)||0),f(parseInt(n.target.value,10))}})]})]})},b=t(45987),M=t(79836),y=t(53994),C=t(39281),S=t(56890),k=t(35855),w=t(53382),N=t(65661),E=t(5289),P=t(97123),A=t(39157),W=function(n){var e=n.open,t=n.content,r=n.onMatch,o=n.onNoMatch,c=n.onCancel;return(0,v.jsxs)(E.Z,{onClose:c,open:e,children:[(0,v.jsx)(N.Z,{children:"TB Result"}),(0,v.jsxs)(A.Z,{children:["Are ",t," a perfect match?"]}),(0,v.jsxs)(P.Z,{children:[(0,v.jsx)(s.Z,{onClick:r,children:"Match"}),(0,v.jsx)(s.Z,{onClick:o,color:"error",children:"No Match"}),(0,v.jsx)(s.Z,{onClick:c,color:"warning",children:"Cancel"})]})]})},F=function(n){var e=n.gents,t=n.ladies,o=n.matches,a=n.noMatch,i=n.options,u=n.roundNumber,l=n.roundPairings,d=n.updateMatch,h=n.updateNoMatch,f=n.updatePairs,p=i.length===u+2,x=i.length===u+1,j=c.useState(!1),Z=(0,r.Z)(j,2),g=Z[0],m=Z[1],b=c.useState([-1,-1]),M=(0,r.Z)(b,2),C=M[0],S=M[1],N=[];l.forEach((function(n){n.pairs.forEach((function(n,e){!N[e]&&(N[e]=[]),N[e][n]=N[e][n]?N[e][n]+1:1}))}));var E=function(){m(!1)};return(0,v.jsxs)(w.Z,{children:[t.map((function(n,t){return(0,v.jsxs)(k.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,v.jsx)(y.Z,{component:"th",scope:"row",children:n}),e.map((function(e,r){var c,i="outlined",d="primary",h=!1;p?(d="error",a[t]&&a[t][r]&&(i="contained")):(null===(c=l[u])||void 0===c?void 0:c.pairs[t])===r?i="contained":a[t]&&a[t][r]&&(i="contained",h=!0),o[t]===r&&(d="success");var j,Z,g,b=N[t]&&N[t][r]||0;return x&&b>0&&(i="contained"),(0,v.jsx)(y.Z,{sx:{padding:0,textAlign:"center"},children:(0,v.jsx)(s.Z,{variant:i,color:d,onClick:(j=u,Z=t,g=r,function(){var n;if(!x){if(p)return S([Z,g]),void m(!0);var e=null===(n=l[j])||void 0===n?void 0:n.pairs.indexOf(g);-1!==e&&f(j,e,-1),f(j,Z,g)}}),disabled:h,children:x?b:"".concat(n[0],"-").concat(e[0])})},e)}))]},"ayto-table-row-".concat(n))})),(0,v.jsx)(W,{open:g,content:"".concat(t[C[0]]," & ").concat(e[C[1]]),onCancel:E,onMatch:function(){var n=(0,r.Z)(C,2),e=n[0],t=n[1];d(e,t),E()},onNoMatch:function(){var n=(0,r.Z)(C,2),e=n[0],t=n[1];h(e,t),E()}})]})},I=["gents"],O=function(n){var e=n.gents,t=(0,b.Z)(n,I);return(0,v.jsx)(C.Z,{component:f.Z,children:(0,v.jsxs)(M.Z,{"aria-label":"are you the one data entry table",children:[(0,v.jsx)(S.Z,{children:(0,v.jsxs)(k.Z,{children:[(0,v.jsx)(y.Z,{}),e.map((function(n){return(0,v.jsx)(y.Z,{sx:{paddingLeft:0,paddingRight:0,textAlign:"center"},children:n},n)}))]})}),(0,v.jsx)(F,(0,o.Z)({gents:e},t))]})})},Y=t(67414),q=t(81918),R=t(85523),T=t(91440),_=function(n,e,t,o){var c=[],a=[],i=[];o.forEach((function(r,o){var s=r.pairs;a[o]=0,i[o]=n,s.forEach((function(n,r){(r<0||n<0||t[r][n])&&(i[o]-=1),e[r]===n&&(a[o]+=1,i[o]-=1),!c[r]&&(c[r]=[]),!c[r][n]&&(c[r][n]={odds:0,oddsWeight:0,rounds:[]}),c[r][n].rounds.push(o)}))}));var s={};o.forEach((function(r,o){var u=r.pairs,l=r.score;u.forEach((function(r,u){var d=c[u][r];if(!t[u][r])if(e[u]!==r){var h=i[o]?100*(l-a[o])/i[o]:0;if(d.odds=Math.floor((d.odds*d.oddsWeight+h)/(d.oddsWeight+1)),!(d.rounds.length<2)){var f=d.rounds.reduce((function(n,e){return n+e.toString()}),"");!s[f]&&(s[f]={couples:[],score:n}),s[f].couples.push([u,r]),s[f].score=Math.min(l-a[o],s[f].score)}}else d.odds=100}))}));var u=[];return Object.keys(s).forEach((function(n){if(s[n].couples.length>2&&s[n].couples.length>s[n].score){var e=[];s[n].couples.forEach((function(n){var t=(0,r.Z)(n,2),o=t[0],c=t[1];e[o]=c})),u.push({pairs:e,score:s[n].score})}})),{hist:c,tempScore:a,calculatedEquations:u}},B=function(n){var e=n.gents,t=n.ladies,o=n.matches,a=n.noMatch,i=n.roundPairings,s=c.useState(!1),u=(0,r.Z)(s,2),l=u[0],d=u[1],h=_(t.length,o,a,i),f=h.hist,p=h.tempScore;return(0,v.jsxs)("div",{children:[(0,v.jsxs)(Y.Z,{direction:"row",justifyContent:"space-between",children:[(0,v.jsx)("h1",{children:"Analysis"}),(0,v.jsx)(R.Z,{control:(0,v.jsx)(T.Z,{checked:l,onChange:function(n){d(n.target.checked)},name:"show-all"}),label:"Show All Couples"})]}),(0,v.jsx)(Y.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:i.map((function(n,r){var c=n.pairs,i=n.score,s=c.map((function(n,c){if(c<0||n<0)return null;var i=f[c][n].rounds.length>1,s=i?"primary":"default";if(l)a[c][n]&&(s="error"),o[c]===n&&(s="success");else if(a[c][n]||o[c]===n)return null;var u="".concat(t[c],"-").concat(e[n]).concat(i?" ".concat(f[c][n].rounds.length):""," - ").concat(f[c][n].odds,"%");return(0,v.jsx)(q.Z,{label:u,color:s},"eq-r".concat(r,"-l").concat(c,"-g").concat(n))}));return s.every((function(n){return null===n}))?null:(0,v.jsxs)(Y.Z,{spacing:1,children:[(0,v.jsxs)("h2",{style:{textAlign:"center"},children:["Matchup ",r+1]}),s,(0,v.jsx)(q.Z,{label:l?i:i-p[r],color:"warning"})]},"equation-".concat(r))}))})]})},z=t(93971),J=t(33834),L=function(){var n=(0,a.v9)((function(n){return(0,o.Z)({},n.ayto)})),e=n.roundPairings,t=n.noMatch,i=n.matches,s=(0,a.I0)(),u=c.useState(0),l=(0,r.Z)(u,2),d=l[0],h=l[1],f=function(n,e){s((0,J.wn)(n,e))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{children:"Are You The One?"}),(0,v.jsx)(m,{matches:i,noMatch:t,onSelect:function(n){h(n)},options:z.YM,roundNumber:d,roundPairings:e,updateNoMatch:f,updateScore:function(n){s((0,J.Vs)(n,d))}}),(0,v.jsx)("br",{}),(0,v.jsx)(O,{gents:z.Zs,ladies:z.MS,matches:i,noMatch:t,options:z.YM,roundNumber:d,roundPairings:e,updateMatch:function(n,t){s((0,J._J)(n,t));for(var r=0;r<z.YM.length-2;r+=1)(!e[r]||e[r].pairs[n]<0||void 0===e[r].pairs[n])&&s((0,J.tW)(r,n,t))},updateNoMatch:f,updatePairs:function(n,e,t){s((0,J.tW)(n,e,t))}}),(0,v.jsx)(B,{gents:z.Zs,ladies:z.MS,matches:i,noMatch:t,roundPairings:e})]})}}}]);
//# sourceMappingURL=g_are_you_the_one.e840038d.chunk.js.map