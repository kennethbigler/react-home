(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[10],{325:function(a,e,r){"use strict";r.d(e,"a",(function(){return M}));var n=r(5),t=r(0),c=r.n(t),s=r(2),i=r(757),d=r(34),l=r.n(d),o=r(162),u=r.n(o),b=r(62),h=r.n(b),p=r(143),j=r.n(p),k=r(716),f=r(269),m=r(425),O=r.n(m),x={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},v=c.a.memo((a=>{var e=a.dropped,r=a.suit,t=a.name,i=a.cardHandler,d=a.playerNo,l=a.handNo,o=a.cardNo,u=c.a.useCallback((()=>{i&&i(d,l,o)}),[i,o,l,d]),b={color:"\u2663"===r||"\u2660"===r?"black":j.a[500],backgroundColor:e?j.a[100]:"white"};return Object(n.jsxs)("div",{style:Object(s.a)(Object(s.a)({},x.cardFace),b),onClick:u,role:"main",children:[Object(n.jsx)("div",{style:x.cardTitle,children:t+r}),Object(n.jsx)(k.a,{variant:"h4",style:Object(s.a)(Object(s.a)({},x.suit),b),children:r})]})})),g={fontWeight:"bold",marginTop:"0.5em"},y={fontWeight:"normal",marginTop:"0.5em"},H=a=>{var e=a.cardHandler,r=a.cardsToDiscard,t=a.hand,i=a.handNo,d=a.isBlackJack,l=a.isHandTurn,o=a.isMultiHand,u=a.isPlayerTurn,b=a.playerNo,h=c.a.useMemo((()=>u&&(!o||o&&l)?Object(s.a)(Object(s.a)({},g),{},{color:O.a[700]}):y),[u,o,l]),p=t.weight||0;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(k.a,{variant:"h4",style:h,children:d&&"".concat(p>21?"Bust":"Hand",": ").concat(p)}),t.cards.map(((a,t)=>{var c=r.includes(t);return Object(n.jsx)(v,{cardHandler:e,cardNo:t,dropped:c,handNo:i,name:a.name,playerNo:b,suit:a.suit},a.name+a.suit)}))]})},w={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},C=a=>{var e=a.betHandler,r=a.cardHandler,t=a.cardsToDiscard,d=a.hideHands,o=a.isBlackJack,b=a.player,p=a.playerNo,m=a.turn,O=!!m&&p===m.player,x=b.hands.length>1,v=!!d&&o&&0!==b.id&&!b.isBot,g=Math.max(Math.min(b.money,5),0),y=Math.max(Math.min(b.money,100),10),C=c.a.useCallback(((a,r)=>{e&&e(b.id,a,r)}),[e,b.id]),T=O?{background:l.a[200]}:{},F=O?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===b.status&&(T={background:u.a[300]}),"draw"===b.status&&(T={background:h.a[300]}),"lose"===b.status&&(T={background:j.a[300]}),Object(n.jsxs)(f.a,{style:Object(s.a)(Object(s.a)({},w.player),T),children:[Object(n.jsx)(k.a,{variant:"h4",style:Object(s.a)({},F),children:"".concat(b.name,": $").concat(b.money)}),v&&Object(n.jsx)(i.a,{max:y,min:g,onChange:C,step:5,style:w.width,value:b.bet}),o&&0!==b.id&&Object(n.jsx)(k.a,{variant:"h5",children:"Bet: $".concat(b.bet)}),b.hands.map(((a,e)=>{var c=!!m&&m.hand===e;return Object(n.jsx)("div",{children:!d&&Object(n.jsx)(H,{cardHandler:r,cardsToDiscard:t,hand:a,handNo:e,isBlackJack:o,isHandTurn:c,isMultiHand:x,isPlayerTurn:O,playerNo:p})},"hand".concat(e))}))]})},T=a=>{var e=a.betHandler,r=a.cardHandler,t=a.cardsToDiscard,c=a.hideHands,s=a.isBlackJack,i=a.players,d=a.turn;return Object(n.jsx)(n.Fragment,{children:i.map(((a,i)=>Object(n.jsx)(C,{betHandler:e,cardHandler:r,cardsToDiscard:t,hideHands:c,isBlackJack:s,player:a,playerNo:i,turn:d},"player".concat(i))))})},F=r(711),B={margin:12},D=c.a.memo((({onClick:a,name:e})=>Object(n.jsx)(F.a,{color:"primary",onClick:()=>a(e),style:B,variant:"contained",children:e}))),N=({gameFunctions:a,onClick:e})=>Object(n.jsx)("div",{children:a.map((a=>Object(n.jsx)(D,{onClick:e,name:a},a)))}),J=a=>{var e=a.betHandler,r=a.cardClickHandler,t=a.cardsToDiscard,s=a.gameFunctions,i=a.gameOver,d=a.hideHands,l=a.isBlackJack,o=a.players,u=a.turn,b=a.onClick,h=c.a.useMemo((()=>o.slice(0,u.player+1)),[o,u.player]),p=c.a.useMemo((()=>o.slice(u.player+1)),[o,u.player]),j=c.a.useMemo((()=>d||!1!==i?o:o.slice(u.player,u.player+1)),[d,i,o,u.player]);return Object(n.jsx)(n.Fragment,{children:l&&!d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(T,{players:h,betHandler:e,cardHandler:r,cardsToDiscard:t,hideHands:d,isBlackJack:l,turn:u}),Object(n.jsx)(N,{gameFunctions:s,onClick:b}),Object(n.jsx)(T,{players:p,betHandler:e,cardHandler:r,cardsToDiscard:t,hideHands:d,isBlackJack:l,turn:{player:-1,hand:-1}})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(T,{players:j,betHandler:e,cardHandler:r,cardsToDiscard:t,hideHands:d,isBlackJack:l,turn:u}),Object(n.jsx)(N,{gameFunctions:s,onClick:b})]})})};J.defaultProps={cardsToDiscard:[],gameFunctions:[],gameOver:!1,hideHands:!1,isBlackJack:!0};var M=J},750:function(a,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return y}));var n=r(2),t=r(5),c=r(0),s=r.n(c),i=r(716),d=r(31),l=r(325),o=r(65),u=r(7),b=r.n(u),h=r(13),p=r(63),j=r(10),k=r(20),f=(a,e)=>{if(e.includes(4))return 7;var r=e.includes(3),n=e.indexOf(2),t=-1!==n;if(r&&t)return 6;if(r)return 3;if(t&&e.includes(2,n+1))return 2;if(t)return 1;for(var c=e.lastIndexOf(1)-e.indexOf(1)===4||e[12]&&e[0]&&e[1]&&e[2]&&e[3],s=!0,i=0;i<a.length;i+=1)if(a[i].suit!==a[0].suit){s=!1;break}return c&&s?8:s?5:c?4:0},m=a=>{var e=[0,0,0,0,0,0,0,0,0,0,0,0,0];return a.forEach((a=>{e[(a.weight||2)-2]+=1})),e},O=a=>{for(var e=m(a),r=f(a,e),n=["0","0","0","0","0"],t=0,c=4,s=0,i=-1;t<5;){var d=e.indexOf(c,i+1);-1===d?(c-=1,i=-1):(n[s]=d.toString(14),s+=1,t+=c,i=d)}return"".concat(r).concat(n.reduce(((a,e)=>"".concat(a).concat(e))))},x=(a,e,r)=>{for(var n=[],t=[e.indexOf(1)],c=1;c<a;c+=1)t[c]=e.indexOf(1,t[c-1]+1);for(var s=0;s<r.length;s+=1)for(var i=0;i<t.length;i+=1)if(r[s].weight-2===t[i]){n.push(s);break}return n},v=r(3),g=(a,e,r,n,t,c)=>{var i=s.a.useCallback(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(o.d)());case 2:case"end":return e.stop()}}),e)}))),[a]),d=s.a.useCallback(function(){var e=Object(h.a)(b.a.mark((function e(r,n){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,c=n.hands,e.next=3,a(Object(j.g)(c,t,r));case 3:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}(),[a]),l=s.a.useCallback(function(){var a=Object(h.a)(b.a.mark((function a(e){var r,n,t,c,s,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.hands[0].cards,n=m(r),t=f(r,n),a.t0=t,a.next=0===a.t0?6:1===a.t0?10:2===a.t0||3===a.t0?14:(4===a.t0||5===a.t0||6===a.t0||7===a.t0||a.t0,18);break;case 6:return c=n.lastIndexOf(1)>=11?x(4,n,r):[0,1,2,3,4],a.next=9,d(c,e);case 9:return a.abrupt("break",19);case 10:return s=x(3,n,r),a.next=13,d(s,e);case 13:return a.abrupt("break",19);case 14:return i=x(1,n,r),a.next=17,d(i,e);case 17:case 18:return a.abrupt("break",19);case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[d]),u=s.a.useCallback(Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(o.c)());case 2:return e.next=4,Object(p.a)(r,function(){var a=Object(h.a)(b.a.mark((function a(e,r){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(n<=r&&r<5)){a.next=3;break}return a.next=3,l(e);case 3:case"end":return a.stop()}}),a)})));return function(e,r){return a.apply(this,arguments)}}());case 4:t={val:0,id:0},r.forEach((a=>{if(!(0===a.id||a.id>5)){var e=parseInt(O(a.hands[0].cards),14);e>t.val&&(t={val:e,id:a.id})}})),r.forEach((e=>{0===e.id||e.id>5||(e.id===t.id?a(Object(j.d)(e.id,"win",20)):a(Object(j.d)(e.id,"lose",-5)))}));case 7:case"end":return e.stop()}}),e)}))),[l,a,r,n]),g=s.a.useCallback(Object(h.a)(b.a.mark((function a(){var e;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=r[n]||{isBot:!1},t||c||!e.isBot){a.next=4;break}return a.next=4,u();case 4:case"end":return a.stop()}}),a)}))),[u,r,c,t,n]),y=s.a.useCallback((()=>{a(Object(o.e)(r))}),[a,r]),H=s.a.useCallback((()=>{a(Object(o.f)()),k.a.shuffle().then((()=>{Object(p.a)(r,function(){var e=Object(h.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0!==r.id&&r.id<=5)){e.next=3;break}return e.next=3,a(Object(j.c)(r.id,5));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}))}),[a,r]),w=s.a.useCallback((()=>{d(e,r[n]),a(Object(o.b)())}),[d,a,r,n,e]);return{checkUpdate:g,handleGameFunctionClick:s.a.useCallback((a=>{switch(a){case v.d.DISCARD_CARDS:w();break;case v.d.END_TURN:i();break;case v.d.NEW_GAME:y();break;case v.d.START_GAME:H();break;default:console.error("Unknown Game Function: ",a)}}),[i,w,y,H])}},y=()=>{var a=Object(d.c)((a=>Object(n.a)({turn:a.turn,players:a.players},a.poker))),e=a.turn,r=a.players,c=a.cardsToDiscard,u=a.gameFunctions,b=a.gameOver,h=a.hideHands,p=Object(d.b)(),j=s.a.useCallback(((a,e,r)=>{var n=[...c],t=n.indexOf(r);-1===t?n.push(r):n.splice(t,1),p(Object(o.g)(n))}),[c,p]),k=g(p,c,r,e.player,h,b),f=k.checkUpdate,m=k.handleGameFunctionClick;return f(),Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(i.a,{variant:"h2",gutterBottom:!0,children:"5 Card Draw Poker"}),Object(t.jsx)(l.a,{cardClickHandler:j,cardsToDiscard:c,gameFunctions:u,onClick:m,gameOver:b,hideHands:h,isBlackJack:!1,players:r,turn:e})]})}}}]);
//# sourceMappingURL=g_poker.62d3a4c7.chunk.js.map