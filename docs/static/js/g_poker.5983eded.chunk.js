(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[11],{346:function(e,r,a){"use strict";a.d(r,"a",(function(){return J}));var n=a(0),t=a.n(n),c=a(1),s=a(744),i=a(35),o=a.n(i),u=a(176),d=a.n(u),l=a(65),b=a.n(l),p=a(154),f=a.n(p),h=a(671),k=a(293),j=a(428),x=a.n(j),v={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},O=a(5),m=t.a.memo((function(e){var r=e.dropped,a=e.suit,n=e.name,s=e.cardHandler,i=e.playerNo,o=e.handNo,u=e.cardNo,d=t.a.useCallback((function(){s&&s(i,o,u)}),[s,u,o,i]),l={color:"\u2663"===a||"\u2660"===a?"black":f.a[500],backgroundColor:r?f.a[100]:"white"};return Object(O.jsxs)("div",{style:Object(c.a)(Object(c.a)({},v.cardFace),l),onClick:d,role:"main",children:[Object(O.jsx)("div",{style:v.cardTitle,children:n+a}),Object(O.jsx)(h.a,{variant:"h4",style:Object(c.a)(Object(c.a)({},v.suit),l),children:a})]})})),y={fontWeight:"bold",marginTop:"0.5em"},g={fontWeight:"normal",marginTop:"0.5em"},w=function(e){var r=e.cardHandler,a=e.cardsToDiscard,n=e.hand,s=e.handNo,i=e.isBlackJack,o=e.isHandTurn,u=e.isMultiHand,d=e.isPlayerTurn,l=e.playerNo,b=t.a.useMemo((function(){return d&&(!u||u&&o)?Object(c.a)(Object(c.a)({},y),{},{color:x.a[700]}):g}),[d,u,o]),p=n.weight||0;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.a,{variant:"h4",style:b,children:i&&"".concat(p>21?"Bust":"Hand",": ").concat(p)}),n.cards.map((function(e,n){var t=a.includes(n);return Object(O.jsx)(m,{cardHandler:r,cardNo:n,dropped:t,handNo:s,name:e.name,playerNo:l,suit:e.suit},e.name+e.suit)}))]})},H={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},C=function(e){var r=e.betHandler,a=e.cardHandler,n=e.cardsToDiscard,i=e.hideHands,u=e.isBlackJack,l=e.player,p=e.playerNo,j=e.turn,x=!!j&&p===j.player,v=l.hands.length>1,m=!!i&&u&&0!==l.id&&!l.isBot,y=Math.max(Math.min(l.money,5),0),g=Math.max(Math.min(l.money,100),10),C=t.a.useCallback((function(e,a){r&&r(l.id,e,a)}),[r,l.id]),T=x?{background:o.a[200]}:{},F=x?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===l.status&&(T={background:d.a[300]}),"draw"===l.status&&(T={background:b.a[300]}),"lose"===l.status&&(T={background:f.a[300]}),Object(O.jsxs)(k.a,{style:Object(c.a)(Object(c.a)({},H.player),T),children:[Object(O.jsx)(h.a,{variant:"h4",style:Object(c.a)({},F),children:"".concat(l.name,": $").concat(l.money)}),m&&Object(O.jsx)(s.a,{max:g,min:y,onChange:C,step:5,style:H.width,value:l.bet}),u&&0!==l.id&&Object(O.jsx)(h.a,{variant:"h5",children:"Bet: $".concat(l.bet)}),l.hands.map((function(e,r){var t=!!j&&j.hand===r;return Object(O.jsx)("div",{children:!i&&Object(O.jsx)(w,{cardHandler:a,cardsToDiscard:n,hand:e,handNo:r,isBlackJack:u,isHandTurn:t,isMultiHand:v,isPlayerTurn:x,playerNo:p})},"hand".concat(r))}))]})},T=function(e){var r=e.betHandler,a=e.cardHandler,n=e.cardsToDiscard,t=e.hideHands,c=e.isBlackJack,s=e.players,i=e.turn;return Object(O.jsx)(O.Fragment,{children:s.map((function(e,s){return Object(O.jsx)(C,{betHandler:r,cardHandler:a,cardsToDiscard:n,hideHands:t,isBlackJack:c,player:e,playerNo:s,turn:i},"player".concat(s))}))})},F=a(666),B={margin:12},D=t.a.memo((function(e){var r=e.onClick,a=e.name;return Object(O.jsx)(F.a,{color:"primary",onClick:function(){return r(a)},style:B,variant:"contained",children:a})})),N=function(e){var r=e.gameFunctions,a=e.onClick;return Object(O.jsx)("div",{children:r.map((function(e){return Object(O.jsx)(D,{onClick:a,name:e},e)}))})},J=function(e){var r=e.betHandler,a=e.cardClickHandler,n=e.cardsToDiscard,c=void 0===n?[]:n,s=e.gameFunctions,i=void 0===s?[]:s,o=e.gameOver,u=void 0!==o&&o,d=e.hideHands,l=void 0!==d&&d,b=e.isBlackJack,p=void 0===b||b,f=e.players,h=e.turn,k=e.onClick,j=t.a.useMemo((function(){return f.slice(0,h.player+1)}),[f,h.player]),x=t.a.useMemo((function(){return f.slice(h.player+1)}),[f,h.player]),v=t.a.useMemo((function(){return l||!1!==u?f:f.slice(h.player,h.player+1)}),[l,u,f,h.player]);return Object(O.jsx)(O.Fragment,{children:p&&!l?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{players:j,betHandler:r,cardHandler:a,cardsToDiscard:c,hideHands:l,isBlackJack:p,turn:h}),Object(O.jsx)(N,{gameFunctions:i,onClick:k}),Object(O.jsx)(T,{players:x,betHandler:r,cardHandler:a,cardsToDiscard:c,hideHands:l,isBlackJack:p,turn:{player:-1,hand:-1}})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T,{players:v,betHandler:r,cardHandler:a,cardsToDiscard:c,hideHands:l,isBlackJack:p,turn:h}),Object(O.jsx)(N,{gameFunctions:i,onClick:k})]})})}},728:function(e,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return w}));var n=a(12),t=a(1),c=a(0),s=a.n(c),i=a(671),o=a(33),u=a(346),d=a(69),l=a(7),b=a.n(l),p=a(14),f=a(67),h=a(10),k=a(20),j=function(e,r){if(r.includes(4))return 7;var a=r.includes(3),n=r.indexOf(2),t=-1!==n;if(a&&t)return 6;if(a)return 3;if(t&&r.includes(2,n+1))return 2;if(t)return 1;for(var c=r.lastIndexOf(1)-r.indexOf(1)===4||r[12]&&r[0]&&r[1]&&r[2]&&r[3],s=!0,i=0;i<e.length;i+=1)if(e[i].suit!==e[0].suit){s=!1;break}return c&&s?8:s?5:c?4:0},x=function(e){var r=[0,0,0,0,0,0,0,0,0,0,0,0,0];return e.forEach((function(e){r[e.weight-2]+=1})),r},v=function(e){for(var r=x(e),a=j(e,r),n=["0","0","0","0","0"],t=0,c=4,s=0,i=-1;t<5;){var o=r.indexOf(c,i+1);-1===o?(c-=1,i=-1):(n[s]=o.toString(14),s+=1,t+=c,i=o)}return"".concat(a).concat(n.reduce((function(e,r){return"".concat(e).concat(r)})))},O=function(e,r,a){for(var n=[],t=[r.indexOf(1)],c=1;c<e;c+=1)t[c]=r.indexOf(1,t[c-1]+1);for(var s=0;s<a.length;s+=1)for(var i=0;i<t.length;i+=1)if(a[s].weight-2===t[i]){n.push(s);break}return n},m=a(3),y=function(e,r,a,n,t,c){var i=s.a.useCallback(Object(p.a)(b.a.mark((function r(){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.d)());case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),console.error(r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])}))),[e]),o=s.a.useCallback(function(){var r=Object(p.a)(b.a.mark((function r(a,n){var t,c;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=n.id,c=n.hands,r.next=4,e(Object(h.g)(c,t,a));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e,a){return r.apply(this,arguments)}}(),[e]),u=s.a.useCallback(function(){var e=Object(p.a)(b.a.mark((function e(r){var a,n,t,c,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=r.hands[0].cards,n=x(a),t=j(a,n),e.t0=t,e.next=0===e.t0?7:1===e.t0?11:2===e.t0||3===e.t0?15:(4===e.t0||5===e.t0||6===e.t0||7===e.t0||e.t0,19);break;case 7:return c=n.lastIndexOf(1)>=11?O(4,n,a):[0,1,2,3,4],e.next=10,o(c,r);case 10:return e.abrupt("break",20);case 11:return s=O(3,n,a),e.next=14,o(s,r);case 14:return e.abrupt("break",20);case 15:return i=O(1,n,a),e.next=18,o(i,r);case 18:case 19:return e.abrupt("break",20);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),console.error(e.t1);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(r){return e.apply(this,arguments)}}(),[o]),l=s.a.useCallback(Object(p.a)(b.a.mark((function r(){var t;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.c)());case 3:return r.next=5,Object(f.a)(a,function(){var e=Object(p.a)(b.a.mark((function e(r,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<=a&&a<5)){e.next=3;break}return e.next=3,u(r);case 3:case"end":return e.stop()}}),e)})));return function(r,a){return e.apply(this,arguments)}}());case 5:t={val:0,id:0},a.forEach((function(e){if(!(0===e.id||e.id>5)){var r=parseInt(v(e.hands[0].cards),14);r>t.val&&(t={val:r,id:e.id})}})),a.forEach((function(r){0===r.id||r.id>5||(r.id===t.id?e(Object(h.d)(r.id,"win",20)):e(Object(h.d)(r.id,"lose",-5)))})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,10]])}))),[u,e,a,n]),y=s.a.useCallback(Object(p.a)(b.a.mark((function e(){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=a[n]||{isBot:!1},t||c||!r.isBot){e.next=5;break}return e.next=5,l();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[l,a,c,t,n]),g=s.a.useCallback(Object(p.a)(b.a.mark((function r(){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.e)(a));case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),console.error(r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])}))),[e,a]),w=s.a.useCallback(Object(p.a)(b.a.mark((function r(){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.f)());case 3:return r.next=5,k.a.shuffle().then((function(){Object(f.a)(a,function(){var r=Object(p.a)(b.a.mark((function r(a){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0!==a.id&&a.id<=5)){r.next=9;break}return r.prev=1,r.next=4,e(Object(h.c)(a.id,5));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}())}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])}))),[e,a]),H=s.a.useCallback(Object(p.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o(r,a[n]);case 3:return t.next=5,e(Object(d.b)());case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[o,e,a,n,r]);return{checkUpdate:y,handleGameFunctionClick:s.a.useCallback(function(){var e=Object(p.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=r,e.next=e.t0===m.d.DISCARD_CARDS?4:e.t0===m.d.END_TURN?7:e.t0===m.d.NEW_GAME?10:e.t0===m.d.START_GAME?13:16;break;case 4:return e.next=6,H();case 6:return e.abrupt("break",17);case 7:return e.next=9,i();case 9:return e.abrupt("break",17);case 10:return e.next=12,g();case 12:return e.abrupt("break",17);case 13:return e.next=15,w();case 15:return e.abrupt("break",17);case 16:console.error("Unknown Game Function: ",r);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),console.error(e.t1);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(r){return e.apply(this,arguments)}}(),[i,H,g,w])}},g=a(5),w=function(){var e=Object(o.c)((function(e){return Object(t.a)({turn:e.turn,players:e.players},e.poker)})),r=e.turn,a=e.players,c=e.cardsToDiscard,l=e.gameFunctions,b=e.gameOver,p=e.hideHands,f=Object(o.b)(),h=s.a.useCallback((function(e,r,a){var t=Object(n.a)(c),s=t.indexOf(a);-1===s?t.push(a):t.splice(s,1),f(Object(d.g)(t))}),[c,f]),k=y(f,c,a,r.player,p,b),j=k.checkUpdate,x=k.handleGameFunctionClick;return j(),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(i.a,{variant:"h2",gutterBottom:!0,children:"5 Card Draw Poker"}),Object(g.jsx)(u.a,{cardClickHandler:h,cardsToDiscard:c,gameFunctions:l,onClick:x,gameOver:b,hideHands:p,isBlackJack:!1,players:a,turn:r})]})}}}]);
//# sourceMappingURL=g_poker.5983eded.chunk.js.map