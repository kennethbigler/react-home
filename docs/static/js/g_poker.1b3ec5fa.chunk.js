(window["webpackJsonpreact-home"]=window["webpackJsonpreact-home"]||[]).push([[13],{420:function(e,a,r){"use strict";var t=r(0),n=r.n(t),c=r(28),i=r.n(c),s=r(76),o=r(821),d=r(320),l=r.n(d),u=r(308),p=r.n(u),m=r(83),f=r.n(m),y=r(273),g=r.n(y),h=r(773),b=r(373),O=r(499),v=r.n(O),k=r(279),w=r.n(k),H={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",maxWidth:30,textAlign:"center",width:"100%"}};function j(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function E(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?j(r,!0).forEach(function(a){Object(s.a)(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var D=Object(t.memo)(function(e){var a=e.dropped,r=e.suit,t=e.name,c={color:"\u2663"===r||"\u2660"===r?"black":g.a[500],backgroundColor:a?g.a[100]:"white"};return n.a.createElement("div",{style:E({},H.cardFace,{},c),onClick:function(){(0,e.cardHandler)(e.playerNo,e.handNo,e.cardNo)},role:"main"},n.a.createElement("div",{style:H.cardTitle},t+r),n.a.createElement(h.a,{variant:"h3",style:E({},H.suit,{},c)},r))});function P(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function T(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?P(r,!0).forEach(function(a){Object(s.a)(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var F=function(e){var a=e.cardHandler,r=e.cardsToDiscard,c=e.hand,s=e.handNo,o=e.isBlackJack,d=e.isHandTurn,l=e.isMultiHand,u=e.isPlayerTurn,p=e.playerNo,m=d&&l&&u||!l&&u?{fontWeight:"bold",color:v.a[700]}:{fontWeight:"normal"};return n.a.createElement(t.Fragment,null,n.a.createElement(h.a,{variant:"h4",style:T({},m,{marginTop:"0.5em"})},o&&(c.weight>21?"Bust: ":"Hand Weight: ")+c.weight),i()(c.cards,function(e,t){var c=w()(r,t);return n.a.createElement(D,{key:e.name+e.suit,cardHandler:a,cardNo:t,dropped:c,handNo:s,name:e.name,playerNo:p,suit:e.suit})}))},N={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}};function S(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function x(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?S(r,!0).forEach(function(a){Object(s.a)(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}var C=function(e){var a=e.betHandler,r=e.cardHandler,t=e.cardsToDiscard,c=e.hideHands,s=e.isBlackJack,d=e.player,u=e.playerNo,m=e.turn,y=!!m&&u===m.player,O=d.hands.length>1,v=!!c&&s&&0!==d.id&&!d.isBot,k=Math.max(Math.min(d.money,5),0),w=Math.max(Math.min(d.money,100),10),H=y?{background:l.a[200]}:{},j=y?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===d.status&&(H={background:p.a[300]}),"draw"===d.status&&(H={background:f.a[300]}),"lose"===d.status&&(H={background:g.a[300]}),n.a.createElement(b.a,{style:x({},N.player,{},H)},n.a.createElement(h.a,{variant:"h4",style:x({},j)},d.name,": $",d.money),v&&n.a.createElement(o.a,{max:w,min:k,onChange:function(e,r){return a(d.id,e,r)},step:5,style:N.width,value:d.bet}),s&&0!==d.id&&n.a.createElement(h.a,{variant:"h5"},"Bet: $",d.bet),i()(d.hands,function(e,a){var i=!!m&&m.hand===a;return n.a.createElement("div",{key:"hand".concat(a)},!c&&n.a.createElement(F,{cardHandler:r,cardsToDiscard:t,hand:e,handNo:a,isBlackJack:s,isHandTurn:i,isMultiHand:O,isPlayerTurn:y,playerNo:u}))}))},B=function(e){var a=e.betHandler,r=e.cardHandler,c=e.cardsToDiscard,s=e.hideHands,o=e.isBlackJack,d=e.players,l=e.turn;return n.a.createElement(t.Fragment,null,i()(d,function(e,t){return n.a.createElement(C,{key:"player".concat(t),betHandler:a,cardHandler:r,cardsToDiscard:c,hideHands:s,isBlackJack:o,player:e,playerNo:t,turn:l})}))},G=r(768),J=Object(t.memo)(function(e){var a=e.func,r=e.name;return n.a.createElement(G.a,{color:"primary",onClick:a,style:{margin:12},variant:"contained"},r)}),A=function(e){var a=e.gameFunctions;return n.a.createElement("div",null,i()(a,function(e){return n.a.createElement(J,{key:e.name,func:e.func,name:e.name})}))},W=function(e){var a=e.betHandler,r=e.cardClickHandler,c=e.cardsToDiscard,i=e.gameFunctions,s=e.gameOver,o=e.hideHands,d=e.isBlackJack,l=e.players,u=e.turn,p=l.slice(0,u.player+1),m=l.slice(u.player+1),f=o||!1!==s?l:l.slice(u.player,u.player+1),y={betHandler:a,cardsToDiscard:c,hideHands:o,isBlackJack:d,turn:u,cardHandler:r};return n.a.createElement(t.Fragment,null,d&&!o?n.a.createElement(t.Fragment,null,n.a.createElement(B,Object.assign({players:p},y)),n.a.createElement(A,{gameFunctions:i}),n.a.createElement(B,Object.assign({players:m},y))):n.a.createElement(t.Fragment,null,n.a.createElement(B,Object.assign({players:f},y)),n.a.createElement(A,{gameFunctions:i})))};W.defaultProps={isBlackJack:!0};var M=W;a.a=M},825:function(e,a,r){"use strict";r.r(a);var t=r(71),n=r(72),c=r(74),i=r(73),s=r(75),o=r(0),d=r.n(o),l=r(38),u=r.n(l),p=r(279),m=r.n(p),f=r(286),y=r.n(f),g=r(121),h=r.n(g),b=r(773),O=r(37),v=r(25),k=r(81),w=r(96),H=r(420),j=r(18),E=0,D=5,P=function(e){function a(e){var r;return Object(t.a)(this,a),(r=Object(c.a)(this,Object(i.a)(a).call(this,e))).setNewGameRedux=function(){var e=r.props,a=e.turnActions,t=e.playerActions,n=e.players;a.resetTurn(),u()(n,function(e){return t.resetStatus(e.id)})},r.getNewGameState=function(){return{gameFunctions:[{name:"Start Game",func:r.startGame}],cardsToDiscard:[],hideHands:!0,gameOver:!1}},r.getHand=function(){var e=r.props,a=e.turn,t=e.players;return h()(t[a.player],"hands[0].cards",null)},r.getHistogram=function(e){var a=[0,0,0,0,0,0,0,0,0,0,0,0,0];return u()(e,function(e){a[e.weight-2]+=1}),a},r.newGame=function(){r.setNewGameRedux(),r.setState(r.getNewGameState())},r.startGame=function(){r.setState({gameFunctions:[{name:"Discard Cards",func:r.handleDiscard}],hideHands:!1}),r.dealHands()},r.endTurn=function(){r.props.turnActions.incrPlayerTurn(),r.setState({gameFunctions:[{name:"Discard Cards",func:r.handleDiscard}],cardsToDiscard:[]})},r.endGame=function(){var e=r.props,a=e.players,t=e.playerActions,n={val:0,id:0};u()(a,function(e){if(!(e.id===E||e.id>D)){var a=parseInt(r.evaluate(e.hands[0].cards),14);a>n.val&&(n={val:a,id:e.id})}}),u()(a,function(e){e.id===E||e.id>D||(e.id===n.id?t.payout(e.id,"win",20):t.payout(e.id,"lose",-5))}),r.setState({gameFunctions:[{name:"New Game",func:r.newGame}],gameOver:!0})},r.rankHand=function(e,a){if(m()(a,4))return 7;var r=m()(a,3),t=a.indexOf(2),n=-1!==t;if(r&&n)return 6;if(r)return 3;if(n&&m()(a,2,t+1))return 2;if(n)return 1;for(var c=a.lastIndexOf(1)-a.indexOf(1)===4||a[12]&&a[0]&&a[1]&&a[2]&&a[3],i=!0,s=0;s<e.length;s+=1)if(e[s].suit!==e[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},r.discard=function(e){var a=r.props,t=a.turn,n=a.playerActions,c=a.players[t.player],i=c.id,s=c.hands;n.swapCards(s,i,e)},r.handleDiscard=function(){var e=r.state.cardsToDiscard;r.discard(e),r.setState({gameFunctions:[{name:"End Turn",func:r.endTurn}],cardsToDiscard:[]})},r.discardHelper=function(e,a){for(var t=r.getHand(),n=[],c=[a.indexOf(1)],i=1;i<e;i+=1)c[i]=a.indexOf(1,c[i-1]+1);for(var s=0;s<t.length;s+=1)for(var o=0;o<c.length;o+=1)if(t[s].weight-2===c[o]){n.push(s);break}r.discard(n)},r.computer=function(){var e=r.getHand(),a=r.getHistogram(e);switch(r.rankHand(e,a)){case 0:a.lastIndexOf(1)>=11?r.discardHelper(4,a):r.discard([0,1,2,3,4]);break;case 1:r.discardHelper(3,a);break;case 2:case 3:r.discardHelper(1,a)}r.endTurn()},r.cardClickHandler=function(e,a,t){var n=r.state.cardsToDiscard,c=n.indexOf(t);-1===c?n.push(t):n.splice(c,1),r.setState({cardsToDiscard:n})},r.evaluate=function(e){for(var a=r.getHistogram(e),t=r.rankHand(e,a),n=[0,0,0,0,0],c=0,i=4,s=0,o=-1;c<5;){var d=a.indexOf(i,o+1);-1===d?(i-=1,o=-1):(n[s]=d.toString(14),s+=1,c+=i,o=d)}return"".concat(t).concat(y()(n,function(e,a){return"".concat(e).concat(a)}))},r.dealHands=function(){var e=r.props,a=e.playerActions,t=e.players;j.a.shuffle(),u()(t,function(e){return e.id!==E&&e.id<=D&&a.newHand(e.id,5)})},r.setNewGameRedux(),r.state=r.getNewGameState(),r}return Object(s.a)(a,e),Object(n.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props,a=e.players,r=e.turn,t=this.state,n=t.hideHands,c=t.gameOver,i=a[r.player],s=i.id!==E&&i.id<=D;n||c||!i.isBot||(s?this.computer():this.endGame())}},{key:"render",value:function(){var e=this.props,a=e.turn,r=e.players,t=this.state,n=t.cardsToDiscard,c=t.gameFunctions,i=t.gameOver,s=t.hideHands;return d.a.createElement(o.Fragment,null,d.a.createElement(b.a,{variant:"h2",gutterBottom:!0},"5 Card Draw Poker"),d.a.createElement(H.a,{cardClickHandler:this.cardClickHandler,cardsToDiscard:n,gameFunctions:c,gameOver:i,hideHands:s,isBlackJack:!1,players:r,turn:a}))}}]),a}(o.Component);var T=Object(O.b)(function(e){return{turn:e.turn,players:e.players}},function(e){return{turnActions:Object(v.a)({incrPlayerTurn:w.c,resetTurn:w.d},e),playerActions:Object(v.a)({swapCards:k.g,newHand:k.c,payout:k.d,resetStatus:k.e},e)}})(P);a.default=T}}]);
//# sourceMappingURL=g_poker.1b3ec5fa.chunk.js.map