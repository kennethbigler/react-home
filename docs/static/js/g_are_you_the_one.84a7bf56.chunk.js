"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[931],{41867:function(n,r,t){t.r(r),t.d(r,{default:function(){return G}});var e=t(93433),o=t(1413),a=t(29439),c=t(72791),i=t(56030),s=t(27391),u=t(24518),l=t(2199),d=t(26759),h=t(53767),p=t(13208),f=t(10703),g=t(95892),v=t(64387),x=t(76933),Z=t(80184),m=function(n){var r=n.roundNumber,t=n.options,e=n.onSelect,i=c.useState(!1),s=(0,a.Z)(i,2),m=s[0],j=s[1],M=c.useRef(null),y=function(n){M.current&&M.current.contains(n.target)||j(!1)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(l.Z,{ref:M,variant:"contained","aria-label":"split button",color:r+2===t.length?"error":"primary",children:[(0,Z.jsx)(u.Z,{children:t[r]}),(0,Z.jsx)(u.Z,{size:"small","aria-controls":m?"split-button-menu":void 0,"aria-expanded":m?"true":void 0,"aria-label":"select matchup","aria-haspopup":"menu",onClick:function(){j((function(n){return!n}))},children:(0,Z.jsx)(d.Z,{})})]}),(0,Z.jsx)(g.Z,{open:m,anchorEl:M.current,role:void 0,transition:!0,disablePortal:!0,children:function(n){var a=n.TransitionProps,c=n.placement;return(0,Z.jsx)(p.Z,(0,o.Z)((0,o.Z)({},a),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(h.Z,{onClickAway:y,children:(0,Z.jsx)(x.Z,{id:"split-button-menu",autoFocusItem:!0,children:t.map((function(n,t){return(0,Z.jsx)(v.Z,{selected:t===r,onClick:function(n){return function(n,r){e(r),j(!1)}(0,t)},children:n},n)}))})})})}))}})]})},j=function(n){return isNaN(n)?-1:n},M=function(n){var r,t=n.options,e=n.onSelect,o=n.roundNumber,i=n.roundPairings,l=n.onBlackout,d=n.updateScore,h=c.useState(j(null===(r=i[o])||void 0===r?void 0:r.score)),p=(0,a.Z)(h,2),f=p[0],g=p[1];return(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsx)(m,{roundNumber:o,options:t,onSelect:function(n){var r;g(j(null===(r=i[n])||void 0===r?void 0:r.score)),e(n)}}),o<t.length-2&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(u.Z,{variant:"outlined",color:"secondary",onClick:function(){return l(i[o].pairs)},children:"Blackout"}),(0,Z.jsx)(s.Z,{id:"score-input",label:"Score",variant:"outlined",type:"number",value:f,onChange:function(n){g(parseInt(n.target.value,10)||0),d(parseInt(n.target.value,10))}})]})]})},y=t(45987),b=t(79836),S=t(53994),C=t(39281),k=t(56890),w=t(35855),P=t(53382),E=t(65661),N=t(5289),A=t(97123),O=t(39157),q=function(n){var r=n.open,t=n.content,e=n.onMatch,o=n.onNoMatch,a=n.onCancel;return(0,Z.jsxs)(N.Z,{onClose:a,open:r,children:[(0,Z.jsx)(E.Z,{children:"TB Result"}),(0,Z.jsxs)(O.Z,{children:["Are ",t," a perfect match?"]}),(0,Z.jsxs)(A.Z,{children:[(0,Z.jsx)(u.Z,{onClick:e,children:"Match"}),(0,Z.jsx)(u.Z,{onClick:o,color:"error",children:"No Match"}),(0,Z.jsx)(u.Z,{onClick:a,color:"warning",children:"Cancel"})]})]})},T=function(n){var r=n.gents,t=n.hist,e=n.ladies,o=n.matches,i=n.noMatch,s=n.options,l=n.roundNumber,d=n.roundPairings,h=n.updateMatch,p=n.updateNoMatch,f=n.updatePairs,g=s.length===l+2,v=s.length===l+1,x=c.useState(!1),m=(0,a.Z)(x,2),j=m[0],M=m[1],y=c.useState([-1,-1]),b=(0,a.Z)(y,2),C=b[0],k=b[1],E=function(){M(!1)};return(0,Z.jsxs)(P.Z,{children:[e.map((function(n,e){return(0,Z.jsxs)(w.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Z.jsx)(S.Z,{component:"th",scope:"row",children:n}),r.map((function(r,a){var c,s,h,p="outlined",x="primary";g?(i[e]&&i[e][a]||o[e]===a)&&(p="contained"):(null===(c=d[l])||void 0===c?void 0:c.pairs[e])===a&&(p="contained"),i[e]&&i[e][a]&&(x="error"),o[e]===a&&(x="success");var m,j,y,b=t[e]&&(null===(s=t[e][a])||void 0===s||null===(h=s.rounds)||void 0===h?void 0:h.length)||0;return v&&b>0&&(p="contained"),(0,Z.jsx)(S.Z,{sx:{padding:0,textAlign:"center"},children:(0,Z.jsx)(u.Z,{variant:p,color:x,onClick:(m=l,j=e,y=a,function(){var n;if(!v){if(g)return k([j,y]),void M(!0);var r=null===(n=d[m])||void 0===n?void 0:n.pairs.indexOf(y);-1!==r&&f(m,r,-1),f(m,j,y)}}),children:v?b:"".concat(n[0],"-").concat(r[0])})},r)}))]},"ayto-table-row-".concat(n))})),(0,Z.jsx)(q,{open:j,content:"".concat(e[C[0]]," & ").concat(r[C[1]]),onCancel:E,onMatch:function(){var n=(0,a.Z)(C,2),r=n[0],t=n[1];h(r,t),E()},onNoMatch:function(){var n=(0,a.Z)(C,2),r=n[0],t=n[1];p(r,t),E()}})]})},W=["gents"],B=function(n){var r=n.gents,t=(0,y.Z)(n,W);return(0,Z.jsx)(C.Z,{component:f.Z,children:(0,Z.jsxs)(b.Z,{"aria-label":"are you the one data entry table",children:[(0,Z.jsx)(k.Z,{children:(0,Z.jsxs)(w.Z,{children:[(0,Z.jsx)(S.Z,{}),r.map((function(n){return(0,Z.jsx)(S.Z,{sx:{paddingLeft:0,paddingRight:0,textAlign:"center"},children:n},n)}))]})}),(0,Z.jsx)(T,(0,o.Z)({gents:r},t))]})})},F=t(67414),I=t(81918),J=t(85523),z=t(91440),K=function(n){var r=n.gents,t=n.ladies,e=n.matches,o=n.noMatch,i=n.roundPairings,s=n.hist,u=n.tempScore,l=n.calculatedEquations,d=c.useState(!1),h=(0,a.Z)(d,2),p=h[0],f=h[1];return(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(F.Z,{direction:"row",justifyContent:"space-between",children:[(0,Z.jsx)("h1",{children:"Analysis"}),(0,Z.jsx)(J.Z,{control:(0,Z.jsx)(z.Z,{checked:p,onChange:function(n){f(n.target.checked)},name:"show-all"}),label:"Show All Couples"})]}),(0,Z.jsx)(F.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:i.map((function(n,a){var c=n.pairs,i=n.score,l=c.map((function(n,c){if(c<0||n<0)return null;var i=s[c][n].rounds.length>1,u=i?"primary":"default";if(p)o[c][n]&&(u="error"),e[c]===n&&(u="success");else if(o[c][n]||e[c]===n)return null;var l="".concat(t[c],"-").concat(r[n]).concat(i?" ".concat(s[c][n].rounds.length):""," - ").concat(s[c][n].odds,"%");return(0,Z.jsx)(I.Z,{label:l,color:u},"eq-r".concat(a,"-l").concat(c,"-g").concat(n))}));return l.every((function(n){return null===n}))?null:(0,Z.jsxs)(F.Z,{spacing:1,children:[(0,Z.jsxs)("h2",{style:{textAlign:"center"},children:["Matchup ",a+1]}),l,(0,Z.jsx)(I.Z,{label:p?i:i-u[a],color:"warning"})]},"equation-".concat(a))}))}),l.length>0&&(0,Z.jsx)("hr",{}),(0,Z.jsx)(F.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:l.map((function(n,e){var o=n.pairs,a=n.score;return(0,Z.jsxs)(F.Z,{spacing:1,children:[(0,Z.jsxs)("h2",{style:{textAlign:"center"},children:["Calculated ",e+1]}),o.map((function(n,e){return(0,Z.jsx)(I.Z,{label:"".concat(t[e],"-").concat(r[n]," ").concat(s[e][n].rounds.length," - ").concat(s[e][n].odds,"%"),color:"primary"},"eq-calc-l".concat(e,"-g").concat(n))})),(0,Z.jsx)(I.Z,{label:"max ".concat(a),color:"warning"})]},"equation-".concat(e))}))})]})},R=["Alicia","Carolina","Cas","Gianna","Hannah","Kam","Kari","Kathryn","Shannon","Taylor","Tyranny"],H=["Andre","Derrick","Edward","Hayden","Jaylan","Joey","Michael","Mike","Osvaldo","Ozzy","Tyler"],Y=["Matchup 1","Matchup 2","Matchup 3","Matchup 4","Matchup 5","Matchup 6","Matchup 7","Matchup 8","Matchup 9","Matchup 10","Truth Booth","Consolidated"],_=(0,i.cn)({key:"areYouTheOneAtom",default:JSON.parse(localStorage.getItem("are-you-the-one-atom")||"null")||{matches:R.map((function(){return-1})),noMatch:R.map((function(){return H.map((function(){return!1}))})),roundPairings:[]},effects:[function(n){(0,n.onSet)((function(n){localStorage.setItem("are-you-the-one-atom",JSON.stringify(n))}))}]}),D=function(n,r,t,e){var o=[],c=[],i=[];e.forEach((function(e,a){var s=e.pairs;c[a]=0,i[a]=n,s.forEach((function(n,e){(e<0||n<0||t[e][n])&&(i[a]-=1),r[e]===n&&(c[a]+=1,i[a]-=1),!o[e]&&(o[e]=[]),!o[e][n]&&(o[e][n]={odds:0,oddsWeight:0,rounds:[]}),o[e][n].rounds.push(a)}))}));var s={};e.forEach((function(n,e){var u=n.pairs,l=n.score;u.forEach((function(n,u){var d=o[u][n];if(!t[u][n])if(r[u]!==n){var h=i[e]?100*(l-c[e])/i[e]:0;if(0===d.oddsWeight?d.odds=Math.floor(h):h&&d.odds?d.odds=Math.floor((d.odds*d.oddsWeight+h)/(d.oddsWeight+1)):d.odds=0,d.oddsWeight+=1,!(d.rounds.length<2)){for(var p=[d.rounds.reduce((function(n,r){return n+r.toString()}),"")],f=e+1;f<d.rounds.length;f+=1)p.push("".concat(d.rounds[e]).concat(d.rounds[f]));p.forEach((function(r){!s[r]&&(s[r]={couples:[],score:l});var t=!0;s[r].couples.forEach((function(r){var e=(0,a.Z)(r,2),o=e[0],c=e[1];t=t&&o!==u&&c!==n})),t&&s[r].couples.push([u,n]),s[r].score=Math.min(l-c[e],s[r].score)}))}}else d.odds=100}))}));var u=[];return Object.keys(s).forEach((function(n){if(s[n].couples.length>1&&s[n].couples.length>s[n].score){var r=[];s[n].couples.forEach((function(n){var t=(0,a.Z)(n,2),e=t[0],o=t[1];r[e]=o}));var t=!1;u.forEach((function(e,o){for(var a=e.pairs,c=e.score,i=!0,l=!0,d=0;d<a.length;d+=1)r[d]!==a[d]&&(r[d]?(i=!1,l=!1):i=!1);t=t||i||l&&s[n].score>=c,i&&(u[o].score=Math.min(c,s[n].score))})),!t&&u.push({pairs:r,score:s[n].score})}})),{hist:o,tempScore:c,calculatedEquations:u}},G=function(){var n=(0,i.FV)(_),r=(0,a.Z)(n,2),t=r[0],s=t.matches,u=t.noMatch,l=t.roundPairings,d=r[1],h=c.useState(0),p=(0,a.Z)(h,2),f=p[0],g=p[1],v=D(R.length,s,u,l),x=v.hist,m=v.tempScore,j=v.calculatedEquations;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h1",{children:"Are You The One?"}),(0,Z.jsx)(M,{onSelect:function(n){g(n)},options:Y,roundNumber:f,roundPairings:l,onBlackout:function(n){var r=u.map((function(n){return(0,e.Z)(n)}));n.forEach((function(n,t){s[t]===n||u[t][n]||(!r[t]&&(r[t]=[]),r[t][n]=!0)})),d({matches:s,noMatch:r,roundPairings:l})},updateScore:function(n){var r=l[f]?(0,o.Z)({},l[f]):{pairs:[],score:0};r.score=n;var t=(0,e.Z)(l);t[f]=r,d({matches:s,noMatch:u,roundPairings:t})}}),(0,Z.jsx)("br",{}),(0,Z.jsx)(B,{gents:H,hist:x,ladies:R,matches:s,noMatch:u,options:Y,roundNumber:f,roundPairings:l,updateMatch:function(n,r){var t=(0,e.Z)(s),a=u.map((function(n){return(0,e.Z)(n)}));!a[n]&&(a[n]=[]),t[n]=r;for(var c=0;c<H.length;c+=1)a[n][c]=c!==r;for(var i=0;i<R.length;i+=1)!a[i]&&(a[i]=[]),a[i][r]=i!==n;for(var h=(0,e.Z)(l),p=0;p<Y.length-2;p+=1)if(!l[p]||l[p].pairs[n]<0||void 0===l[p].pairs[n]){var f=h[p]?(0,o.Z)((0,o.Z)({},l[p]),{},{pairs:(0,e.Z)(l[p].pairs)}):{pairs:[],score:0};f.pairs[n]=r,h[p]=f}d({matches:t,noMatch:a,roundPairings:h})},updateNoMatch:function(n,r){var t=u.map((function(n){return(0,e.Z)(n)}));!t[n]&&(t[n]=[]),t[n][r]=!t[n][r],d({matches:s,noMatch:t,roundPairings:l})},updatePairs:function(n,r,t){var a=l[n]?(0,o.Z)((0,o.Z)({},l[n]),{},{pairs:(0,e.Z)(l[n].pairs)}):{pairs:[],score:0};a.pairs[r]=t;var c=(0,e.Z)(l);c[f]=a,d({matches:s,noMatch:u,roundPairings:c})}}),(0,Z.jsx)(K,{calculatedEquations:j,gents:H,hist:x,ladies:R,matches:s,noMatch:u,roundPairings:l,tempScore:m})]})}}}]);
//# sourceMappingURL=g_are_you_the_one.84a7bf56.chunk.js.map