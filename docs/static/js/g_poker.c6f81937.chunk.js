(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[13],{426:function(e,a,r){"use strict";var t=r(0),n=r.n(t),c=r(31),i=r.n(c),s=r(27),o=r(824),d=r(326),u=r.n(d),l=r(314),p=r.n(l),f=r(85),m=r.n(f),y=r(279),h=r.n(y),g=r(779),b=r(379),O=r(505),v=r.n(O),k=r(285),w=r.n(k),H={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",maxWidth:30,textAlign:"center",width:"100%"}};function j(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function E(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?j(r,!0).forEach((function(a){Object(s.a)(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var D=Object(t.memo)((function(e){var a=e.dropped,r=e.suit,t=e.name,c={color:"\u2663"===r||"\u2660"===r?"black":h.a[500],backgroundColor:a?h.a[100]:"white"};return n.a.createElement("div",{style:E({},H.cardFace,{},c),onClick:function(){(0,e.cardHandler)(e.playerNo,e.handNo,e.cardNo)},role:"main"},n.a.createElement("div",{style:H.cardTitle},t+r),n.a.createElement(g.a,{variant:"h3",style:E({},H.suit,{},c)},r))}));function P(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function T(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?P(r,!0).forEach((function(a){Object(s.a)(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var x=function(e){var a=e.cardHandler,r=e.cardsToDiscard,c=e.hand,s=e.handNo,o=e.isBlackJack,d=e.isHandTurn,u=e.isMultiHand,l=e.isPlayerTurn,p=e.playerNo,f=d&&u&&l||!u&&l?{fontWeight:"bold",color:v.a[700]}:{fontWeight:"normal"};return n.a.createElement(t.Fragment,null,n.a.createElement(g.a,{variant:"h4",style:T({},f,{marginTop:"0.5em"})},o&&(c.weight>21?"Bust: ":"Hand Weight: ")+c.weight),i()(c.cards,(function(e,t){var c=w()(r,t);return n.a.createElement(D,{key:e.name+e.suit,cardHandler:a,cardNo:t,dropped:c,handNo:s,name:e.name,playerNo:p,suit:e.suit})})))},F={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}};function N(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function S(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?N(r,!0).forEach((function(a){Object(s.a)(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var C=function(e){var a=e.betHandler,r=e.cardHandler,t=e.cardsToDiscard,c=e.hideHands,s=e.isBlackJack,d=e.player,l=e.playerNo,f=e.turn,y=!!f&&l===f.player,O=d.hands.length>1,v=!!c&&s&&0!==d.id&&!d.isBot,k=Math.max(Math.min(d.money,5),0),w=Math.max(Math.min(d.money,100),10),H=y?{background:u.a[200]}:{},j=y?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===d.status&&(H={background:p.a[300]}),"draw"===d.status&&(H={background:m.a[300]}),"lose"===d.status&&(H={background:h.a[300]}),n.a.createElement(b.a,{style:S({},F.player,{},H)},n.a.createElement(g.a,{variant:"h4",style:S({},j)},d.name,": $",d.money),v&&n.a.createElement(o.a,{max:w,min:k,onChange:function(e,r){return a(d.id,e,r)},step:5,style:F.width,value:d.bet}),s&&0!==d.id&&n.a.createElement(g.a,{variant:"h5"},"Bet: $",d.bet),i()(d.hands,(function(e,a){var i=!!f&&f.hand===a;return n.a.createElement("div",{key:"hand".concat(a)},!c&&n.a.createElement(x,{cardHandler:r,cardsToDiscard:t,hand:e,handNo:a,isBlackJack:s,isHandTurn:i,isMultiHand:O,isPlayerTurn:y,playerNo:l}))})))},B=function(e){var a=e.betHandler,r=e.cardHandler,c=e.cardsToDiscard,s=e.hideHands,o=e.isBlackJack,d=e.players,u=e.turn;return n.a.createElement(t.Fragment,null,i()(d,(function(e,t){return n.a.createElement(C,{key:"player".concat(t),betHandler:a,cardHandler:r,cardsToDiscard:c,hideHands:s,isBlackJack:o,player:e,playerNo:t,turn:u})})))},G=r(774),A=Object(t.memo)((function(e){var a=e.func,r=e.name;return n.a.createElement(G.a,{color:"primary",onClick:a,style:{margin:12},variant:"contained"},r)})),J=function(e){var a=e.gameFunctions;return n.a.createElement("div",null,i()(a,(function(e){return n.a.createElement(A,{key:e.name,func:e.func,name:e.name})})))},W=function(e){var a=e.betHandler,r=e.cardClickHandler,c=e.cardsToDiscard,i=e.gameFunctions,s=e.gameOver,o=e.hideHands,d=e.isBlackJack,u=e.players,l=e.turn,p=u.slice(0,l.player+1),f=u.slice(l.player+1),m=o||!1!==s?u:u.slice(l.player,l.player+1),y={betHandler:a,cardsToDiscard:c,hideHands:o,isBlackJack:d,turn:l,cardHandler:r};return n.a.createElement(t.Fragment,null,d&&!o?n.a.createElement(t.Fragment,null,n.a.createElement(B,Object.assign({players:p},y)),n.a.createElement(J,{gameFunctions:i}),n.a.createElement(B,Object.assign({players:f},y))):n.a.createElement(t.Fragment,null,n.a.createElement(B,Object.assign({players:m},y)),n.a.createElement(J,{gameFunctions:i})))};W.defaultProps={isBlackJack:!0};var M=W;a.a=M},827:function(e,a,r){"use strict";r.r(a);var t=r(14),n=r.n(t),c=r(29),i=r(38),s=r(39),o=r(42),d=r(40),u=r(41),l=r(0),p=r.n(l),f=r(267),m=r.n(f),y=r(285),h=r.n(y),g=r(292),b=r.n(g),O=r(125),v=r.n(O),k=r(779),w=r(45),H=r(16),j=r(96),E=r(83),D=r(98),P=r(426),T=r(19),x=0,F=5,N=function(e){function a(e){var r;return Object(i.a)(this,a),(r=Object(o.a)(this,Object(d.a)(a).call(this,e))).setNewGameRedux=function(){var e=r.props,a=e.turnActions,t=e.playerActions,n=e.players;a.resetTurn(),m()(n,(function(e){return t.resetStatus(e.id)}))},r.getNewGameState=function(){return{gameFunctions:[{name:"Start Game",func:r.startGame}],cardsToDiscard:[],hideHands:!0,gameOver:!1}},r.getHand=function(){var e=r.props,a=e.turn,t=e.players;return v()(t[a.player],"hands[0].cards",null)},r.getHistogram=function(e){var a=[0,0,0,0,0,0,0,0,0,0,0,0,0];return m()(e,(function(e){a[e.weight-2]+=1})),a},r.newGame=function(){r.setNewGameRedux(),r.setState(r.getNewGameState())},r.startGame=function(){r.setState({gameFunctions:[{name:"Discard Cards",func:r.handleDiscard}],hideHands:!1}),r.dealHands()},r.endTurn=function(){r.props.turnActions.incrPlayerTurn(),r.setState({gameFunctions:[{name:"Discard Cards",func:r.handleDiscard}],cardsToDiscard:[]})},r.endGame=function(){var e=r.props,a=e.players,t=e.playerActions,n={val:0,id:0};m()(a,(function(e){if(!(e.id===x||e.id>F)){var a=parseInt(r.evaluate(e.hands[0].cards),14);a>n.val&&(n={val:a,id:e.id})}})),m()(a,(function(e){e.id===x||e.id>F||(e.id===n.id?t.payout(e.id,"win",20):t.payout(e.id,"lose",-5))})),r.setState({gameFunctions:[{name:"New Game",func:r.newGame}],gameOver:!0})},r.rankHand=function(e,a){if(h()(a,4))return 7;var r=h()(a,3),t=a.indexOf(2),n=-1!==t;if(r&&n)return 6;if(r)return 3;if(n&&h()(a,2,t+1))return 2;if(n)return 1;for(var c=a.lastIndexOf(1)-a.indexOf(1)===4||a[12]&&a[0]&&a[1]&&a[2]&&a[3],i=!0,s=0;s<e.length;s+=1)if(e[s].suit!==e[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},r.discard=function(e){var a=r.props,t=a.turn,n=a.playerActions,c=a.players[t.player],i=c.id,s=c.hands;n.swapCards(s,i,e)},r.handleDiscard=function(){var e=r.state.cardsToDiscard;r.discard(e),r.setState({gameFunctions:[{name:"End Turn",func:r.endTurn}],cardsToDiscard:[]})},r.discardHelper=function(e,a){for(var t=r.getHand(),n=[],c=[a.indexOf(1)],i=1;i<e;i+=1)c[i]=a.indexOf(1,c[i-1]+1);for(var s=0;s<t.length;s+=1)for(var o=0;o<c.length;o+=1)if(t[s].weight-2===c[o]){n.push(s);break}r.discard(n)},r.computer=function(){var e=r.getHand(),a=r.getHistogram(e);switch(r.rankHand(e,a)){case 0:a.lastIndexOf(1)>=11?r.discardHelper(4,a):r.discard([0,1,2,3,4]);break;case 1:r.discardHelper(3,a);break;case 2:case 3:r.discardHelper(1,a)}r.endTurn()},r.cardClickHandler=function(e,a,t){var n=r.state.cardsToDiscard,c=n.indexOf(t);-1===c?n.push(t):n.splice(c,1),r.setState({cardsToDiscard:n})},r.evaluate=function(e){for(var a=r.getHistogram(e),t=r.rankHand(e,a),n=[0,0,0,0,0],c=0,i=4,s=0,o=-1;c<5;){var d=a.indexOf(i,o+1);-1===d?(i-=1,o=-1):(n[s]=d.toString(14),s+=1,c+=i,o=d)}return"".concat(t).concat(b()(n,(function(e,a){return"".concat(e).concat(a)})))},r.dealHands=function(){var e=r.props,a=e.playerActions,t=e.players;T.a.shuffle().then((function(){Object(j.a)(t,function(){var e=Object(c.a)(n.a.mark((function e(r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.id!==x&&r.id<=F)){e.next=3;break}return e.next=3,a.newHand(r.id,5);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}))},r.setNewGameRedux(),r.state=r.getNewGameState(),r}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props,a=e.players,r=e.turn,t=this.state,n=t.hideHands,c=t.gameOver,i=a[r.player],s=i.id!==x&&i.id<=F;n||c||!i.isBot||(s?this.computer():this.endGame())}},{key:"render",value:function(){var e=this.props,a=e.turn,r=e.players,t=this.state,n=t.cardsToDiscard,c=t.gameFunctions,i=t.gameOver,s=t.hideHands;return p.a.createElement(l.Fragment,null,p.a.createElement(k.a,{variant:"h2",gutterBottom:!0},"5 Card Draw Poker"),p.a.createElement(P.a,{cardClickHandler:this.cardClickHandler,cardsToDiscard:n,gameFunctions:c,gameOver:i,hideHands:s,isBlackJack:!1,players:r,turn:a}))}}]),a}(l.Component);var S=Object(w.b)((function(e){return{turn:e.turn,players:e.players}}),(function(e){return{turnActions:Object(H.bindActionCreators)({incrPlayerTurn:D.c,resetTurn:D.d},e),playerActions:Object(H.bindActionCreators)({swapCards:E.g,newHand:E.c,payout:E.d,resetStatus:E.e},e)}}))(N);a.default=S}}]);
//# sourceMappingURL=g_poker.c6f81937.chunk.js.map