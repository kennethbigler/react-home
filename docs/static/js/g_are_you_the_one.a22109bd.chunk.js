"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[931],{75027:function(n,e,r){r.r(e),r.d(e,{default:function(){return L}});var t=r(29439),o=r(1413),c=r(72791),a=r(16030),s=r(27391),i=r(24518),u=r(2199),l=r(26759),d=r(53767),h=r(13208),p=r(10703),f=r(95892),x=r(64387),v=r(76933),g=r(80184),j=function(n){var e=n.roundNumber,r=n.options,a=n.onSelect,s=c.useState(!1),j=(0,t.Z)(s,2),Z=j[0],m=j[1],b=c.useRef(null),M=function(n){b.current&&b.current.contains(n.target)||m(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.Z,{ref:b,variant:"contained","aria-label":"split button",color:e+2===r.length?"error":"primary",children:[(0,g.jsx)(i.Z,{children:r[e]}),(0,g.jsx)(i.Z,{size:"small","aria-controls":Z?"split-button-menu":void 0,"aria-expanded":Z?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){m((function(n){return!n}))},children:(0,g.jsx)(l.Z,{})})]}),(0,g.jsx)(f.Z,{open:Z,anchorEl:b.current,role:void 0,transition:!0,disablePortal:!0,children:function(n){var t=n.TransitionProps,c=n.placement;return(0,g.jsx)(h.Z,(0,o.Z)((0,o.Z)({},t),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:(0,g.jsx)(p.Z,{children:(0,g.jsx)(d.Z,{onClickAway:M,children:(0,g.jsx)(v.Z,{id:"split-button-menu",autoFocusItem:!0,children:r.map((function(n,r){return(0,g.jsx)(x.Z,{selected:r===e,onClick:function(n){return function(n,e){a(e),m(!1)}(0,r)},children:n},n)}))})})})}))}})]})},Z=function(n){return isNaN(n)?-1:n},m=function(n){var e,r=n.matches,o=n.noMatch,a=n.options,u=n.onSelect,l=n.roundNumber,d=n.roundPairings,h=n.updateNoMatch,p=n.updateScore,f=c.useState(Z(null===(e=d[l])||void 0===e?void 0:e.score)),x=(0,t.Z)(f,2),v=x[0],m=x[1];return(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,g.jsx)(j,{roundNumber:l,options:a,onSelect:function(n){var e;m(Z(null===(e=d[n])||void 0===e?void 0:e.score)),u(n)}}),l<a.length-2&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Z,{variant:"outlined",onClick:function(){d[l].pairs.forEach((function(n,e){r[e]===n||o[e][n]||h(e,n)}))},children:"Blackout"}),(0,g.jsx)(s.Z,{id:"score-input",label:"Score",variant:"outlined",type:"number",value:v,onChange:function(n){m(parseInt(n.target.value,10)||0),p(parseInt(n.target.value,10))}})]})]})},b=r(45987),M=r(79836),y=r(53994),C=r(39281),S=r(56890),w=r(35855),k=r(53382),E=r(65661),N=r(5289),P=r(97123),A=r(39157),W=function(n){var e=n.open,r=n.content,t=n.onMatch,o=n.onNoMatch,c=n.onCancel;return(0,g.jsxs)(N.Z,{onClose:c,open:e,children:[(0,g.jsx)(E.Z,{children:"TB Result"}),(0,g.jsxs)(A.Z,{children:["Are ",r," a perfect match?"]}),(0,g.jsxs)(P.Z,{children:[(0,g.jsx)(i.Z,{onClick:t,children:"Match"}),(0,g.jsx)(i.Z,{onClick:o,color:"error",children:"No Match"}),(0,g.jsx)(i.Z,{onClick:c,color:"warning",children:"Cancel"})]})]})},q=function(n){var e=n.gents,r=n.ladies,o=n.matches,a=n.noMatch,s=n.options,u=n.roundNumber,l=n.roundPairings,d=n.updateMatch,h=n.updateNoMatch,p=n.updatePairs,f=s.length===u+2,x=s.length===u+1,v=c.useState(!1),j=(0,t.Z)(v,2),Z=j[0],m=j[1],b=c.useState([-1,-1]),M=(0,t.Z)(b,2),C=M[0],S=M[1],E=[];l.forEach((function(n){n.pairs.forEach((function(n,e){!E[e]&&(E[e]=[]),E[e][n]=E[e][n]?E[e][n]+1:1}))}));var N=function(){m(!1)};return(0,g.jsxs)(k.Z,{children:[r.map((function(n,r){return(0,g.jsxs)(w.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,g.jsx)(y.Z,{component:"th",scope:"row",children:n}),e.map((function(e,t){var c,s="outlined",d="primary",h=!1;f?(a[r]&&a[r][t]||o[r]===t)&&(s="contained"):(null===(c=l[u])||void 0===c?void 0:c.pairs[r])===t?s="contained":a[r]&&a[r][t]&&(s="contained",h=!0),a[r]&&a[r][t]&&(d="error"),o[r]===t&&(d="success");var v,j,Z,b=E[r]&&E[r][t]||0;return x&&b>0&&(s="contained"),(0,g.jsx)(y.Z,{sx:{padding:0,textAlign:"center"},children:(0,g.jsx)(i.Z,{variant:s,color:d,onClick:(v=u,j=r,Z=t,function(){var n;if(!x){if(f)return S([j,Z]),void m(!0);var e=null===(n=l[v])||void 0===n?void 0:n.pairs.indexOf(Z);-1!==e&&p(v,e,-1),p(v,j,Z)}}),disabled:h,children:x?b:"".concat(n[0],"-").concat(e[0])})},e)}))]},"ayto-table-row-".concat(n))})),(0,g.jsx)(W,{open:Z,content:"".concat(r[C[0]]," & ").concat(e[C[1]]),onCancel:N,onMatch:function(){var n=(0,t.Z)(C,2),e=n[0],r=n[1];d(e,r),N()},onNoMatch:function(){var n=(0,t.Z)(C,2),e=n[0],r=n[1];h(e,r),N()}})]})},F=["gents"],I=function(n){var e=n.gents,r=(0,b.Z)(n,F);return(0,g.jsx)(C.Z,{component:p.Z,children:(0,g.jsxs)(M.Z,{"aria-label":"are you the one data entry table",children:[(0,g.jsx)(S.Z,{children:(0,g.jsxs)(w.Z,{children:[(0,g.jsx)(y.Z,{}),e.map((function(n){return(0,g.jsx)(y.Z,{sx:{paddingLeft:0,paddingRight:0,textAlign:"center"},children:n},n)}))]})}),(0,g.jsx)(q,(0,o.Z)({gents:e},r))]})})},O=r(67414),Y=r(81918),R=r(85523),T=r(91440),_=function(n,e,r,o){var c=[],a=[],s=[];o.forEach((function(t,o){var i=t.pairs;a[o]=0,s[o]=n,i.forEach((function(n,t){(t<0||n<0||r[t][n])&&(s[o]-=1),e[t]===n&&(a[o]+=1,s[o]-=1),!c[t]&&(c[t]=[]),!c[t][n]&&(c[t][n]={odds:0,oddsWeight:0,rounds:[]}),c[t][n].rounds.push(o)}))}));var i={};o.forEach((function(o,u){var l=o.pairs,d=o.score;l.forEach((function(o,l){var h=c[l][o];if(!r[l][o])if(e[l]!==o){var p=s[u]?100*(d-a[u])/s[u]:0;if(h.odds=Math.floor((h.odds*h.oddsWeight+p)/(h.oddsWeight+1)),!(h.rounds.length<2)){for(var f=h.rounds.reduce((function(n,e){return n+e.toString()}),""),x=0;x<h.rounds.length;x+=1)for(var v=1;v<h.rounds.length;v+=1)x!==v&&function(){var e="".concat(h.rounds[x]).concat(h.rounds[v]);!i[e]&&(i[e]={couples:[],score:n});var r=!0;i[e].couples.forEach((function(n){var e=(0,t.Z)(n,2),c=e[0],a=e[1];r=r&&c!==l&&a!==o})),r&&i[e].couples.push([l,o]),i[e].score=Math.min(d-a[u],i[e].score)}();!i[f]&&(i[f]={couples:[],score:n});var g=!0;i[f].couples.forEach((function(n){var e=(0,t.Z)(n,2),r=e[0],c=e[1];g=g&&r!==l&&c!==o})),g&&i[f].couples.push([l,o]),i[f].score=Math.min(d-a[u],i[f].score)}}else h.odds=100}))}));var u=[];return Object.keys(i).forEach((function(n){if(i[n].couples.length>1&&i[n].couples.length>i[n].score){var e=[];i[n].couples.forEach((function(n){var r=(0,t.Z)(n,2),o=r[0],c=r[1];e[o]=c}));var r=!1;u.forEach((function(t,o){for(var c=t.pairs,a=t.score,s=!0,l=!0,d=0;d<c.length;d+=1)e[d]!==c[d]&&(e[d]?(s=!1,l=!1):s=!1);r=r||s||l&&i[n].score>=a,s&&(u[o].score=Math.min(a,i[n].score))})),!r&&u.push({pairs:e,score:i[n].score})}})),{hist:c,tempScore:a,calculatedEquations:u}},B=function(n){var e=n.gents,r=n.ladies,o=n.matches,a=n.noMatch,s=n.roundPairings,i=c.useState(!1),u=(0,t.Z)(i,2),l=u[0],d=u[1],h=_(r.length,o,a,s),p=h.hist,f=h.tempScore,x=h.calculatedEquations;return(0,g.jsxs)("div",{children:[(0,g.jsxs)(O.Z,{direction:"row",justifyContent:"space-between",children:[(0,g.jsx)("h1",{children:"Analysis"}),(0,g.jsx)(R.Z,{control:(0,g.jsx)(T.Z,{checked:l,onChange:function(n){d(n.target.checked)},name:"show-all"}),label:"Show All Couples"})]}),(0,g.jsx)(O.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:s.map((function(n,t){var c=n.pairs,s=n.score,i=c.map((function(n,c){if(c<0||n<0)return null;var s=p[c][n].rounds.length>1,i=s?"primary":"default";if(l)a[c][n]&&(i="error"),o[c]===n&&(i="success");else if(a[c][n]||o[c]===n)return null;var u="".concat(r[c],"-").concat(e[n]).concat(s?" ".concat(p[c][n].rounds.length):""," - ").concat(p[c][n].odds,"%");return(0,g.jsx)(Y.Z,{label:u,color:i},"eq-r".concat(t,"-l").concat(c,"-g").concat(n))}));return i.every((function(n){return null===n}))?null:(0,g.jsxs)(O.Z,{spacing:1,children:[(0,g.jsxs)("h2",{style:{textAlign:"center"},children:["Matchup ",t+1]}),i,(0,g.jsx)(Y.Z,{label:l?s:s-f[t],color:"warning"})]},"equation-".concat(t))}))}),(0,g.jsx)("hr",{}),(0,g.jsx)(O.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:x.map((function(n,t){var o=n.pairs,c=n.score;return(0,g.jsxs)(O.Z,{spacing:1,children:[(0,g.jsxs)("h2",{style:{textAlign:"center"},children:["Calculated ",t+1]}),o.map((function(n,t){return(0,g.jsx)(Y.Z,{label:"".concat(r[t],"-").concat(e[n]," ").concat(p[t][n].rounds.length," - ").concat(p[t][n].odds,"%"),color:"primary"},"eq-calc-l".concat(t,"-g").concat(n))})),(0,g.jsx)(Y.Z,{label:c,color:"warning"})]},"equation-".concat(t))}))})]})},z=r(93971),J=r(33834),L=function(){var n=(0,a.v9)((function(n){return(0,o.Z)({},n.ayto)})),e=n.roundPairings,r=n.noMatch,s=n.matches,i=(0,a.I0)(),u=c.useState(0),l=(0,t.Z)(u,2),d=l[0],h=l[1],p=function(n,e){i((0,J.wn)(n,e))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{children:"Are You The One?"}),(0,g.jsx)(m,{matches:s,noMatch:r,onSelect:function(n){h(n)},options:z.YM,roundNumber:d,roundPairings:e,updateNoMatch:p,updateScore:function(n){i((0,J.Vs)(n,d))}}),(0,g.jsx)("br",{}),(0,g.jsx)(I,{gents:z.Zs,ladies:z.MS,matches:s,noMatch:r,options:z.YM,roundNumber:d,roundPairings:e,updateMatch:function(n,r){i((0,J._J)(n,r));for(var t=0;t<z.YM.length-2;t+=1)(!e[t]||e[t].pairs[n]<0||void 0===e[t].pairs[n])&&i((0,J.tW)(t,n,r))},updateNoMatch:p,updatePairs:function(n,e,r){i((0,J.tW)(n,e,r))}}),(0,g.jsx)(B,{gents:z.Zs,ladies:z.MS,matches:s,noMatch:r,roundPairings:e})]})}}}]);
//# sourceMappingURL=g_are_you_the_one.a22109bd.chunk.js.map