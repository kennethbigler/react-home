"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[653],{79937:function(e,n,t){var o=t(29439),r=(t(72791),t(5289)),c=t(65661),s=t(39157),a=t(97123),u=t(24518),i=t(11337),l=t(80184);n.Z=function(e){var n=(0,i.Z)(),t=(0,o.Z)(n,3),d=t[0],h=t[1],m=t[2],f=e.buttonText,Z=e.title,x=e.children;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{onClick:h,variant:"contained",children:f||Z}),(0,l.jsxs)(r.Z,{title:"info-popup",onClose:m,open:d,maxWidth:"md",fullWidth:!0,children:[(0,l.jsx)(c.Z,{children:Z}),(0,l.jsx)(s.Z,{children:x}),(0,l.jsx)(a.Z,{children:(0,l.jsx)(u.Z,{color:"secondary",onClick:m,children:"Close"})})]})]})}},48689:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var o=t(1413),r=t(93433),c=t(72791),s=t(20890),a=t(56030),u=function(){return Math.floor(6*Math.random())+1},i=function(){return u()};var l=t(24518),d=t(79836),h=t(53382),m=t(53994),f=t(56890),Z=t(35855),x=t(80184),p=c.memo((function(e){return(0,x.jsx)(f.Z,{children:(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{children:"Minimum Required for Bonus"}),(0,x.jsx)(m.Z,{children:"How to Score"}),(0,x.jsx)(m.Z,{style:e.style,children:"Game Score"})]})})})),S=t(29439),v=c.memo((function(e){var n=e.topSum,t=e.finalTopSum,o=e.style;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{colSpan:2,children:"Total == 63"}),(0,x.jsx)(m.Z,{style:o,children:n})]}),(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{children:"Bonus if >= 63"}),(0,x.jsx)(m.Z,{children:"Score 35"}),(0,x.jsx)(m.Z,{style:o,children:n%100>=63?35:0})]}),(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{colSpan:2,children:"Upper Half Total"}),(0,x.jsx)(m.Z,{style:o,children:t})]}),(0,x.jsx)(Z.Z,{})]})})),j=function(e,n){var t=e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{}),o=!1;return Object.values(t).forEach((function(e){e>=n&&(o=!0)})),o},y=function(e,n){var t=e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{}),o=0;return[1,2,3,4,5,6].forEach((function(e){o<n&&(t[e]?o+=1:o=0)})),o>=n},b=function(e){var n=e.bottom,t=e.values,o=e.showScoreButtons,r=e.getScoreButton,c=e.top,s=e.style,a=e.topSum,u=e.finalTopSum,i=n[5].score>0&&j(t,5),l=function(e,n,t,c){return e>=0?e:o?r(n,i?t+100:t,!0,c):null};return(0,x.jsxs)(x.Fragment,{children:[c.map((function(e,n){var o=e.name,r=e.score,c=n+1,a=function(e){return t.reduce((function(n,t){return t===e&&(n[0]+=1,n[1]+=e),n}),[0,0])}(c),u=(0,S.Z)(a,2),i=u[0],d=u[1],h=i>=1;return(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{children:"".concat(o,": ").concat(c,",").concat(c,",").concat(c," = ").concat(3*c)}),(0,x.jsx)(m.Z,{children:"Add Only ".concat(o)}),(0,x.jsx)(m.Z,{style:s,children:l(r,h,d,n)})]},o)})),(0,x.jsx)(v,{topSum:a,finalTopSum:u,style:s})]})},g="Sum of Dice",T=c.memo((function(e){var n=e.finalTopSum,t=e.bottomSum,o=e.style;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{colSpan:2,children:"Lower Half Total"}),(0,x.jsx)(m.Z,{style:o,children:t})]}),(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{colSpan:2,children:"Upper Half Total"}),(0,x.jsx)(m.Z,{style:o,children:n})]}),(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{colSpan:2,children:"Grand Total"}),(0,x.jsx)(m.Z,{style:o,children:n+t})]})]})})),k=function(e,n){switch(e){case 0:return j(n,3);case 1:return j(n,4);case 2:return function(e){var n=e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{}),t=!1,o=!1;return Object.values(n).forEach((function(e){e>=3?t=!0:e>=2&&(o=!0)})),t&&o}(n);case 3:return y(n,4);case 4:return y(n,5);case 5:return j(n,5);case 6:return!0;default:return console.error("Unexpected Value"),!1}},w=function(e){var n=e.values,t=e.showScoreButtons,o=e.getScoreButton,r=e.top,s=c.useCallback((function(e,c,s,a){return e>=0?e:t?s&&function(e,n){return Object.entries(e.reduce((function(e,n){return e[n]?e[n]+=1:e[n]=1,e}),{})).reduce((function(e,t){var o=(0,S.Z)(t,2),r=o[0];return 5===o[1]&&n[Number(r)-1].score>=0||e}),!1)}(n,r)?o(!0,c+100,!1,a):o(k(a,n),c,!1,a):null}),[o,t,r,n]),a=e.bottom,u=e.style,i=c.useCallback((function(){var e=a[5].score>0;return a.map((function(t,o){var r=t.name,c=t.hint,a=t.points,i=t.score,l=a===g?function(e){return e.reduce((function(e,n){return e+n}),0)}(n):a;return(0,x.jsxs)(Z.Z,{children:[(0,x.jsx)(m.Z,{children:r}),(0,x.jsx)(m.Z,{children:c}),(0,x.jsx)(m.Z,{style:u,children:s(i,l,e,o)})]},r)}))}),[a,s,u,n]),l=e.finalTopSum,d=e.bottomSum;return(0,x.jsxs)(x.Fragment,{children:[i(),(0,x.jsx)(T,{bottomSum:d,finalTopSum:l,style:u})]})},B={textAlign:"center"},C=function(e){var n=e.bottom,t=e.bottomSum,o=e.finalTopSum,r=e.showScoreButtons,s=e.top,a=e.topSum,u=e.values,i=e.onTopScore,m=e.onBottomScore,f=c.useCallback((function(e,n,t,o){return e?(0,x.jsx)(l.Z,{color:"secondary",variant:"outlined",onClick:t?function(){return i(n,o)}:function(){return m(n,o)},children:"Add ".concat(n," Points")}):(0,x.jsx)(l.Z,{color:"secondary",variant:"outlined",onClick:t?function(){return i(0,o)}:function(){return m(0,o)},children:"0"})}),[m,i]);return(0,x.jsxs)(d.Z,{size:"small",children:[(0,x.jsx)(p,{style:B}),(0,x.jsxs)(h.Z,{children:[(0,x.jsx)(b,{finalTopSum:o,getScoreButton:f,showScoreButtons:r,style:B,top:s,values:u,bottom:n,topSum:a}),(0,x.jsx)(w,{finalTopSum:o,getScoreButton:f,showScoreButtons:r,style:B,top:s,values:u,bottom:n,bottomSum:t})]})]})},F=t(18559),R=t.n(F),z=t(20601),O=t(28265),H=t(90466),G=t(12891),M=t(35667),N=t(18602),A=t(13967),E=t(79937),U=function(e){var n=(0,A.Z)().palette.secondary.main,t=e.scores,o=c.useMemo((function(){return function(e){return e.map((function(e){return{value:e}}))}(t)}),[t]),r=(o[o.length-1]||{value:0}).value,a=(R()(o,"value")||{value:0}).value;return(0,x.jsxs)(E.Z,{title:"Yahtzee Score History",buttonText:"Score History",children:[(0,x.jsx)(z.h,{width:"100%",height:300,children:(0,x.jsxs)(O.T,{data:o,children:[(0,x.jsx)("defs",{children:(0,x.jsxs)("linearGradient",{id:"mainColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,x.jsx)("stop",{offset:"20%",stopColor:n,stopOpacity:.8}),(0,x.jsx)("stop",{offset:"100%",stopColor:n,stopOpacity:0})]})}),(0,x.jsx)(H.K,{dataKey:"name",interval:"preserveStartEnd"}),(0,x.jsx)(G.B,{width:40,orientation:"right",tickLine:!1}),(0,x.jsx)(M.u,{}),(0,x.jsx)(N.u,{type:"monotone",dataKey:"value",stroke:n,fillOpacity:1,fill:"url(#mainColor)"})]})}),(0,x.jsx)(s.Z,{variant:"h4",children:"Most Recent: ".concat(r)}),(0,x.jsx)(s.Z,{variant:"h4",children:"Top Score: ".concat(a)})]})},Y=function(e){var n=e.scores,t=e.money,o=e.name;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.Z,{variant:"h2",children:"Yahtzee"}),(0,x.jsxs)("div",{className:"flex-container",children:[(0,x.jsxs)(s.Z,{variant:"h4",children:[o,": $",t]}),(0,x.jsx)(U,{scores:n})]})]})},L={display:"block",margin:"auto",width:320},P=function(e){var n=e.values,t=e.saved,o=e.roll,r=e.handleUnsave,c=e.handleSave,a=e.handleDiceRoll,u=e.getButtonText;return(0,x.jsxs)("div",{className:"flex-container",children:[(0,x.jsx)(s.Z,{variant:"h4",children:"Roll #".concat(o,"/3")}),(0,x.jsxs)("div",{style:L,children:[t.map((function(e,n){return(0,x.jsx)(l.Z,{variant:"contained",onClick:function(){return r(n)},children:e},n)})),n.map((function(e,n){return(0,x.jsx)(l.Z,{color:"secondary",variant:"outlined",onClick:function(){return c(n)},children:e},n)}))]}),(0,x.jsx)(l.Z,{onClick:a,variant:"contained",disabled:3===o,children:u(o)})]})},D=t(45987),J=t(24274),K=["money","name"],I=(0,a.cn)({key:"yahtzeeAtom",default:JSON.parse(localStorage.getItem("yahtzee-atom")||"null")||(0,o.Z)((0,o.Z)({},{roll:0,values:[0,0,0,0,0],saved:[],turn:0,showScoreButtons:!1,topScores:[-1,-1,-1,-1,-1,-1],bottomScores:[-1,-1,-1,-1,-1,-1,-1]}),{},{scores:[]}),effects:[function(e){(0,e.onSet)((function(e){localStorage.setItem("yahtzee-atom",JSON.stringify(e))}))}]}),V=(0,a.nZ)({key:"sumsYahtzeeSelector",get:function(e){var n=(0,e.get)(I),t=n.topScores,o=n.bottomScores,r=0,c=t.reduce((function(e,n){return n>=0&&(r+=1,e+=n),e}),0),s=c;return c>=63&&(s+=35),{topSum:c,bottomSum:o.reduce((function(e,n){return n>=0&&(r+=1,e+=n),e}),0),finalTopSum:s,finish:r>=13}}}),W=(0,a.nZ)({key:"yahtzeeState",get:function(e){var n=e.get,t=n(I),r=n(J.ZP)[0],c=r.money,s=r.name;return(0,o.Z)((0,o.Z)({},t),{},{money:c,name:s})},set:function(e,n){var t=e.get,c=e.set;if(!(n instanceof a.nY)){var s=n.money,u=(n.name,(0,D.Z)(n,K));c(I,u);var i=t(J.ZP),l=(0,r.Z)(i);l[0]=(0,o.Z)((0,o.Z)({},i[0]),{},{money:s}),c(J.ZP,l)}}}),_=function(){var e=(0,a.FV)(W),n=(0,S.Z)(e,2),t=n[0],c=n[1];return{state:t,newGame:function(e){return c((0,o.Z)((0,o.Z)({name:t.name},{roll:0,values:[0,0,0,0,0],saved:[],turn:0,showScoreButtons:!1,topScores:[-1,-1,-1,-1,-1,-1],bottomScores:[-1,-1,-1,-1,-1,-1,-1]}),{},{scores:[].concat((0,r.Z)(t.scores),[e]),money:t.money+Math.ceil(e/10)}))},diceClick:function(e,n){return c((0,o.Z)((0,o.Z)({},t),{},{values:e,saved:n}))},updateTop:function(e){return c((0,o.Z)((0,o.Z)({},t),{},{topScores:e,showScoreButtons:!1,roll:0,values:[0,0,0,0,0],saved:[]}))},updateBottom:function(e){return c((0,o.Z)((0,o.Z)({},t),{},{bottomScores:e,showScoreButtons:!1,roll:0,values:[0,0,0,0,0],saved:[]}))},updateRoll:function(e,n,r,s){return c((0,o.Z)((0,o.Z)({},t),{},{values:e,saved:n,roll:r,showScoreButtons:!0,money:s?t.money-25:t.money}))}}},q=[{name:"Aces"},{name:"Twos"},{name:"Threes"},{name:"Fours"},{name:"Fives"},{name:"Sixes"}],$=[{name:"3 of a kind",hint:g,points:g},{name:"4 of a kind",hint:g,points:g},{name:"Full House",hint:"Score 25",points:25},{name:"Sm. Straight (4)",hint:"Score 30",points:30},{name:"Lg. Straight (5)",hint:"Score 40",points:40},{name:"Yahtzee",hint:"Score 50",points:50},{name:"Chance",hint:g,points:g}],Q=function(){var e=_(),n=e.state,t=e.diceClick,u=e.newGame,l=e.updateTop,d=e.updateBottom,h=e.updateRoll,m=n.topScores,f=n.bottomScores,Z=n.values,p=n.saved,S=n.roll,v=n.showScoreButtons,j=n.scores,y=n.money,b=n.name,g=(0,a.sJ)(V),T=g.topSum,k=g.bottomSum,w=g.finalTopSum,B=g.finish,F=c.useCallback((function(e){if(B)return"New Game";switch(e){case 0:return"First Roll";case 1:return"Second Roll";case 2:return"Last Roll";case 3:return"Score";default:return"Error"}}),[B]),R=m.map((function(e,n){return(0,o.Z)((0,o.Z)({},q[n]),{},{score:e})})),z=f.map((function(e,n){return(0,o.Z)((0,o.Z)({},$[n]),{},{score:e})}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Y,{scores:j,money:y,name:b}),(0,x.jsx)("hr",{}),(0,x.jsx)(P,{values:Z,saved:p,roll:S,handleUnsave:function(e){var n=(0,r.Z)(Z),o=(0,r.Z)(p);n.push(o.splice(e,1)[0]),n.sort(),t(n,o)},handleSave:function(e){if(0!==Z[e]){var n=(0,r.Z)(Z),o=(0,r.Z)(p);o.push(n.splice(e,1)[0]),o.sort(),t(n,o)}},handleDiceRoll:function(){if(B)u(w+k);else if(!(S>=3)){for(var e=(0,r.Z)(Z),n=(0,r.Z)(p),t=0;t<e.length;t+=1)e[t]=i();e.sort(),n.sort(),h(e,n,S+1,k+T===0&&0===S)}},getButtonText:F}),(0,x.jsx)("hr",{}),(0,x.jsx)(s.Z,{variant:"h4",children:"Total: ".concat(w+k)}),(0,x.jsx)(C,{values:[].concat((0,r.Z)(p),(0,r.Z)(Z)),bottom:z,top:R,onTopScore:function(e,n){var t=(0,r.Z)(m);t[n]=e,l(t)},onBottomScore:function(e,n){var t=(0,r.Z)(f);t[n]=e,d(t)},showScoreButtons:v,topSum:T,finalTopSum:w,bottomSum:k})]})}},11337:function(e,n,t){var o=t(29439),r=t(72791);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=r.useState(e),t=(0,o.Z)(n,2),c=t[0],s=t[1],a=function(){s(!0)},u=function(){s(!1)};return[c,a,u]}}}]);
//# sourceMappingURL=g_yahtzee.26ea9a0a.chunk.js.map