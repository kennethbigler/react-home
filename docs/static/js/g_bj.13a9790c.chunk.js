"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[181],{87632:function(e,n,a){var t=a(1413),r=a(61842),i=a.n(r),s=[{name:"2",weight:2,suit:"\u2663"},{name:"3",weight:3,suit:"\u2663"},{name:"4",weight:4,suit:"\u2663"},{name:"5",weight:5,suit:"\u2663"},{name:"6",weight:6,suit:"\u2663"},{name:"7",weight:7,suit:"\u2663"},{name:"8",weight:8,suit:"\u2663"},{name:"9",weight:9,suit:"\u2663"},{name:"10",weight:10,suit:"\u2663"},{name:"J",weight:11,suit:"\u2663"},{name:"Q",weight:12,suit:"\u2663"},{name:"K",weight:13,suit:"\u2663"},{name:"A",weight:14,suit:"\u2663"},{name:"2",weight:2,suit:"\u2666"},{name:"3",weight:3,suit:"\u2666"},{name:"4",weight:4,suit:"\u2666"},{name:"5",weight:5,suit:"\u2666"},{name:"6",weight:6,suit:"\u2666"},{name:"7",weight:7,suit:"\u2666"},{name:"8",weight:8,suit:"\u2666"},{name:"9",weight:9,suit:"\u2666"},{name:"10",weight:10,suit:"\u2666"},{name:"J",weight:11,suit:"\u2666"},{name:"Q",weight:12,suit:"\u2666"},{name:"K",weight:13,suit:"\u2666"},{name:"A",weight:14,suit:"\u2666"},{name:"2",weight:2,suit:"\u2665"},{name:"3",weight:3,suit:"\u2665"},{name:"4",weight:4,suit:"\u2665"},{name:"5",weight:5,suit:"\u2665"},{name:"6",weight:6,suit:"\u2665"},{name:"7",weight:7,suit:"\u2665"},{name:"8",weight:8,suit:"\u2665"},{name:"9",weight:9,suit:"\u2665"},{name:"10",weight:10,suit:"\u2665"},{name:"J",weight:11,suit:"\u2665"},{name:"Q",weight:12,suit:"\u2665"},{name:"K",weight:13,suit:"\u2665"},{name:"A",weight:14,suit:"\u2665"},{name:"2",weight:2,suit:"\u2660"},{name:"3",weight:3,suit:"\u2660"},{name:"4",weight:4,suit:"\u2660"},{name:"5",weight:5,suit:"\u2660"},{name:"6",weight:6,suit:"\u2660"},{name:"7",weight:7,suit:"\u2660"},{name:"8",weight:8,suit:"\u2660"},{name:"9",weight:9,suit:"\u2660"},{name:"10",weight:10,suit:"\u2660"},{name:"J",weight:11,suit:"\u2660"},{name:"Q",weight:12,suit:"\u2660"},{name:"K",weight:13,suit:"\u2660"},{name:"A",weight:14,suit:"\u2660"}],c=function(){return s.map((function(e){return(0,t.Z)({},e)}))},o=function(){return i().getItem("deck").then((function(e){return e||c()})).catch((function(){return c()}))},u=function(e){return i().setItem("deck",e).catch((function(){return null}))};n.Z={shuffle:function(){return u(function(e){var n=[];e.map((function(e){return n.push(e)}));for(var a=0;a<100;a+=1){var t=Math.floor(Math.random()*n.length),r=Math.floor(Math.random()*n.length),i=n[t];n[t]=n[r],n[r]=i}return n}(c()))},deal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=[];return o().then((function(a){if(e>a.length)return a;for(var t=0;t<e;t+=1){var r=a.pop();r&&n.push(r)}return a})).then((function(e){return u(e)})).then((function(){return n}))},rankSort:function(e,n){return e.weight-n.weight}}},79937:function(e,n,a){var t=a(29439),r=(a(72791),a(5289)),i=a(65661),s=a(39157),c=a(97123),o=a(24518),u=a(11337),d=a(80184);n.Z=function(e){var n=(0,u.Z)(),a=(0,t.Z)(n,3),l=a[0],h=a[1],x=a[2],f=e.buttonText,m=e.title,p=e.children;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Z,{color:"primary",onClick:h,variant:"contained",children:f||m}),(0,d.jsxs)(r.Z,{title:"info-popup",onClose:x,open:l,maxWidth:"md",fullWidth:!0,children:[(0,d.jsx)(i.Z,{children:m}),(0,d.jsx)(s.Z,{children:p}),(0,d.jsx)(c.Z,{children:(0,d.jsx)(o.Z,{color:"primary",onClick:x,children:"Close"})})]})]})}},69975:function(e,n,a){a.r(n),a.d(n,{default:function(){return U}});var t,r=a(1413),i=a(93433),s=a(15861),c=a(29439),o=a(87757),u=a.n(o),d=a(72791),l=a(56030),h=a(25252),x=a(24274),f=a(69153);!function(e){e.NEW_GAME="New Game",e.FINISH_BETTING="Finish Betting",e.STAY="Stay",e.HIT="Hit",e.DOUBLE="Double",e.SPLIT="Split"}(t||(t={}));var m=function(){return{gameFunctions:[t.FINISH_BETTING],hideHands:!0}},p=(0,l.cn)({key:"blackjackAtom",default:JSON.parse(localStorage.getItem("blackjack-atom")||"null")||m(),effects:[function(e){(0,e.onSet)((function(e){localStorage.setItem("blackjack-atom",JSON.stringify(e))}))}]}),g=(0,l.nZ)({key:"blackjackState",get:function(e){var n=e.get;return{bj:n(p),players:n(x.ZP),turn:n(f.Z)}},set:function(e,n){var a=e.set;if(!(n instanceof l.nY)){var t=n.bj,r=n.turn,i=n.players;a(p,t),a(f.Z,r),a(x.ZP,i)}}});function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,a=!1;return e.forEach((function(e){var t=e.weight||0;14===t?n<=10?(n+=11,a=!0):n+=1:n+=t>10?10:t,n>21&&a&&(n-=10,a=!1)})),{weight:n,soft:a}}var k=function(){var e=(0,s.Z)(u().mark((function e(n,a,t,r,i,s){var c,o,d,l,h,x,f,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(c=n.weight||0,o=n.soft,d=b([a.cards[0]]),l=d.weight,h=b([n.cards[0]]),x=h.weight,f=b([n.cards[1]]),m=f.weight,!(c<22)){e.next=172;break}if(x!==m){e.next=66;break}if(2!==x&&3!==x&&7!==x){e.next=19;break}if(!(l<=7)){e.next=15;break}return e.next=13,i();case 13:e.next=17;break;case 15:return e.next=17,r();case 17:e.next=64;break;case 19:if(4!==x){e.next=29;break}if(5!==l&&6!==l){e.next=25;break}return e.next=23,i();case 23:e.next=27;break;case 25:return e.next=27,r();case 27:e.next=64;break;case 29:if(5!==x){e.next=39;break}if(!(l<=9)){e.next=35;break}return e.next=33,t();case 33:e.next=37;break;case 35:return e.next=37,r();case 37:e.next=64;break;case 39:if(6!==x){e.next=49;break}if(!(l<=6)){e.next=45;break}return e.next=43,i();case 43:e.next=47;break;case 45:return e.next=47,r();case 47:e.next=64;break;case 49:if(9!==x){e.next=58;break}if(!(7===l||l>=10)){e.next=54;break}s(),e.next=56;break;case 54:return e.next=56,i();case 56:e.next=64;break;case 58:if(8!==x&&11!==x){e.next=63;break}return e.next=61,i();case 61:e.next=64;break;case 63:s();case 64:e.next=170;break;case 66:if(!(c<20&&o)){e.next=120;break}if(13!==c&&14!==c){e.next=77;break}if(5!==l&&6!==l){e.next=73;break}return e.next=71,t();case 71:e.next=75;break;case 73:return e.next=75,r();case 75:e.next=118;break;case 77:if(15!==c&&16!==c){e.next=87;break}if(!(l>=4&&l<=6)){e.next=83;break}return e.next=81,t();case 81:e.next=85;break;case 83:return e.next=85,r();case 85:e.next=118;break;case 87:if(17!==c){e.next=97;break}if(!(l>=3&&l<=6)){e.next=93;break}return e.next=91,t();case 91:e.next=95;break;case 93:return e.next=95,r();case 95:e.next=118;break;case 97:if(18!==c){e.next=111;break}if(!(l>=2&&l<=6)){e.next=103;break}return e.next=101,t();case 101:e.next=109;break;case 103:if(7!==l&&8!==l){e.next=107;break}s(),e.next=109;break;case 107:return e.next=109,r();case 109:e.next=118;break;case 111:if(19!==c){e.next=118;break}if(6!==l){e.next=117;break}return e.next=115,t();case 115:e.next=118;break;case 117:s();case 118:e.next=170;break;case 120:if(!(c<17)||o){e.next=169;break}if(!(c>=5&&c<=8)){e.next=126;break}return e.next=124,r();case 124:e.next=167;break;case 126:if(9!==c){e.next=136;break}if(!(l>=3&&l<=6)){e.next=132;break}return e.next=130,t();case 130:e.next=134;break;case 132:return e.next=134,r();case 134:e.next=167;break;case 136:if(10!==c){e.next=146;break}if(!(l>=2&&l<=9)){e.next=142;break}return e.next=140,t();case 140:e.next=144;break;case 142:return e.next=144,r();case 144:e.next=167;break;case 146:if(11!==c){e.next=151;break}return e.next=149,t();case 149:e.next=167;break;case 151:if(12!==c){e.next=160;break}if(!(l>=4&&l<=6)){e.next=156;break}s(),e.next=158;break;case 156:return e.next=158,r();case 158:e.next=167;break;case 160:if(!(c>=13&&c<=16)){e.next=167;break}if(!(l>=2&&l<=6)){e.next=165;break}s(),e.next=167;break;case 165:return e.next=167,r();case 167:e.next=170;break;case 169:s();case 170:e.next=173;break;case 172:s();case 173:case"end":return e.stop()}}),e)})));return function(n,a,t,r,i,s){return e.apply(this,arguments)}}(),Z=function(e){var n=e.filter((function(e){return 0===e.id}))[0],a=n.hands[0].weight||0,t=n.hands[0].cards.length,i={house:0,payout:0,status:""},s=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.house-=Math.floor(a*n),e.payout=Math.floor(a*n),e.status="win"},c=function(e,n){e.house+=n,e.payout=-n,e.status="lose"};return e.map((function(e){var n=e.id,o=e.bet;return 0===n?(i.house>0?i.status="win":i.house<0?i.status="lose":i.status="push",(0,r.Z)((0,r.Z)({},e),{},{status:i.status,money:e.money+i.house})):(e.hands.forEach((function(e){var n=e.weight,r=void 0===n?0:n,u=e.cards;21===a&&2===t?c(i,o):21===r&&2===u.length?s(i,o,1.2):r<=21&&(r>a||a>21)?s(i,o):r<=21&&r===a?(i.payout=0,i.status="push"):c(i,o)})),(0,r.Z)((0,r.Z)({},e),{},{status:i.status,money:e.money+i.payout}))}))},y=function(e){if(!e)return[];var n=[t.STAY];(e.weight||0)<21&&(n.push(t.HIT),2===e.cards.length&&(n.push(t.DOUBLE),b([e.cards[0]]).weight===b([e.cards[1]]).weight&&n.push(t.SPLIT)));return n},j=a(20890),w=a(79937),v=a(80184),H=d.memo((function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(j.Z,{variant:"h5",children:"Objective:"}),(0,v.jsx)(j.Z,{children:"Get as close to 21 as you can, without going over. Each card is worth it's number, J/Q/K are worth 10, and an Ace is worth 11 unless you go over 21, then it is worth 1."}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Blackjack:"}),(0,v.jsx)(j.Z,{children:"Delt an Ace and a 10/J/Q/K, this casino pays 3:2, but Vegas casinos do 6:5."}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Hit:"}),(0,v.jsx)(j.Z,{children:"Get an extra card which adds to your total."}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Stay:"}),(0,v.jsx)(j.Z,{children:"Move to the next player."}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Double Down:"}),(0,v.jsx)(j.Z,{children:"This option is available with a two card hand; before another card has been drawn double your bet and receive one (and only one) additional card to your hand. Play then moves to the next player."}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Splitting Pairs:"}),(0,v.jsx)(j.Z,{children:"When you are dealt a pair of cards of the same rank, you are allowed to split into two separate hands and play them independently. You will match your bet for the second hand. A double after a split is ok"}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Resplitting:"}),(0,v.jsx)(j.Z,{children:"When you get additional pairs in the first two cards of a hand you can resplit. Typically a player is allowed to split up to 3 times (delt 4 of a kind)."}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Splitting Aces:"}),(0,v.jsx)(j.Z,{children:"Player is limited to drawing only one additional card on each Ace. If you draw a ten-valued card on one of your split Aces, the hand is not considered a Blackjack (it is treated as a normal 21). You can re-split Aces."}),(0,v.jsx)("br",{}),(0,v.jsx)(j.Z,{variant:"h5",children:"Other Rules:"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)(j.Z,{children:(0,v.jsx)("li",{children:"Dealer hits on 16 or less and soft 17"})}),(0,v.jsx)(j.Z,{children:(0,v.jsx)("li",{children:"Minimum bet is $5"})})]}),(0,v.jsx)(j.Z,{variant:"h5",children:"AI Algorithm:"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)(j.Z,{children:(0,v.jsx)("li",{children:"House Rules: 6 decks, H17, DAS, No Surrender, Peek"})}),(0,v.jsx)(j.Z,{children:(0,v.jsx)("li",{children:"Estimated casino edge for these rules: 0.66%"})})]})]})})),S=a(79836),T=a(53382),A=a(53994),N=a(56890),F=a(35855),B=a(80007),M=a(4934),C=a(82460),D=a(81258),I={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},J=a(45987),E=["color","text","style"],P=d.memo((function(e){var n=e.color,a=e.text,t=e.style,i=(0,J.Z)(e,E),s=(0,r.Z)((0,r.Z)({},t),{},{textAlign:"center",paddingLeft:0,paddingRight:0,backgroundColor:n});return(0,v.jsx)(A.Z,(0,r.Z)((0,r.Z)({size:"small",style:s},i),{},{children:a}))})),W={textAlign:"center",padding:0},O=function(e){var n=e.name,a=e.data;return(0,v.jsxs)(F.Z,{children:[(0,v.jsx)(A.Z,{style:W,children:n}),a.map((function(e,n){return(0,v.jsx)(P,(0,r.Z)({},e),n)}))]})},G=["2","3","4","5","6","7","8","9","T","A"],R={width:60},_=function(e){var n=e.title,a=e.data;return(0,v.jsxs)(S.Z,{children:[(0,v.jsx)(N.Z,{children:(0,v.jsx)(F.Z,{children:(0,v.jsx)(A.Z,{colSpan:11,children:n})})}),(0,v.jsxs)(T.Z,{children:[(0,v.jsxs)(F.Z,{children:[(0,v.jsx)(P,{rowSpan:2,style:R,text:"Hand"}),(0,v.jsx)(P,{colSpan:10,text:"Dealer"})]}),(0,v.jsx)(F.Z,{children:G.map((function(e){return(0,v.jsx)(P,{text:e},e)}))}),a.map((function(e){return(0,v.jsx)(O,{name:e.name,data:e.data},e.name)}))]})]})},K=d.memo((function(){var e={color:B.Z[200],text:"H"},n={color:M.Z[200],text:"D"},a={color:C.Z[200],text:"S"},t={color:D.Z[200],text:"P"},i={color:I[200],text:"DS"},s=[{name:"Hard 5",data:[e,e,e,e,e,e,e,e,e,e]},{name:"Hard 6",data:[e,e,e,e,e,e,e,e,e,e]},{name:"Hard 7",data:[e,e,e,e,e,e,e,e,e,e]},{name:"Hard 8",data:[e,e,e,e,e,e,e,e,e,e]},{name:"Hard 9",data:[e,n,n,n,n,e,e,e,e,e]},{name:"Hard 10",data:[n,n,n,n,n,n,n,n,e,e]},{name:"Hard 11",data:[n,n,n,n,n,n,n,n,n,n]},{name:"Hard 12",data:[e,e,a,a,a,e,e,e,e,e]},{name:"Hard 13",data:[a,a,a,a,a,e,e,e,e,e]},{name:"Hard 14",data:[a,a,a,a,a,e,e,e,e,e]},{name:"Hard 15",data:[a,a,a,a,a,e,e,e,e,e]},{name:"Hard 16",data:[a,a,a,a,a,e,e,e,e,e]},{name:"Hard 17",data:[a,a,a,a,a,a,a,a,a,a]},{name:"Hard 18+",data:[a,a,a,a,a,a,a,a,a,a]}],c=[{name:"Ace + 2",data:[e,e,e,n,n,e,e,e,e,e]},{name:"Ace + 3",data:[e,e,e,n,n,e,e,e,e,e]},{name:"Ace + 4",data:[e,e,n,n,n,e,e,e,e,e]},{name:"Ace + 5",data:[e,e,n,n,n,e,e,e,e,e]},{name:"Ace + 6",data:[e,n,n,n,n,e,e,e,e,e]},{name:"Ace + 7",data:[i,i,i,i,i,a,a,e,e,e]},{name:"Ace + 8",data:[a,a,a,a,i,a,a,a,a,a]},{name:"Ace + 9",data:[a,a,a,a,a,a,a,a,a,a]}],o=[{name:"(2,2)",data:[t,t,t,t,t,t,e,e,e,e]},{name:"(3,3)",data:[t,t,t,t,t,t,e,e,e,e]},{name:"(4,4)",data:[e,e,e,t,t,e,e,e,e,e]},{name:"(5,5)",data:[n,n,n,n,n,n,n,n,e,e]},{name:"(6,6)",data:[t,t,t,t,t,e,e,e,e,e]},{name:"(7,7)",data:[t,t,t,t,t,t,e,e,e,e]},{name:"(8,8)",data:[t,t,t,t,t,t,t,t,t,t]},{name:"(9,9)",data:[t,t,t,t,t,a,t,t,a,a]},{name:"(T,T)",data:[a,a,a,a,a,a,a,a,a,a]},{name:"(A,A)",data:[t,t,t,t,t,t,t,t,t,t]}];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_,{data:s,title:"Hard Totals"}),(0,v.jsx)(_,{data:c,title:"Soft Totals"}),(0,v.jsx)(_,{data:o,title:"Pairs"}),(0,v.jsxs)(S.Z,{children:[(0,v.jsx)(N.Z,{children:(0,v.jsx)(F.Z,{children:(0,v.jsx)(A.Z,{colSpan:11,children:"Key"})})}),(0,v.jsxs)(T.Z,{children:[(0,v.jsxs)(F.Z,{children:[(0,v.jsx)(P,(0,r.Z)({},e)),(0,v.jsx)(P,{colSpan:2,text:"= Hit"}),(0,v.jsx)(P,(0,r.Z)({},a)),(0,v.jsx)(P,{colSpan:3,text:"= Stand"}),(0,v.jsx)(P,(0,r.Z)({},t)),(0,v.jsx)(P,{colSpan:3,text:"= Split"})]}),(0,v.jsxs)(F.Z,{children:[(0,v.jsx)(P,(0,r.Z)({},n)),(0,v.jsx)(P,{colSpan:10,text:"= Double (Hit if not allowed)"})]}),(0,v.jsxs)(F.Z,{children:[(0,v.jsx)(P,(0,r.Z)({},i)),(0,v.jsx)(P,{colSpan:10,text:"= Double (Stand if not allowed)"})]})]})]})]})})),L=d.memo((function(){return(0,v.jsxs)("div",{className:"flex-container",children:[(0,v.jsx)(j.Z,{variant:"h2",gutterBottom:!0,children:"Blackjack (21)"}),(0,v.jsxs)(w.Z,{title:"Rules",children:[(0,v.jsx)(H,{}),(0,v.jsx)(K,{})]})]})})),Q=a(41881),Y=a(87632),U=function(){var e=(0,l.FV)(g),n=(0,c.Z)(e,2),a=n[0],o=a.turn,d=a.players,x=a.bj,f=x.gameFunctions,p=x.hideHands,j=n[1],w=function(){var e=(0,s.Z)(u().mark((function e(){var n,a,t,s,c,l,h,x;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d[o.player].hands,e.next=3,Y.Z.deal(2);case 3:a=e.sent,t=n[o.hand],s={cards:[t.cards[0]]},c={cards:[t.cards[1]]},s.cards.push(a[0]),c.cards.push(a[1]),Object.assign(s,b(s.cards)),Object.assign(c,b(c.cards)),(l=n.map((function(e,n){return n!==o.hand?e:c}))).splice(o.hand,0,s),(h=(0,i.Z)(d))[o.player]=(0,r.Z)((0,r.Z)({},d[o.player]),{},{hands:l}),x=[],h[o.player].isBot||(x=y(h[o.player].hands[o.hand])),j({turn:o,players:h,bj:{gameFunctions:x,hideHands:p}});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=d[o.player].hands.length-1,n=o.hand<e?(0,r.Z)((0,r.Z)({},o),{},{hand:o.hand+1}):{player:o.player+1,hand:0},a=[];d[n.player].isBot||(a=y(d[n.player].hands[n.hand])),j({turn:n,players:d,bj:{gameFunctions:a,hideHands:p}})},S=function(){var e=(0,s.Z)(u().mark((function e(){var n,a,t,s,c,l,h,x,f,m,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d[o.player].hands,e.next=3,Y.Z.deal(1);case 3:a=e.sent,t=[].concat((0,i.Z)(n[o.hand].cards),(0,i.Z)(a)),s=b(t),c=s.weight,l=s.soft,h=n.map((function(e,n){return n!==o.hand?e:{cards:t,weight:c,soft:l}})),(x=(0,i.Z)(d))[o.player]=(0,r.Z)((0,r.Z)({},d[o.player]),{},{hands:h,bet:2*d[o.player].bet}),f=d[o.player].hands.length-1,m=o.hand<f?(0,r.Z)((0,r.Z)({},o),{},{hand:o.hand+1}):{player:o.player+1,hand:0},g=[],x[m.player].isBot||(g=y(x[m.player].hands[m.hand])),j({turn:m,players:x,bj:{gameFunctions:g,hideHands:p}});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,s.Z)(u().mark((function e(){var n,a,t,s,c,l,h,x,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d[o.player].hands,e.next=3,Y.Z.deal(1);case 3:a=e.sent,t=[].concat((0,i.Z)(n[o.hand].cards),(0,i.Z)(a)),s=b(t),c=s.weight,l=s.soft,h=n.map((function(e,n){return n!==o.hand?e:{cards:t,weight:c,soft:l}})),(x=(0,i.Z)(d))[o.player]=(0,r.Z)((0,r.Z)({},d[o.player]),{},{hands:h}),f=[],x[o.player].isBot||(f=y(x[o.player].hands[o.hand])),j({turn:o,players:x,bj:{gameFunctions:f,hideHands:p}});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)(u().mark((function e(){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Y.Z.shuffle().then((0,s.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Z)(d,function(){var e=(0,s.Z)(u().mark((function e(a){var t,s,c,o,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.Z.deal(0!==a.id?2:1);case 2:t=e.sent,(s=(0,i.Z)(t)).sort(Y.Z.rankSort),c=b(s),o=c.weight,d=c.soft,n.push((0,r.Z)((0,r.Z)({},a),{},{hands:[{cards:s,weight:o,soft:d}]}));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))));case 3:a=[],n[o.player].isBot||(a=y(n[o.player].hands[o.hand])),j({turn:o,players:n,bj:{gameFunctions:a,hideHands:!1}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,s.Z)(u().mark((function e(){var n,a,s,c,l,h,x,m,g,k,y,w,v,H;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.filter((function(e){return 0===e.id}))[0],a=n.hands[0].cards,s=b(a),c=s.weight,l=s.soft,!(c<=16||17===c&&l)){e.next=16;break}return h=d.filter((function(e){return 0===e.id}))[0].hands,e.next=7,Y.Z.deal(1);case 7:x=e.sent,m=[].concat((0,i.Z)(h[o.hand].cards),(0,i.Z)(x)),g=b(m),k=g.weight,y=g.soft,w=h.map((function(e,n){return n!==o.hand?e:{cards:m,weight:k,soft:y}})),(v=(0,i.Z)(d))[d.length-1]=(0,r.Z)((0,r.Z)({},d[d.length-1]),{},{hands:w}),j({bj:{gameFunctions:f,hideHands:p},turn:o,players:v}),e.next=18;break;case 16:H=Z(d),j({turn:o,players:H,bj:{gameFunctions:[t.NEW_GAME],hideHands:p}});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,s.Z)(u().mark((function e(){var n,a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=d[o.player]).isBot&&!p&&n){e.next=3;break}return e.abrupt("return");case 3:if(0===n.id){e.next=10;break}return a=d[o.player].hands[o.hand],r=d[d.length-1].hands[0],e.next=8,k(a,r,S,T,w,H);case 8:e.next=13;break;case 10:if(f.includes(t.NEW_GAME)){e.next=13;break}return e.next=13,N();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return F().catch((function(e){return console.log(e)})),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(L,{}),(0,v.jsx)(Q.Z,{betHandler:function(e,n,a){j({bj:{gameFunctions:f,hideHands:p},turn:o,players:d.map((function(n){return n.id===e?(0,r.Z)((0,r.Z)({},n),{},{bet:a}):n}))})},cardClickHandler:function(e,n,a){console.log(d[e].hands[n].cards[a])},gameFunctions:f,onClick:function(e){switch(e){case t.NEW_GAME:j({bj:m(),players:d.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{status:"",hands:[],bet:5})})),turn:{player:0,hand:0}});break;case t.FINISH_BETTING:A().catch((function(e){return console.log(e)}));break;case t.STAY:H();break;case t.HIT:T().catch((function(e){return console.log(e)}));break;case t.DOUBLE:S().catch((function(e){return console.log(e)}));break;case t.SPLIT:w().catch((function(e){return console.log(e)}));break;default:console.error("Unknown Game Function: ",e)}},hideHands:p,players:d,turn:o})]})}},41881:function(e,n,a){a.d(n,{Z:function(){return T}});var t=a(72791),r=a(1413),i=a(46633),s=a(20890),c=a(57621),o=a(37596),u=a(80007),d=a(13771),l=a(82460),h=a(51798),x={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},f=a(80184),m=t.memo((function(e){var n=e.dropped,a=e.suit,i=e.name,c=e.cardHandler,o=e.playerNo,u=e.handNo,d=e.cardNo,h=t.useCallback((function(){c&&c(o,u,d)}),[c,d,u,o]),m={color:"\u2663"===a||"\u2660"===a?"black":l.Z[500],backgroundColor:n?l.Z[100]:"white"};return(0,f.jsxs)("div",{style:(0,r.Z)((0,r.Z)({},x.cardFace),m),onClick:h,role:"main",children:[(0,f.jsx)("div",{style:x.cardTitle,children:i+a}),(0,f.jsx)(s.Z,{variant:"h4",style:(0,r.Z)((0,r.Z)({},x.suit),m),children:a})]})})),p=m,g={fontWeight:"bold",marginTop:"0.5em"},b={fontWeight:"normal",marginTop:"0.5em"},k=function(e){var n=e.cardHandler,a=e.cardsToDiscard,i=e.hand,c=e.handNo,o=e.isBlackJack,u=e.isHandTurn,d=e.isMultiHand,l=e.isPlayerTurn,x=e.playerNo,m=t.useMemo((function(){return l&&(!d||d&&u)?(0,r.Z)((0,r.Z)({},g),{},{color:h.Z[700]}):b}),[l,d,u]),k=i.weight||0;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{variant:"h4",style:m,children:o&&"".concat(k>21?"Bust":"Hand",": ").concat(k)}),i.cards.map((function(e,t){var r=a.includes(t);return e?(0,f.jsx)(p,{cardHandler:n,cardNo:t,dropped:r,handNo:c,name:e.name,playerNo:x,suit:e.suit},e.name+e.suit):null}))]})},Z={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},y=function(e){var n=e.betHandler,a=e.cardHandler,h=e.cardsToDiscard,x=e.hideHands,m=e.isBlackJack,p=e.player,g=e.playerNo,b=e.turn,y=!!b&&g===b.player,j=p.hands.length>1,w=!!x&&m&&0!==p.id&&!p.isBot,v=Math.max(Math.min(p.money,5),0),H=Math.max(Math.min(p.money,100),10),S=t.useCallback((function(e,a){n&&n(p.id,e,a)}),[n,p.id]),T=y?{background:o.Z[200]}:{},A=y?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===p.status&&(T={background:u.Z[300]}),"draw"===p.status&&(T={background:d.Z[300]}),"lose"===p.status&&(T={background:l.Z[300]}),(0,f.jsxs)(c.Z,{style:(0,r.Z)((0,r.Z)({},Z.player),T),children:[(0,f.jsx)(s.Z,{variant:"h4",style:(0,r.Z)({},A),children:"".concat(p.name,": $").concat(p.money)}),w&&(0,f.jsx)(i.ZP,{max:H,min:v,onChange:S,step:5,style:Z.width,value:p.bet}),m&&0!==p.id&&(0,f.jsx)(s.Z,{variant:"h5",children:"Bet: $".concat(p.bet)}),p.hands.map((function(e,n){var t=!!b&&b.hand===n;return(0,f.jsx)("div",{children:!x&&(0,f.jsx)(k,{cardHandler:a,cardsToDiscard:h,hand:e,handNo:n,isBlackJack:m,isHandTurn:t,isMultiHand:j,isPlayerTurn:y,playerNo:g})},"hand".concat(n))}))]})},j=function(e){var n=e.betHandler,a=e.cardHandler,t=e.cardsToDiscard,r=e.hideHands,i=e.isBlackJack,s=e.players,c=e.turn;return(0,f.jsx)(f.Fragment,{children:s.map((function(e,s){return(0,f.jsx)(y,{betHandler:n,cardHandler:a,cardsToDiscard:t,hideHands:r,isBlackJack:i,player:e,playerNo:s,turn:c},"player".concat(s))}))})},w=a(24518),v={margin:12},H=t.memo((function(e){var n=e.onClick,a=e.name;return(0,f.jsx)(w.Z,{color:"primary",onClick:function(){return n(a)},style:v,variant:"contained",children:a})})),S=function(e){var n=e.gameFunctions,a=e.onClick;return(0,f.jsx)("div",{children:n.map((function(e){return(0,f.jsx)(H,{onClick:a,name:e},e)}))})},T=function(e){var n=e.betHandler,a=e.cardClickHandler,r=e.cardsToDiscard,i=void 0===r?[]:r,s=e.gameFunctions,c=void 0===s?[]:s,o=e.gameOver,u=void 0!==o&&o,d=e.hideHands,l=void 0!==d&&d,h=e.isBlackJack,x=void 0===h||h,m=e.players,p=e.turn,g=e.onClick,b=t.useMemo((function(){return m.slice(0,p.player+1)}),[m,p.player]),k=t.useMemo((function(){return m.slice(p.player+1)}),[m,p.player]),Z=t.useMemo((function(){return l||!1!==u?m:m.slice(p.player,p.player+1)}),[l,u,m,p.player]);return x&&!l?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j,{players:b,betHandler:n,cardHandler:a,cardsToDiscard:i,hideHands:l,isBlackJack:x,turn:p}),(0,f.jsx)(S,{gameFunctions:c,onClick:g}),(0,f.jsx)(j,{players:k,betHandler:n,cardHandler:a,cardsToDiscard:i,hideHands:l,isBlackJack:x,turn:{player:-1,hand:-1}})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j,{players:Z,betHandler:n,cardHandler:a,cardsToDiscard:i,hideHands:l,isBlackJack:x,turn:p}),(0,f.jsx)(S,{gameFunctions:c,onClick:g})]})}},25252:function(e,n,a){var t=a(15861),r=a(87757),i=a.n(r);function s(){return(s=(0,t.Z)(i().mark((function e(n,a){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n.length)){e.next=7;break}return e.next=4,a(n[t],t,n);case 4:t+=1,e.next=1;break;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.Z=function(e,n){return s.apply(this,arguments)}},11337:function(e,n,a){var t=a(29439),r=a(72791);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=r.useState(e),a=(0,t.Z)(n,2),i=a[0],s=a[1],c=function(){s(!0)},o=function(){s(!1)};return[i,c,o]}},69153:function(e,n,a){var t=(0,a(56030).cn)({key:"turnAtom",default:JSON.parse(localStorage.getItem("turn-atom")||"null")||{player:0,hand:0},effects:[function(e){(0,e.onSet)((function(e){localStorage.setItem("turn-atom",JSON.stringify(e))}))}]});n.Z=t},56890:function(e,n,a){a.d(n,{Z:function(){return b}});var t=a(87462),r=a(63366),i=a(72791),s=a(28182),c=a(94419),o=a(829),u=a(61046),d=a(47630),l=a(21217);function h(e){return(0,l.Z)("MuiTableHead",e)}(0,a(75878).Z)("MuiTableHead",["root"]);var x=a(80184),f=["className","component"],m=(0,d.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,n){return n.root}})({display:"table-header-group"}),p={variant:"head"},g="thead",b=i.forwardRef((function(e,n){var a=(0,u.Z)({props:e,name:"MuiTableHead"}),i=a.className,d=a.component,l=void 0===d?g:d,b=(0,r.Z)(a,f),k=(0,t.Z)({},a,{component:l}),Z=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},h,n)}(k);return(0,x.jsx)(o.Z.Provider,{value:p,children:(0,x.jsx)(m,(0,t.Z)({as:l,className:(0,s.Z)(Z.root,i),ref:n,role:l===g?null:"rowgroup",ownerState:k},b))})}))}}]);
//# sourceMappingURL=g_bj.13a9790c.chunk.js.map