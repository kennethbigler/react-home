"use strict";(self.webpackChunkreact_home=self.webpackChunkreact_home||[]).push([[396],{41881:function(r,n,e){e.d(n,{Z:function(){return T}});var a=e(72791),t=e(1413),c=e(9221),i=e(20890),s=e(57621),u=e(37596),o=e(80007),d=e(13771),l=e(82460),p=e(51798),f={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},h=e(80184),k=a.memo((function(r){var n=r.dropped,e=r.suit,c=r.name,s=r.cardHandler,u=r.playerNo,o=r.handNo,d=r.cardNo,p=a.useCallback((function(){s&&s(u,o,d)}),[s,d,o,u]),k={color:"\u2663"===e||"\u2660"===e?"black":l.Z[500],backgroundColor:n?l.Z[100]:"white"};return(0,h.jsxs)("div",{style:(0,t.Z)((0,t.Z)({},f.cardFace),k),onClick:p,role:"main",children:[(0,h.jsx)("div",{style:f.cardTitle,children:c+e}),(0,h.jsx)(i.Z,{variant:"h4",style:(0,t.Z)((0,t.Z)({},f.suit),k),children:e})]})})),v=k,x={fontWeight:"bold",marginTop:"0.5em"},m={fontWeight:"normal",marginTop:"0.5em"},y=function(r){var n=r.cardHandler,e=r.cardsToDiscard,c=r.hand,s=r.handNo,u=r.isBlackJack,o=r.isHandTurn,d=r.isMultiHand,l=r.isPlayerTurn,f=r.playerNo,k=a.useMemo((function(){return l&&(!d||d&&o)?(0,t.Z)((0,t.Z)({},x),{},{color:p.Z[700]}):m}),[l,d,o]),y=c.weight||0;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.Z,{variant:"h4",style:k,children:u&&"".concat(y>21?"Bust":"Hand",": ").concat(y)}),c.cards.map((function(r,a){var t=e.includes(a);return(0,h.jsx)(v,{cardHandler:n,cardNo:a,dropped:t,handNo:s,name:r.name,playerNo:f,suit:r.suit},r.name+r.suit)}))]})},b={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},g=function(r){var n=r.betHandler,e=r.cardHandler,p=r.cardsToDiscard,f=r.hideHands,k=r.isBlackJack,v=r.player,x=r.playerNo,m=r.turn,g=!!m&&x===m.player,Z=v.hands.length>1,w=!!f&&k&&0!==v.id&&!v.isBot,H=Math.max(Math.min(v.money,5),0),j=Math.max(Math.min(v.money,100),10),C=a.useCallback((function(r,e){n&&n(v.id,r,e)}),[n,v.id]),T=g?{background:u.Z[200]}:{},D=g?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===v.status&&(T={background:o.Z[300]}),"draw"===v.status&&(T={background:d.Z[300]}),"lose"===v.status&&(T={background:l.Z[300]}),(0,h.jsxs)(s.Z,{style:(0,t.Z)((0,t.Z)({},b.player),T),children:[(0,h.jsx)(i.Z,{variant:"h4",style:(0,t.Z)({},D),children:"".concat(v.name,": $").concat(v.money)}),w&&(0,h.jsx)(c.ZP,{max:j,min:H,onChange:C,step:5,style:b.width,value:v.bet}),k&&0!==v.id&&(0,h.jsx)(i.Z,{variant:"h5",children:"Bet: $".concat(v.bet)}),v.hands.map((function(r,n){var a=!!m&&m.hand===n;return(0,h.jsx)("div",{children:!f&&(0,h.jsx)(y,{cardHandler:e,cardsToDiscard:p,hand:r,handNo:n,isBlackJack:k,isHandTurn:a,isMultiHand:Z,isPlayerTurn:g,playerNo:x})},"hand".concat(n))}))]})},Z=function(r){var n=r.betHandler,e=r.cardHandler,a=r.cardsToDiscard,t=r.hideHands,c=r.isBlackJack,i=r.players,s=r.turn;return(0,h.jsx)(h.Fragment,{children:i.map((function(r,i){return(0,h.jsx)(g,{betHandler:n,cardHandler:e,cardsToDiscard:a,hideHands:t,isBlackJack:c,player:r,playerNo:i,turn:s},"player".concat(i))}))})},w=e(24518),H={margin:12},j=a.memo((function(r){var n=r.onClick,e=r.name;return(0,h.jsx)(w.Z,{color:"primary",onClick:function(){return n(e)},style:H,variant:"contained",children:e})})),C=function(r){var n=r.gameFunctions,e=r.onClick;return(0,h.jsx)("div",{children:n.map((function(r){return(0,h.jsx)(j,{onClick:e,name:r},r)}))})},T=function(r){var n=r.betHandler,e=r.cardClickHandler,t=r.cardsToDiscard,c=void 0===t?[]:t,i=r.gameFunctions,s=void 0===i?[]:i,u=r.gameOver,o=void 0!==u&&u,d=r.hideHands,l=void 0!==d&&d,p=r.isBlackJack,f=void 0===p||p,k=r.players,v=r.turn,x=r.onClick,m=a.useMemo((function(){return k.slice(0,v.player+1)}),[k,v.player]),y=a.useMemo((function(){return k.slice(v.player+1)}),[k,v.player]),b=a.useMemo((function(){return l||!1!==o?k:k.slice(v.player,v.player+1)}),[l,o,k,v.player]);return f&&!l?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Z,{players:m,betHandler:n,cardHandler:e,cardsToDiscard:c,hideHands:l,isBlackJack:f,turn:v}),(0,h.jsx)(C,{gameFunctions:s,onClick:x}),(0,h.jsx)(Z,{players:y,betHandler:n,cardHandler:e,cardsToDiscard:c,hideHands:l,isBlackJack:f,turn:{player:-1,hand:-1}})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Z,{players:b,betHandler:n,cardHandler:e,cardsToDiscard:c,hideHands:l,isBlackJack:f,turn:v}),(0,h.jsx)(C,{gameFunctions:s,onClick:x})]})}},14906:function(r,n,e){e.r(n),e.d(n,{default:function(){return H}});var a=e(93433),t=e(1413),c=e(72791),i=e(20890),s=e(14917),u=e(41881),o=e(39717),d=e(15861),l=e(87757),p=e.n(l),f=e(25252),h=e(57307),k=e(3603),v=e(87632),x=function(r,n){if(n.includes(4))return 7;var e=n.includes(3),a=n.indexOf(2),t=-1!==a;if(e&&t)return 6;if(e)return 3;if(t&&n.includes(2,a+1))return 2;if(t)return 1;for(var c=n.lastIndexOf(1)-n.indexOf(1)===4||n[12]&&n[0]&&n[1]&&n[2]&&n[3],i=!0,s=0;s<r.length;s+=1)if(r[s].suit!==r[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},m=function(r){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0];return r.forEach((function(r){n[r.weight-2]+=1})),n},y=function(r,n,e){for(var a=[],t=[n.indexOf(1)],c=1;c<r;c+=1)t[c]=n.indexOf(1,t[c-1]+1);for(var i=0;i<e.length;i+=1)for(var s=0;s<t.length;s+=1)if(e[i].weight-2===t[s]){a.push(i);break}return a},b=function(){var r=(0,d.Z)(p().mark((function r(n,e){var a,t,c,i,s,u;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=n.hands[0].cards,t=m(a),c=x(a,t),r.t0=c,r.next=0===r.t0?7:1===r.t0?11:2===r.t0||3===r.t0?15:(4===r.t0||5===r.t0||6===r.t0||7===r.t0||r.t0,19);break;case 7:return i=t.lastIndexOf(1)>=11?y(4,t,a):[0,1,2,3,4],r.next=10,e(i,n);case 10:return r.abrupt("break",20);case 11:return s=y(3,t,a),r.next=14,e(s,n);case 14:return r.abrupt("break",20);case 15:return u=y(1,t,a),r.next=18,e(u,n);case 18:case 19:return r.abrupt("break",20);case 20:r.next=25;break;case 22:r.prev=22,r.t1=r.catch(0),console.error(r.t1);case 25:case"end":return r.stop()}}),r,null,[[0,22]])})));return function(n,e){return r.apply(this,arguments)}}(),g=function(r,n){var e={val:0,id:0};r.forEach((function(r){if(!(0===r.id||r.id>5)){var n=parseInt(function(r){for(var n=m(r),e=x(r,n),a=["0","0","0","0","0"],t=0,c=4,i=0,s=-1;t<5;){var u=n.indexOf(c,s+1);-1===u?(c-=1,s=-1):(a[i]=u.toString(14),i+=1,t+=c,s=u)}return"".concat(e).concat(a.reduce((function(r,n){return"".concat(r).concat(n)})))}(r.hands[0].cards),14);n>e.val&&(e={val:n,id:r.id})}})),r.forEach((function(r){0===r.id||r.id>5||(r.id===e.id?n(r.id,"win",20):n(r.id,"lose",-5))}))},Z=function(r,n,e,a,t,c){var i=function(){var n=(0,d.Z)(p().mark((function n(e,a){var t,c;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=a.id,c=a.hands,n.next=4,r((0,k.Uh)({hands:c,id:t,cardsToDiscard:e}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r,e){return n.apply(this,arguments)}}(),s=function(n,e,a){r((0,h.o8)({id:n,status:e,money:a}))},u=function(){var n=(0,d.Z)(p().mark((function n(e,a){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r((0,o.qU)()),n.next=4,(0,f.Z)(e,function(){var r=(0,d.Z)(p().mark((function r(n,e){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(a<=e&&e<5)){r.next=3;break}return r.next=3,b(n,i);case 3:case"end":return r.stop()}}),r)})));return function(n,e){return r.apply(this,arguments)}}());case 4:g(e,s),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(r,e){return n.apply(this,arguments)}}(),l=function(){var r=(0,d.Z)(p().mark((function r(){var n;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n=e[a]||{isBot:!1},t||c||!n.isBot){r.next=5;break}return r.next=5,u(e,a);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}(),x=function(){var n=(0,d.Z)(p().mark((function n(e){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r((0,o.kO)()),n.next=3,v.Z.shuffle().then((0,d.Z)(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.Z)(e,function(){var n=(0,d.Z)(p().mark((function n(e){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(0!==e.id&&e.id<=5)){n.next=3;break}return n.next=3,r((0,k.V0)({id:e.id,num:5}));case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})))).catch((function(r){console.error(r)}));case 3:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),m=function(){var n=(0,d.Z)(p().mark((function n(e,a,t){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i(t,e[a]);case 3:r((0,o.Ot)()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r,e,a){return n.apply(this,arguments)}}(),y=function(){var t=(0,d.Z)(p().mark((function t(c){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,t.t0=c,t.next=t.t0===o._1.DISCARD_CARDS?4:t.t0===o._1.END_TURN?7:t.t0===o._1.NEW_GAME?9:t.t0===o._1.START_GAME?11:14;break;case 4:return t.next=6,m(e,a,n);case 6:return t.abrupt("break",15);case 7:return r((0,o.$d)()),t.abrupt("break",15);case 9:return r((0,o.sg)(e)),t.abrupt("break",15);case 11:return t.next=13,x(e);case 13:return t.abrupt("break",15);case 14:console.error("Unknown Game Function: ",c);case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(0),console.error(t.t1);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(r){return t.apply(this,arguments)}}();return{checkUpdate:l,handleGameFunctionClick:y}},w=e(80184),H=function(){var r=(0,s.CG)((function(r){return(0,t.Z)({turn:r.turn,players:r.players},r.poker)})),n=r.turn,e=r.players,d=r.cardsToDiscard,l=r.gameFunctions,p=r.gameOver,f=r.hideHands,h=(0,s.TL)(),k=c.useCallback((function(r,n,e){var t=(0,a.Z)(d),c=t.indexOf(e);-1===c?t.push(e):t.splice(c,1),h((0,o.uS)(t))}),[d,h]),v=Z(h,d,e,n.player,f,p),x=v.checkUpdate,m=v.handleGameFunctionClick;return x().catch((function(){console.error("check update failed")})),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(i.Z,{variant:"h2",gutterBottom:!0,children:"5 Card Draw Poker"}),(0,w.jsx)(u.Z,{cardClickHandler:k,cardsToDiscard:d,gameFunctions:l,onClick:m,gameOver:p,hideHands:f,isBlackJack:!1,players:e,turn:n})]})}},25252:function(r,n,e){var a=e(15861),t=e(87757),c=e.n(t);function i(){return(i=(0,a.Z)(c().mark((function r(n,e){var a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=0;case 1:if(!(a<n.length)){r.next=7;break}return r.next=4,e(n[a],a,n);case 4:a+=1,r.next=1;break;case 7:case"end":return r.stop()}}),r)})))).apply(this,arguments)}n.Z=function(r,n){return i.apply(this,arguments)}}}]);
//# sourceMappingURL=g_poker.85d4aa45.chunk.js.map