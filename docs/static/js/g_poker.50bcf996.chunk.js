(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[10],{349:function(e,r,n){"use strict";n.d(r,"a",(function(){return T}));var a=n(0),t=n.n(a),c=n(1),i=n(708),s=n(727),u=n(357),o=n(258),d=n(33),l=n(134),p=n(31),b=n(30),f={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},h=n(4),k=t.a.memo((function(e){var r=e.dropped,n=e.suit,a=e.name,i=e.cardHandler,u=e.playerNo,o=e.handNo,d=e.cardNo,l=t.a.useCallback((function(){i&&i(u,o,d)}),[i,d,o,u]),b={color:"\u2663"===n||"\u2660"===n?"black":p.a[500],backgroundColor:r?p.a[100]:"white"};return Object(h.jsxs)("div",{style:Object(c.a)(Object(c.a)({},f.cardFace),b),onClick:l,role:"main",children:[Object(h.jsx)("div",{style:f.cardTitle,children:a+n}),Object(h.jsx)(s.a,{variant:"h4",style:Object(c.a)(Object(c.a)({},f.suit),b),children:n})]})})),j={fontWeight:"bold",marginTop:"0.5em"},v={fontWeight:"normal",marginTop:"0.5em"},x=function(e){var r=e.cardHandler,n=e.cardsToDiscard,a=e.hand,i=e.handNo,u=e.isBlackJack,o=e.isHandTurn,d=e.isMultiHand,l=e.isPlayerTurn,p=e.playerNo,f=t.a.useMemo((function(){return l&&(!d||d&&o)?Object(c.a)(Object(c.a)({},j),{},{color:b.a[700]}):v}),[l,d,o]),x=a.weight||0;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{variant:"h4",style:f,children:u&&"".concat(x>21?"Bust":"Hand",": ").concat(x)}),a.cards.map((function(e,a){var t=n.includes(a);return Object(h.jsx)(k,{cardHandler:r,cardNo:a,dropped:t,handNo:i,name:e.name,playerNo:p,suit:e.suit},e.name+e.suit)}))]})},m={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},O=function(e){var r=e.betHandler,n=e.cardHandler,a=e.cardsToDiscard,b=e.hideHands,f=e.isBlackJack,k=e.player,j=e.playerNo,v=e.turn,O=!!v&&j===v.player,y=k.hands.length>1,g=!!b&&f&&0!==k.id&&!k.isBot,w=Math.max(Math.min(k.money,5),0),H=Math.max(Math.min(k.money,100),10),C=t.a.useCallback((function(e,n){r&&r(k.id,e,n)}),[r,k.id]),T=O?{background:o.a[200]}:{},F=O?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===k.status&&(T={background:d.a[300]}),"draw"===k.status&&(T={background:l.a[300]}),"lose"===k.status&&(T={background:p.a[300]}),Object(h.jsxs)(u.a,{style:Object(c.a)(Object(c.a)({},m.player),T),children:[Object(h.jsx)(s.a,{variant:"h4",style:Object(c.a)({},F),children:"".concat(k.name,": $").concat(k.money)}),g&&Object(h.jsx)(i.a,{max:H,min:w,onChange:C,step:5,style:m.width,value:k.bet}),f&&0!==k.id&&Object(h.jsx)(s.a,{variant:"h5",children:"Bet: $".concat(k.bet)}),k.hands.map((function(e,r){var t=!!v&&v.hand===r;return Object(h.jsx)("div",{children:!b&&Object(h.jsx)(x,{cardHandler:n,cardsToDiscard:a,hand:e,handNo:r,isBlackJack:f,isHandTurn:t,isMultiHand:y,isPlayerTurn:O,playerNo:j})},"hand".concat(r))}))]})},y=function(e){var r=e.betHandler,n=e.cardHandler,a=e.cardsToDiscard,t=e.hideHands,c=e.isBlackJack,i=e.players,s=e.turn;return Object(h.jsx)(h.Fragment,{children:i.map((function(e,i){return Object(h.jsx)(O,{betHandler:r,cardHandler:n,cardsToDiscard:a,hideHands:t,isBlackJack:c,player:e,playerNo:i,turn:s},"player".concat(i))}))})},g=n(732),w={margin:12},H=t.a.memo((function(e){var r=e.onClick,n=e.name;return Object(h.jsx)(g.a,{color:"primary",onClick:function(){return r(n)},style:w,variant:"contained",children:n})})),C=function(e){var r=e.gameFunctions,n=e.onClick;return Object(h.jsx)("div",{children:r.map((function(e){return Object(h.jsx)(H,{onClick:n,name:e},e)}))})},T=function(e){var r=e.betHandler,n=e.cardClickHandler,a=e.cardsToDiscard,c=void 0===a?[]:a,i=e.gameFunctions,s=void 0===i?[]:i,u=e.gameOver,o=void 0!==u&&u,d=e.hideHands,l=void 0!==d&&d,p=e.isBlackJack,b=void 0===p||p,f=e.players,k=e.turn,j=e.onClick,v=t.a.useMemo((function(){return f.slice(0,k.player+1)}),[f,k.player]),x=t.a.useMemo((function(){return f.slice(k.player+1)}),[f,k.player]),m=t.a.useMemo((function(){return l||!1!==o?f:f.slice(k.player,k.player+1)}),[l,o,f,k.player]);return Object(h.jsx)(h.Fragment,{children:b&&!l?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{players:v,betHandler:r,cardHandler:n,cardsToDiscard:c,hideHands:l,isBlackJack:b,turn:k}),Object(h.jsx)(C,{gameFunctions:s,onClick:j}),Object(h.jsx)(y,{players:x,betHandler:r,cardHandler:n,cardsToDiscard:c,hideHands:l,isBlackJack:b,turn:{player:-1,hand:-1}})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{players:m,betHandler:r,cardHandler:n,cardsToDiscard:c,hideHands:l,isBlackJack:b,turn:k}),Object(h.jsx)(C,{gameFunctions:s,onClick:j})]})})}},713:function(e,r,n){"use strict";n.r(r),n.d(r,"default",(function(){return H}));var a=n(8),t=n(1),c=n(0),i=n.n(c),s=n(727),u=n(49),o=n(349),d=n(79),l=n(10),p=n.n(l),b=n(19),f=n(77),h=n(13),k=n(28),j=function(e,r){if(r.includes(4))return 7;var n=r.includes(3),a=r.indexOf(2),t=-1!==a;if(n&&t)return 6;if(n)return 3;if(t&&r.includes(2,a+1))return 2;if(t)return 1;for(var c=r.lastIndexOf(1)-r.indexOf(1)===4||r[12]&&r[0]&&r[1]&&r[2]&&r[3],i=!0,s=0;s<e.length;s+=1)if(e[s].suit!==e[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},v=function(e){var r=[0,0,0,0,0,0,0,0,0,0,0,0,0];return e.forEach((function(e){r[e.weight-2]+=1})),r},x=function(e,r,n){for(var a=[],t=[r.indexOf(1)],c=1;c<e;c+=1)t[c]=r.indexOf(1,t[c-1]+1);for(var i=0;i<n.length;i+=1)for(var s=0;s<t.length;s+=1)if(n[i].weight-2===t[s]){a.push(i);break}return a},m=function(){var e=Object(b.a)(p.a.mark((function e(r,n){var a,t,c,i,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=r.hands[0].cards,t=v(a),c=j(a,t),e.t0=c,e.next=0===e.t0?7:1===e.t0?11:2===e.t0||3===e.t0?15:(4===e.t0||5===e.t0||6===e.t0||7===e.t0||e.t0,19);break;case 7:return i=t.lastIndexOf(1)>=11?x(4,t,a):[0,1,2,3,4],e.next=10,n(i,r);case 10:return e.abrupt("break",20);case 11:return s=x(3,t,a),e.next=14,n(s,r);case 14:return e.abrupt("break",20);case 15:return u=x(1,t,a),e.next=18,n(u,r);case 18:case 19:return e.abrupt("break",20);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),console.error(e.t1);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(r,n){return e.apply(this,arguments)}}(),O=function(e,r){var n={val:0,id:0};e.forEach((function(e){if(!(0===e.id||e.id>5)){var r=parseInt(function(e){for(var r=v(e),n=j(e,r),a=["0","0","0","0","0"],t=0,c=4,i=0,s=-1;t<5;){var u=r.indexOf(c,s+1);-1===u?(c-=1,s=-1):(a[i]=u.toString(14),i+=1,t+=c,s=u)}return"".concat(n).concat(a.reduce((function(e,r){return"".concat(e).concat(r)})))}(e.hands[0].cards),14);r>n.val&&(n={val:r,id:e.id})}})),e.forEach((function(e){0===e.id||e.id>5||(e.id===n.id?r(e.id,"win",20):r(e.id,"lose",-5))}))},y=n(5),g=function(e,r,n,a,t,c){var s=i.a.useCallback(Object(b.a)(p.a.mark((function r(){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.d)());case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),console.error(r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])}))),[e]),u=i.a.useCallback(function(){var r=Object(b.a)(p.a.mark((function r(n,a){var t,c;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=a.id,c=a.hands,r.next=4,e(Object(h.g)(c,t,n));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e,n){return r.apply(this,arguments)}}(),[e]),o=i.a.useCallback((function(r,n,a){e(Object(h.d)(r,n,a))}),[e]),l=i.a.useCallback(function(){var r=Object(b.a)(p.a.mark((function r(n,a){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.c)());case 3:return r.next=5,Object(f.a)(n,function(){var e=Object(b.a)(p.a.mark((function e(r,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a<=n&&n<5)){e.next=3;break}return e.next=3,m(r,u);case 3:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}());case 5:O(n,o),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e,n){return r.apply(this,arguments)}}(),[e,u,o]),j=function(){var e=Object(b.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n[a]||{isBot:!1},t||c||!r.isBot){e.next=5;break}return e.next=5,l(n,a);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=i.a.useCallback(function(){var r=Object(b.a)(p.a.mark((function r(n){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.e)(n));case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),console.error(r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})));return function(e){return r.apply(this,arguments)}}(),[e]),x=i.a.useCallback(function(){var r=Object(b.a)(p.a.mark((function r(n){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e(Object(d.f)());case 3:return r.next=5,k.a.shuffle().then((function(){Object(f.a)(n,function(){var r=Object(b.a)(p.a.mark((function r(n){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0!==n.id&&n.id<=5)){r.next=9;break}return r.prev=1,r.next=4,e(Object(h.c)(n.id,5));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),console.error(r.t0);case 9:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}())}));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}(),[e]),g=i.a.useCallback(function(){var r=Object(b.a)(p.a.mark((function r(n,a,t){return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u(t,n[a]);case 3:return r.next=5,e(Object(d.b)());case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e,n,a){return r.apply(this,arguments)}}(),[e,u]);return{checkUpdate:j,handleGameFunctionClick:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===y.d.DISCARD_CARDS?4:e.t0===y.d.END_TURN?7:e.t0===y.d.NEW_GAME?10:e.t0===y.d.START_GAME?13:16;break;case 4:return e.next=6,g(n,a,r);case 6:return e.abrupt("break",17);case 7:return e.next=9,s();case 9:return e.abrupt("break",17);case 10:return e.next=12,v(n);case 12:return e.abrupt("break",17);case 13:return e.next=15,x(n);case 15:return e.abrupt("break",17);case 16:console.error("Unknown Game Function: ",t);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),console.error(e.t1);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(r){return e.apply(this,arguments)}}()}},w=n(4),H=function(){var e=Object(u.c)((function(e){return Object(t.a)({turn:e.turn,players:e.players},e.poker)})),r=e.turn,n=e.players,c=e.cardsToDiscard,l=e.gameFunctions,p=e.gameOver,b=e.hideHands,f=Object(u.b)(),h=i.a.useCallback((function(e,r,n){var t=Object(a.a)(c),i=t.indexOf(n);-1===i?t.push(n):t.splice(i,1),f(Object(d.g)(t))}),[c,f]),k=g(f,c,n,r.player,b,p),j=k.checkUpdate,v=k.handleGameFunctionClick;return j(),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(s.a,{variant:"h2",gutterBottom:!0,children:"5 Card Draw Poker"}),Object(w.jsx)(o.a,{cardClickHandler:h,cardsToDiscard:c,gameFunctions:l,onClick:v,gameOver:p,hideHands:b,isBlackJack:!1,players:n,turn:r})]})}}}]);
//# sourceMappingURL=g_poker.50bcf996.chunk.js.map