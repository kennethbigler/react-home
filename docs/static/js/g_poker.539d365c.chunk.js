(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[10],{298:function(a,e,n){"use strict";var r=n(0),t=n.n(r),c=n(1),i=n(726),s=n(177),l=n.n(s),u=n(166),o=n.n(u),d=n(56),f=n.n(d),m=n(142),p=n.n(m),k=n(679),h=n(243),b=n(389),y=n.n(b),v={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},g=t.a.memo((function(a){var e=a.dropped,n=a.suit,r=a.name,i=a.cardHandler,s=a.playerNo,l=a.handNo,u=a.cardNo,o=t.a.useCallback((function(){i&&i(s,l,u)}),[i,u,l,s]),d={color:"\u2663"===n||"\u2660"===n?"black":p.a[500],backgroundColor:e?p.a[100]:"white"};return t.a.createElement("div",{style:Object(c.a)({},v.cardFace,{},d),onClick:o,role:"main"},t.a.createElement("div",{style:v.cardTitle},r+n),t.a.createElement(k.a,{variant:"h4",style:Object(c.a)({},v.suit,{},d)},n))})),x={fontWeight:"bold",marginTop:"0.5em"},E={fontWeight:"normal",marginTop:"0.5em"},w=function(a){var e=a.cardHandler,n=a.cardsToDiscard,r=a.hand,i=a.handNo,s=a.isBlackJack,l=a.isHandTurn,u=a.isMultiHand,o=a.isPlayerTurn,d=a.playerNo,f=t.a.useMemo((function(){return o&&(!u||u&&l)?Object(c.a)({},x,{color:y.a[700]}):E}),[o,u,l]),m=r.weight||0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(k.a,{variant:"h4",style:f},s&&"".concat(m>21?"Bust":"Hand",": ").concat(m)),r.cards.map((function(a,r){var c=n.includes(r);return t.a.createElement(g,{key:a.name+a.suit,cardHandler:e,cardNo:r,dropped:c,handNo:i,name:a.name,playerNo:d,suit:a.suit})})))},H={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}},O=function(a){var e=a.betHandler,n=a.cardHandler,r=a.cardsToDiscard,s=a.hideHands,u=a.isBlackJack,d=a.player,m=a.playerNo,b=a.turn,y=!!b&&m===b.player,v=d.hands.length>1,g=!!s&&u&&0!==d.id&&!d.isBot,x=Math.max(Math.min(d.money,5),0),E=Math.max(Math.min(d.money,100),10),O=t.a.useCallback((function(a,n){e&&e(d.id,a,n)}),[e,d.id]),C=y?{background:l.a[200]}:{},T=y?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===d.status&&(C={background:o.a[300]}),"draw"===d.status&&(C={background:f.a[300]}),"lose"===d.status&&(C={background:p.a[300]}),t.a.createElement(h.a,{style:Object(c.a)({},H.player,{},C)},t.a.createElement(k.a,{variant:"h4",style:Object(c.a)({},T)},"".concat(d.name,": $").concat(d.money)),g&&t.a.createElement(i.a,{max:E,min:x,onChange:O,step:5,style:H.width,value:d.bet}),u&&0!==d.id&&t.a.createElement(k.a,{variant:"h5"},"Bet: $".concat(d.bet)),d.hands.map((function(a,e){var c=!!b&&b.hand===e;return t.a.createElement("div",{key:"hand".concat(e)},!s&&t.a.createElement(w,{cardHandler:n,cardsToDiscard:r,hand:a,handNo:e,isBlackJack:u,isHandTurn:c,isMultiHand:v,isPlayerTurn:y,playerNo:m}))})))},C=function(a){var e=a.betHandler,n=a.cardHandler,r=a.cardsToDiscard,c=a.hideHands,i=a.isBlackJack,s=a.players,l=a.turn;return t.a.createElement(t.a.Fragment,null,s.map((function(a,s){return t.a.createElement(O,{key:"player".concat(s),betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:c,isBlackJack:i,player:a,playerNo:s,turn:l})})))},T=n(674),j={margin:12},F=t.a.memo((function(a){var e=a.onClick,n=a.name;return t.a.createElement(T.a,{color:"primary",onClick:function(){return e(n)},style:j,variant:"contained"},n)})),B=function(a){var e=a.gameFunctions,n=a.onClick;return t.a.createElement("div",null,e.map((function(a){return t.a.createElement(F,{key:a,onClick:n,name:a})})))},D=function(a){var e=a.betHandler,n=a.cardClickHandler,r=a.cardsToDiscard,c=a.gameFunctions,i=a.gameOver,s=a.hideHands,l=a.isBlackJack,u=a.players,o=a.turn,d=a.onClick,f=t.a.useMemo((function(){return u.slice(0,o.player+1)}),[u,o.player]),m=t.a.useMemo((function(){return u.slice(o.player+1)}),[u,o.player]),p=t.a.useMemo((function(){return s||!1!==i?u:u.slice(o.player,o.player+1)}),[s,i,u,o.player]);return t.a.createElement(t.a.Fragment,null,l&&!s?t.a.createElement(t.a.Fragment,null,t.a.createElement(C,{players:f,betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:s,isBlackJack:l,turn:o}),t.a.createElement(B,{gameFunctions:c,onClick:d}),t.a.createElement(C,{players:m,betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:s,isBlackJack:l,turn:{player:-1,hand:-1}})):t.a.createElement(t.a.Fragment,null,t.a.createElement(C,{players:p,betHandler:e,cardHandler:n,cardsToDiscard:r,hideHands:s,isBlackJack:l,turn:o}),t.a.createElement(B,{gameFunctions:c,onClick:d})))};D.defaultProps={cardsToDiscard:[],gameFunctions:[],gameOver:!1,hideHands:!1,isBlackJack:!0};var N=D;e.a=N},714:function(a,e,n){"use strict";n.r(e);var r=n(10),t=n(1),c=n(0),i=n.n(c),s=n(679),l=n(30),u=n(298),o=n(61),d=n(4),f=n.n(d),m=n(59),p=n(8),k=n(20),h=function(a,e){if(e.includes(4))return 7;var n=e.includes(3),r=e.indexOf(2),t=-1!==r;if(n&&t)return 6;if(n)return 3;if(t&&e.includes(2,r+1))return 2;if(t)return 1;for(var c=e.lastIndexOf(1)-e.indexOf(1)===4||e[12]&&e[0]&&e[1]&&e[2]&&e[3],i=!0,s=0;s<a.length;s+=1)if(a[s].suit!==a[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},b=function(a){var e=[0,0,0,0,0,0,0,0,0,0,0,0,0];return a.forEach((function(a){e[(a.weight||2)-2]+=1})),e},y=function(a){for(var e=b(a),n=h(a,e),r=["0","0","0","0","0"],t=0,c=4,i=0,s=-1;t<5;){var l=e.indexOf(c,s+1);-1===l?(c-=1,s=-1):(r[i]=l.toString(14),i+=1,t+=c,s=l)}return"".concat(n).concat(r.reduce((function(a,e){return"".concat(a).concat(e)})))},v=function(a,e,n){for(var r=[],t=[e.indexOf(1)],c=1;c<a;c+=1)t[c]=e.indexOf(1,t[c-1]+1);for(var i=0;i<n.length;i+=1)for(var s=0;s<t.length;s+=1)if(n[i].weight-2===t[s]){r.push(i);break}return r},g=n(2),x=function(a,e,n,r,t,c){var s=i.a.useCallback((function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(a(Object(o.d)()));case 2:case"end":return e.stop()}}))}),[a]),l=i.a.useCallback((function(e,n){var r,t;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=n.id,t=n.hands,c.next=3,f.a.awrap(a(Object(p.g)(t,r,e)));case 3:case"end":return c.stop()}}))}),[a]),u=i.a.useCallback((function(a){var e,n,r,t,c,i;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:e=a.hands[0].cards,n=b(e),r=h(e,n),s.t0=r,s.next=0===s.t0?6:1===s.t0?10:2===s.t0?14:3===s.t0?14:4===s.t0?18:5===s.t0?18:6===s.t0?18:7===s.t0?18:(s.t0,18);break;case 6:return t=n.lastIndexOf(1)>=11?v(4,n,e):[0,1,2,3,4],s.next=9,f.a.awrap(l(t,a));case 9:return s.abrupt("break",19);case 10:return c=v(3,n,e),s.next=13,f.a.awrap(l(c,a));case 13:return s.abrupt("break",19);case 14:return i=v(1,n,e),s.next=17,f.a.awrap(l(i,a));case 17:case 18:return s.abrupt("break",19);case 19:case"end":return s.stop()}}))}),[l]),d=i.a.useCallback((function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(a(Object(o.c)()));case 2:return t.next=4,f.a.awrap(Object(m.a)(n,(function(a,e){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r<=e&&e<5)){n.next=3;break}return n.next=3,f.a.awrap(u(a));case 3:case"end":return n.stop()}}))})));case 4:e={val:0,id:0},n.forEach((function(a){if(!(0===a.id||a.id>5)){var n=parseInt(y(a.hands[0].cards),14);n>e.val&&(e={val:n,id:a.id})}})),n.forEach((function(n){0===n.id||n.id>5||(n.id===e.id?a(Object(p.d)(n.id,"win",20)):a(Object(p.d)(n.id,"lose",-5)))}));case 7:case"end":return t.stop()}}))}),[u,a,n,r]),x=i.a.useCallback((function(){var a;return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n[r]||{isBot:!1},t||c||!a.isBot){e.next=4;break}return e.next=4,f.a.awrap(d());case 4:case"end":return e.stop()}}))}),[d,n,c,t,r]),E=i.a.useCallback((function(){a(Object(o.e)(n))}),[a,n]),w=i.a.useCallback((function(){a(Object(o.f)()),k.a.shuffle().then((function(){Object(m.a)(n,(function(e){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(0!==e.id&&e.id<=5)){n.next=3;break}return n.next=3,f.a.awrap(a(Object(p.c)(e.id,5)));case 3:case"end":return n.stop()}}))}))}))}),[a,n]),H=i.a.useCallback((function(){l(e,n[r]),a(Object(o.b)())}),[l,a,n,r,e]);return{checkUpdate:x,handleGameFunctionClick:i.a.useCallback((function(a){switch(a){case g.d.DISCARD_CARDS:H();break;case g.d.END_TURN:s();break;case g.d.NEW_GAME:E();break;case g.d.START_GAME:w();break;default:console.error("Unknown Game Function: ",a)}}),[s,H,E,w])}},E=function(){var a=Object(l.c)((function(a){return Object(t.a)({turn:a.turn,players:a.players},a.poker)})),e=a.turn,n=a.players,c=a.cardsToDiscard,d=a.gameFunctions,f=a.gameOver,m=a.hideHands,p=Object(l.b)(),k=i.a.useCallback((function(a,e,n){var t=Object(r.a)(c),i=t.indexOf(n);-1===i?t.push(n):t.splice(i,1),p(Object(o.g)(t))}),[c,p]),h=x(p,c,n,e.player,m,f),b=h.checkUpdate,y=h.handleGameFunctionClick;return b(),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"h2",gutterBottom:!0},"5 Card Draw Poker"),i.a.createElement(u.a,{cardClickHandler:k,cardsToDiscard:c,gameFunctions:d,onClick:y,gameOver:f,hideHands:m,isBlackJack:!1,players:n,turn:e}))};e.default=E}}]);
//# sourceMappingURL=g_poker.539d365c.chunk.js.map