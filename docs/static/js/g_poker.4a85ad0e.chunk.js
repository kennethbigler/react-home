(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[11],{335:function(e,a,r){"use strict";r.d(a,"a",(function(){return J}));var t=r(0),n=r.n(t),c=r(1),s=r(743),i=r(33),o=r.n(i),l=r(165),d=r.n(l),u=r(61),b=r.n(u),p=r(143),h=r.n(p),k=r(674),j=r(287),x=r(422),f=r.n(x);var v={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",marginTop:5,textAlign:"center",width:"100%"}},m=r(5);var O=n.a.memo((e=>{const a=e.dropped,r=e.suit,t=e.name,s=e.cardHandler,i=e.playerNo,o=e.handNo,l=e.cardNo,d=n.a.useCallback((()=>{s&&s(i,o,l)}),[s,l,o,i]),u={color:"\u2663"===r||"\u2660"===r?"black":h.a[500],backgroundColor:a?h.a[100]:"white"};return Object(m.jsxs)("div",{style:Object(c.a)(Object(c.a)({},v.cardFace),u),onClick:d,role:"main",children:[Object(m.jsx)("div",{style:v.cardTitle,children:t+r}),Object(m.jsx)(k.a,{variant:"h4",style:Object(c.a)(Object(c.a)({},v.suit),u),children:r})]})}));const y={fontWeight:"bold",marginTop:"0.5em"},g={fontWeight:"normal",marginTop:"0.5em"};var w=e=>{const a=e.cardHandler,r=e.cardsToDiscard,t=e.hand,s=e.handNo,i=e.isBlackJack,o=e.isHandTurn,l=e.isMultiHand,d=e.isPlayerTurn,u=e.playerNo,b=n.a.useMemo((()=>d&&(!l||l&&o)?Object(c.a)(Object(c.a)({},y),{},{color:f.a[700]}):g),[d,l,o]),p=t.weight||0;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(k.a,{variant:"h4",style:b,children:i&&"".concat(p>21?"Bust":"Hand",": ").concat(p)}),t.cards.map(((e,t)=>{const n=r.includes(t);return Object(m.jsx)(O,{cardHandler:a,cardNo:t,dropped:n,handNo:s,name:e.name,playerNo:u,suit:e.suit},e.name+e.suit)}))]})};var H={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}};var C=e=>{const a=e.betHandler,r=e.cardHandler,t=e.cardsToDiscard,i=e.hideHands,l=e.isBlackJack,u=e.player,p=e.playerNo,x=e.turn,f=!!x&&p===x.player,v=u.hands.length>1,O=!!i&&l&&0!==u.id&&!u.isBot,y=Math.max(Math.min(u.money,5),0),g=Math.max(Math.min(u.money,100),10),C=n.a.useCallback(((e,r)=>{a&&a(u.id,e,r)}),[a,u.id]);let T=f?{background:o.a[200]}:{};const F=f?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===u.status&&(T={background:d.a[300]}),"draw"===u.status&&(T={background:b.a[300]}),"lose"===u.status&&(T={background:h.a[300]}),Object(m.jsxs)(j.a,{style:Object(c.a)(Object(c.a)({},H.player),T),children:[Object(m.jsx)(k.a,{variant:"h4",style:Object(c.a)({},F),children:"".concat(u.name,": $").concat(u.money)}),O&&Object(m.jsx)(s.a,{max:g,min:y,onChange:C,step:5,style:H.width,value:u.bet}),l&&0!==u.id&&Object(m.jsx)(k.a,{variant:"h5",children:"Bet: $".concat(u.bet)}),u.hands.map(((e,a)=>{const n=!!x&&x.hand===a;return Object(m.jsx)("div",{children:!i&&Object(m.jsx)(w,{cardHandler:r,cardsToDiscard:t,hand:e,handNo:a,isBlackJack:l,isHandTurn:n,isMultiHand:v,isPlayerTurn:f,playerNo:p})},"hand".concat(a))}))]})};var T=e=>{const a=e.betHandler,r=e.cardHandler,t=e.cardsToDiscard,n=e.hideHands,c=e.isBlackJack,s=e.players,i=e.turn;return Object(m.jsx)(m.Fragment,{children:s.map(((e,s)=>Object(m.jsx)(C,{betHandler:a,cardHandler:r,cardsToDiscard:t,hideHands:n,isBlackJack:c,player:e,playerNo:s,turn:i},"player".concat(s))))})},F=r(669);const B={margin:12};var D=n.a.memo((({onClick:e,name:a})=>Object(m.jsx)(F.a,{color:"primary",onClick:()=>e(a),style:B,variant:"contained",children:a})));var N=({gameFunctions:e,onClick:a})=>Object(m.jsx)("div",{children:e.map((e=>Object(m.jsx)(D,{onClick:a,name:e},e)))});var J=e=>{const a=e.betHandler,r=e.cardClickHandler,t=e.cardsToDiscard,c=void 0===t?[]:t,s=e.gameFunctions,i=void 0===s?[]:s,o=e.gameOver,l=void 0!==o&&o,d=e.hideHands,u=void 0!==d&&d,b=e.isBlackJack,p=void 0===b||b,h=e.players,k=e.turn,j=e.onClick,x=n.a.useMemo((()=>h.slice(0,k.player+1)),[h,k.player]),f=n.a.useMemo((()=>h.slice(k.player+1)),[h,k.player]),v=n.a.useMemo((()=>u||!1!==l?h:h.slice(k.player,k.player+1)),[u,l,h,k.player]);return Object(m.jsx)(m.Fragment,{children:p&&!u?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T,{players:x,betHandler:a,cardHandler:r,cardsToDiscard:c,hideHands:u,isBlackJack:p,turn:k}),Object(m.jsx)(N,{gameFunctions:i,onClick:j}),Object(m.jsx)(T,{players:f,betHandler:a,cardHandler:r,cardsToDiscard:c,hideHands:u,isBlackJack:p,turn:{player:-1,hand:-1}})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T,{players:v,betHandler:a,cardHandler:r,cardsToDiscard:c,hideHands:u,isBlackJack:p,turn:k}),Object(m.jsx)(N,{gameFunctions:i,onClick:j})]})})}},726:function(e,a,r){"use strict";r.r(a),r.d(a,"default",(function(){return g}));var t=r(1),n=r(0),c=r.n(n),s=r(674),i=r(31),o=r(335),l=r(64),d=r(7),u=r.n(d),b=r(13),p=r(62),h=r(10),k=r(19);const j=(e,a)=>{if(a.includes(4))return 7;const r=a.includes(3),t=a.indexOf(2),n=-1!==t;if(r&&n)return 6;if(r)return 3;if(n&&a.includes(2,t+1))return 2;if(n)return 1;const c=a.lastIndexOf(1)-a.indexOf(1)===4||a[12]&&a[0]&&a[1]&&a[2]&&a[3];let s=!0;for(let i=0;i<e.length;i+=1)if(e[i].suit!==e[0].suit){s=!1;break}return c&&s?8:s?5:c?4:0},x=e=>{const a=[0,0,0,0,0,0,0,0,0,0,0,0,0];return e.forEach((e=>{a[e.weight-2]+=1})),a},f=e=>{const a=x(e),r=j(e,a),t=["0","0","0","0","0"];let n=0,c=4,s=0,i=-1;for(;n<5;){const e=a.indexOf(c,i+1);-1===e?(c-=1,i=-1):(t[s]=e.toString(14),s+=1,n+=c,i=e)}return"".concat(r).concat(t.reduce(((e,a)=>"".concat(e).concat(a))))},v=(e,a,r)=>{const t=[],n=[a.indexOf(1)];for(let c=1;c<e;c+=1)n[c]=a.indexOf(1,n[c-1]+1);for(let c=0;c<r.length;c+=1)for(let e=0;e<n.length;e+=1)if(r[c].weight-2===n[e]){t.push(c);break}return t};var m=r(3);var O=(e,a,r,t,n,s)=>{const i=c.a.useCallback(Object(b.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e(Object(l.d)());case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),console.error(a.t0);case 8:case"end":return a.stop()}}),a,null,[[0,5]])}))),[e]),o=c.a.useCallback(function(){var a=Object(b.a)(u.a.mark((function a(r,t){var n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.id,c=t.hands,a.next=4,e(Object(h.g)(c,n,r));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.error(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e,r){return a.apply(this,arguments)}}(),[e]),d=c.a.useCallback(function(){var e=Object(b.a)(u.a.mark((function e(a){var r,t,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=a.hands[0].cards,t=x(r),n=j(r,t),e.t0=n,e.next=0===e.t0?7:1===e.t0?11:2===e.t0||3===e.t0?15:(4===e.t0||5===e.t0||6===e.t0||7===e.t0||e.t0,19);break;case 7:return c=t.lastIndexOf(1)>=11?v(4,t,r):[0,1,2,3,4],e.next=10,o(c,a);case 10:return e.abrupt("break",20);case 11:return c=v(3,t,r),e.next=14,o(c,a);case 14:return e.abrupt("break",20);case 15:return c=v(1,t,r),e.next=18,o(c,a);case 18:case 19:return e.abrupt("break",20);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),console.error(e.t1);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(a){return e.apply(this,arguments)}}(),[o]),O=c.a.useCallback(Object(b.a)(u.a.mark((function a(){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e(Object(l.c)());case 3:return a.next=5,Object(p.a)(r,function(){var e=Object(b.a)(u.a.mark((function e(a,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<=r&&r<5)){e.next=3;break}return e.next=3,d(a);case 3:case"end":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}());case 5:n={val:0,id:0},r.forEach((e=>{if(0===e.id||e.id>5)return;const a=parseInt(f(e.hands[0].cards),14);a>n.val&&(n={val:a,id:e.id})})),r.forEach((a=>{0===a.id||a.id>5||(a.id===n.id?e(Object(h.d)(a.id,"win",20)):e(Object(h.d)(a.id,"lose",-5)))})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])}))),[d,e,r,t]),y=c.a.useCallback(Object(b.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=r[t]||{isBot:!1},n||s||!a.isBot){e.next=5;break}return e.next=5,O();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[O,r,s,n,t]),g=c.a.useCallback(Object(b.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e(Object(l.e)(r));case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),console.error(a.t0);case 8:case"end":return a.stop()}}),a,null,[[0,5]])}))),[e,r]),w=c.a.useCallback(Object(b.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e(Object(l.f)());case 3:return a.next=5,k.a.shuffle().then((()=>{Object(p.a)(r,function(){var a=Object(b.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(0!==r.id&&r.id<=5)){a.next=9;break}return a.prev=1,a.next=4,e(Object(h.c)(r.id,5));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),console.error(a.t0);case 9:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(e){return a.apply(this,arguments)}}())}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])}))),[e,r]),H=c.a.useCallback(Object(b.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o(a,r[t]);case 3:return n.next=5,e(Object(l.b)());case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),[o,e,r,t,a]);return{checkUpdate:y,handleGameFunctionClick:c.a.useCallback(function(){var e=Object(b.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=a,e.next=e.t0===m.d.DISCARD_CARDS?4:e.t0===m.d.END_TURN?7:e.t0===m.d.NEW_GAME?10:e.t0===m.d.START_GAME?13:16;break;case 4:return e.next=6,H();case 6:return e.abrupt("break",17);case 7:return e.next=9,i();case 9:return e.abrupt("break",17);case 10:return e.next=12,g();case 12:return e.abrupt("break",17);case 13:return e.next=15,w();case 15:return e.abrupt("break",17);case 16:console.error("Unknown Game Function: ",a);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(0),console.error(e.t1);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(a){return e.apply(this,arguments)}}(),[i,H,g,w])}},y=r(5);var g=()=>{const e=Object(i.c)((e=>Object(t.a)({turn:e.turn,players:e.players},e.poker))),a=e.turn,r=e.players,n=e.cardsToDiscard,d=e.gameFunctions,u=e.gameOver,b=e.hideHands,p=Object(i.b)(),h=c.a.useCallback(((e,a,r)=>{const t=[...n],c=t.indexOf(r);-1===c?t.push(r):t.splice(c,1),p(Object(l.g)(t))}),[n,p]),k=O(p,n,r,a.player,b,u),j=k.checkUpdate,x=k.handleGameFunctionClick;return j(),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(s.a,{variant:"h2",gutterBottom:!0,children:"5 Card Draw Poker"}),Object(y.jsx)(o.a,{cardClickHandler:h,cardsToDiscard:n,gameFunctions:d,onClick:x,gameOver:u,hideHands:b,isBlackJack:!1,players:r,turn:a})]})}}}]);
//# sourceMappingURL=g_poker.4a85ad0e.chunk.js.map