(this["webpackJsonpreact-home"]=this["webpackJsonpreact-home"]||[]).push([[13],{428:function(e,a,r){"use strict";var t=r(0),n=r.n(t),c=r(31),i=r.n(c),s=r(17),o=r(832),d=r(327),l=r.n(d),u=r(315),p=r.n(u),m=r(85),f=r.n(m),y=r(279),h=r.n(y),g=r(782),b=r(386),v=r(509),O=r.n(v),k=r(286),H=r.n(k),w={cardFace:{backgroundColor:"white",borderRadius:5,cursor:"pointer",display:"inline-block",fontWeight:"bold",height:78,margin:5,padding:3,width:50},cardTitle:{textAlign:"left"},suit:{margin:"auto",maxWidth:30,textAlign:"center",width:"100%"}};function j(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function D(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?j(r,!0).forEach((function(a){Object(s.a)(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var E=Object(t.memo)((function(e){var a=e.dropped,r=e.suit,t=e.name,c={color:"\u2663"===r||"\u2660"===r?"black":h.a[500],backgroundColor:a?h.a[100]:"white"};return n.a.createElement("div",{style:D({},w.cardFace,{},c),onClick:function(){var a=e.cardHandler,r=e.playerNo,t=e.handNo,n=e.cardNo;a&&a(r,t,n)},role:"main"},n.a.createElement("div",{style:w.cardTitle},t+r),n.a.createElement(g.a,{variant:"h3",style:D({},w.suit,{},c)},r))}));function T(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function P(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?T(r,!0).forEach((function(a){Object(s.a)(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(r).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var x=function(e){var a=e.cardHandler,r=e.cardsToDiscard,t=e.hand,c=e.handNo,s=e.isBlackJack,o=e.isHandTurn,d=e.isMultiHand,l=e.isPlayerTurn,u=e.playerNo,p=o&&d&&l||!d&&l?{fontWeight:"bold",color:O.a[700]}:{fontWeight:"normal"},m=t.weight||!1;return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{variant:"h4",style:P({},p,{marginTop:"0.5em"})},s&&(m>21?"Bust: ":"Hand Weight: ")+t.weight),i()(t.cards,(function(e,t){var i=H()(r,t);return n.a.createElement(E,{key:e.name+e.suit,cardHandler:a,cardNo:t,dropped:i,handNo:c,name:e.name,playerNo:u,suit:e.suit})})))},F={player:{borderRadius:5,display:"inline-block",margin:10,padding:20},width:{minWidth:"100px"}};function N(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function S(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?N(r,!0).forEach((function(a){Object(s.a)(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var C=function(e){var a=e.betHandler,r=e.cardHandler,t=e.cardsToDiscard,c=e.hideHands,s=e.isBlackJack,d=e.player,u=e.playerNo,m=e.turn,y=!!m&&u===m.player,v=d.hands.length>1,O=!!c&&s&&0!==d.id&&!d.isBot,k=Math.max(Math.min(d.money,5),0),H=Math.max(Math.min(d.money,100),10),w=y?{background:l.a[200]}:{},j=y?{fontWeight:"bold"}:{fontWeight:"normal"};return"win"===d.status&&(w={background:p.a[300]}),"draw"===d.status&&(w={background:f.a[300]}),"lose"===d.status&&(w={background:h.a[300]}),n.a.createElement(b.a,{style:S({},F.player,{},w)},n.a.createElement(g.a,{variant:"h4",style:S({},j)},"".concat(d.name,": $").concat(d.money)),O&&n.a.createElement(o.a,{max:H,min:k,onChange:function(e,r){a&&a(d.id,e,r)},step:5,style:F.width,value:d.bet}),s&&0!==d.id&&n.a.createElement(g.a,{variant:"h5"},"Bet: $",d.bet),i()(d.hands,(function(e,a){var i=!!m&&m.hand===a;return n.a.createElement("div",{key:"hand".concat(a)},!c&&n.a.createElement(x,{cardHandler:r,cardsToDiscard:t,hand:e,handNo:a,isBlackJack:s,isHandTurn:i,isMultiHand:v,isPlayerTurn:y,playerNo:u}))})))},B=function(e){var a=e.betHandler,r=e.cardHandler,t=e.cardsToDiscard,c=e.hideHands,s=e.isBlackJack,o=e.players,d=e.turn;return n.a.createElement(n.a.Fragment,null,i()(o,(function(e,i){return n.a.createElement(C,{key:"player".concat(i),betHandler:a,cardHandler:r,cardsToDiscard:t,hideHands:c,isBlackJack:s,player:e,playerNo:i,turn:d})})))},G=r(777),J=Object(t.memo)((function(e){var a=e.func,r=e.name;return n.a.createElement(G.a,{color:"primary",onClick:a,style:{margin:12},variant:"contained"},r)})),A=function(e){var a=e.gameFunctions;return n.a.createElement("div",null,i()(a,(function(e){return n.a.createElement(J,{key:e.name,func:e.func,name:e.name})})))},W=function(e){var a=e.betHandler,r=e.cardClickHandler,t=e.cardsToDiscard,c=e.gameFunctions,i=e.gameOver,s=e.hideHands,o=e.isBlackJack,d=e.players,l=e.turn,u=d.slice(0,l.player+1),p=d.slice(l.player+1),m=s||!1!==i?d:d.slice(l.player,l.player+1);return n.a.createElement(n.a.Fragment,null,o&&!s?n.a.createElement(n.a.Fragment,null,n.a.createElement(B,{players:u,betHandler:a,cardHandler:r,cardsToDiscard:t,hideHands:s,isBlackJack:o,turn:l}),n.a.createElement(A,{gameFunctions:c}),n.a.createElement(B,{players:p,betHandler:a,cardHandler:r,cardsToDiscard:t,hideHands:s,isBlackJack:o,turn:l})):n.a.createElement(n.a.Fragment,null,n.a.createElement(B,{players:m,betHandler:a,cardHandler:r,cardsToDiscard:t,hideHands:s,isBlackJack:o,turn:l}),n.a.createElement(A,{gameFunctions:c})))};W.defaultProps={isBlackJack:!0,hideHands:!1,gameOver:!1,cardsToDiscard:[]};var M=W;a.a=M},823:function(e,a,r){"use strict";r.r(a);var t=r(15),n=r.n(t),c=r(29),i=r(76),s=r(77),o=r(79),d=r(78),l=r(80),u=r(0),p=r.n(u),m=r(265),f=r.n(m),y=r(286),h=r.n(y),g=r(290),b=r.n(g),v=r(61),O=r.n(v),k=r(782),H=r(40),w=r(18),j=r(96),D=r(84),E=r(98),T=r(428),P=r(21),x=0,F=5,N=function(e){function a(e){var r;return Object(i.a)(this,a),(r=Object(o.a)(this,Object(d.a)(a).call(this,e))).setNewGameRedux=function(){var e=r.props,a=e.turnActions,t=e.playerActions,n=e.players;a.resetTurn(),f()(n,(function(e){return t.resetStatus(e.id)}))},r.getNewGameState=function(){return{gameFunctions:[{name:"Start Game",func:r.startGame}],cardsToDiscard:[],hideHands:!0,gameOver:!1}},r.getHand=function(){var e=r.props,a=e.turn,t=e.players;return O()(t[a.player],"hands[0].cards",null)},r.getHistogram=function(e){var a=[0,0,0,0,0,0,0,0,0,0,0,0,0];return f()(e,(function(e){a[O()(e,"weight",2)-2]+=1})),a},r.newGame=function(){r.setNewGameRedux(),r.setState(r.getNewGameState())},r.startGame=function(){r.setState({gameFunctions:[{name:"Discard Cards",func:r.handleDiscard}],hideHands:!1}),r.dealHands()},r.endTurn=function(){r.props.turnActions.incrPlayerTurn(),r.setState({gameFunctions:[{name:"Discard Cards",func:r.handleDiscard}],cardsToDiscard:[]})},r.endGame=function(){var e=r.props,a=e.players,t=e.playerActions,n={val:0,id:0};f()(a,(function(e){if(!(e.id===x||e.id>F)){var a=parseInt(r.evaluate(e.hands[0].cards),14);a>n.val&&(n={val:a,id:e.id})}})),f()(a,(function(e){e.id===x||e.id>F||(e.id===n.id?t.payout(e.id,"win",20):t.payout(e.id,"lose",-5))})),r.setState({gameFunctions:[{name:"New Game",func:r.newGame}],gameOver:!0})},r.rankHand=function(e,a){if(h()(a,4))return 7;var r=h()(a,3),t=a.indexOf(2),n=-1!==t;if(r&&n)return 6;if(r)return 3;if(n&&h()(a,2,t+1))return 2;if(n)return 1;for(var c=a.lastIndexOf(1)-a.indexOf(1)===4||a[12]&&a[0]&&a[1]&&a[2]&&a[3],i=!0,s=0;s<e.length;s+=1)if(e[s].suit!==e[0].suit){i=!1;break}return c&&i?8:i?5:c?4:0},r.discard=function(e){var a=r.props,t=a.turn,n=a.playerActions,c=a.players[t.player],i=c.id,s=c.hands;n.swapCards(s,i,e)},r.handleDiscard=function(){var e=r.state.cardsToDiscard;r.discard(e),r.setState({gameFunctions:[{name:"End Turn",func:r.endTurn}],cardsToDiscard:[]})},r.discardHelper=function(e,a){for(var t=r.getHand(),n=[],c=[a.indexOf(1)],i=1;i<e;i+=1)c[i]=a.indexOf(1,c[i-1]+1);for(var s=0;s<t.length;s+=1)for(var o=0;o<c.length;o+=1)if(t[s].weight-2===c[o]){n.push(s);break}r.discard(n)},r.computer=function(){var e=r.getHand(),a=r.getHistogram(e);switch(r.rankHand(e,a)){case 0:a.lastIndexOf(1)>=11?r.discardHelper(4,a):r.discard([0,1,2,3,4]);break;case 1:r.discardHelper(3,a);break;case 2:case 3:r.discardHelper(1,a)}r.endTurn()},r.cardClickHandler=function(e,a,t){var n=r.state.cardsToDiscard,c=n.indexOf(t);-1===c?n.push(t):n.splice(c,1),r.setState({cardsToDiscard:n})},r.evaluate=function(e){for(var a=r.getHistogram(e),t=r.rankHand(e,a),n=["0","0","0","0","0"],c=0,i=4,s=0,o=-1;c<5;){var d=a.indexOf(i,o+1);-1===d?(i-=1,o=-1):(n[s]=d.toString(14),s+=1,c+=i,o=d)}return"".concat(t).concat(b()(n,(function(e,a){return"".concat(e).concat(a)})))},r.dealHands=function(){var e=r.props,a=e.playerActions,t=e.players;P.a.shuffle().then((function(){Object(j.a)(t,function(){var e=Object(c.a)(n.a.mark((function e(r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.id!==x&&r.id<=F)){e.next=3;break}return e.next=3,a.newHand(r.id,5);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}))},r.setNewGameRedux(),r.state=r.getNewGameState(),r}return Object(l.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props,a=e.players,r=e.turn,t=this.state,n=t.hideHands,c=t.gameOver,i=a[r.player],s=i.id!==x&&i.id<=F;n||c||!i.isBot||(s?this.computer():this.endGame())}},{key:"render",value:function(){var e=this.props,a=e.turn,r=e.players,t=this.state,n=t.cardsToDiscard,c=t.gameFunctions,i=t.gameOver,s=t.hideHands;return p.a.createElement(p.a.Fragment,null,p.a.createElement(k.a,{variant:"h2",gutterBottom:!0},"5 Card Draw Poker"),p.a.createElement(T.a,{cardClickHandler:this.cardClickHandler,cardsToDiscard:n,gameFunctions:c,gameOver:i,hideHands:s,isBlackJack:!1,players:r,turn:a}))}}]),a}(u.Component);var S=Object(H.b)((function(e){return{turn:e.turn,players:e.players}}),(function(e){return{turnActions:Object(w.bindActionCreators)({incrPlayerTurn:E.c,resetTurn:E.d},e),playerActions:Object(w.bindActionCreators)({swapCards:D.g,newHand:D.c,payout:D.d,resetStatus:D.e},e)}}))(N);a.default=S}}]);
//# sourceMappingURL=g_poker.5c975db2.chunk.js.map